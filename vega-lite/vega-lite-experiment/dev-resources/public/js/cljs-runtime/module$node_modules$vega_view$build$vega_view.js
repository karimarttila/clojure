shadow$provide.module$node_modules$vega_view$build$vega_view=function(global$jscomp$0,require,module$jscomp$0,exports$jscomp$0){(function(global,factory){"object"===typeof exports$jscomp$0&&"undefined"!==typeof module$jscomp$0?factory(exports$jscomp$0,require("module$node_modules$vega_util$build$vega_util"),require("module$node_modules$vega_dataflow$build$vega_dataflow"),require("module$node_modules$vega_scenegraph$build$vega_scenegraph"),require("module$node_modules$d3_array$dist$d3_array"),require("module$node_modules$vega_functions$build$vega_functions"),
require("module$node_modules$vega_runtime$build$vega_runtime"),require("module$node_modules$d3_timer$dist$d3_timer"),require("module$node_modules$vega_format$build$vega_format")):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph d3-array vega-functions vega-runtime d3-timer vega-format".split(" "),factory):(global="undefined"!==typeof globalThis?globalThis:global||self,factory(global.vega={},global.vega,global.vega,global.vega,global.d3,global.vega,global.vega,
global.d3,global.vega))})(this,function(exports,vegaUtil,vegaDataflow,vegaScenegraph,d3Array,vegaFunctions,vegaRuntime,d3Timer,vegaFormat){function initializeAria(view){var el=view.container();el&&(el.setAttribute("role","graphics-document"),el.setAttribute("aria-roleDescription","visualization"),ariaLabel(el,view.description()))}function ariaLabel(el,desc){el&&(null==desc?el.removeAttribute("aria-label"):el.setAttribute("aria-label",desc))}function background(view){view.add(null,function(_){view._background=
_.bg;view._resize=1;return _.bg},{bg:view._signals.background})}function cursor$jscomp$0(view){var cursor=view._signals.cursor||(view._signals.cursor=view.add({user:"default",item:null}));view.on(view.events("view","mousemove"),cursor,function(_,event){var user=(_=cursor.value)?vegaUtil.isString(_)?_:_.user:"default";event=event.item&&event.item.cursor||null;return _&&user===_.user&&event==_.item?_:{user:user,item:event}});view.add(null,function(_){_=_.cursor;var item=this.value;vegaUtil.isString(_)||
(item=_.item,_=_.user);setCursor(view,_&&"default"!==_?_:item||_);return item},{cursor:cursor})}function setCursor(view,cursor){if(view=view.globalCursor()?"undefined"!==typeof document&&document.body:view.container())return null==cursor?view.style.removeProperty("cursor"):view.style.cursor=cursor}function dataref(view,name){view=view._runtime.data;vegaUtil.hasOwnProperty(view,name)||vegaUtil.error("Unrecognized data set: "+name);return view[name]}function change(name,changes){vegaDataflow.isChangeSet(changes)||
vegaUtil.error("Second argument to changes must be a changeset.");name=dataref(this,name);name.modified=!0;return this.pulse(name.input,changes)}function width$jscomp$0(view){var padding=view.padding();return Math.max(0,view._viewWidth+padding.left+padding.right)}function height$jscomp$0(view){var padding=view.padding();return Math.max(0,view._viewHeight+padding.top+padding.bottom)}function offset(view){var padding=view.padding();view=view._origin;return[padding.left+view[0],padding.top+view[1]]}
function resizeRenderer(view){var origin=offset(view),w=width$jscomp$0(view),h=height$jscomp$0(view);view._renderer.background(view.background());view._renderer.resize(w,h,origin);view._handler.origin(origin);view._resizeListeners.forEach(function(handler){try{handler(w,h)}catch(error){view.error(error)}})}function eventExtend(view,event,item){var r=view._renderer;r=r&&r.canvas();if(r){var translate=offset(view);var p=event.changedTouches?event.changedTouches[0]:event;p=vegaScenegraph.point(p,r);
p[0]-=translate[0];p[1]-=translate[1]}event.dataflow=view;event.item=item;event.vega=extension(view,item,p);return event}function extension(view,item$jscomp$0,point){function group(name){var g=itemGroup,i;if(name)for(i=item$jscomp$0;i;i=i.mark.group)if(i.mark.name===name){g=i;break}return g&&g.mark&&g.mark.interactive?g:{}}function xy(item){if(!item)return point;vegaUtil.isString(item)&&(item=group(item));for(var p=point.slice();item;)p[0]-=item.x||0,p[1]-=item.y||0,item=item.mark&&item.mark.group;
return p}var itemGroup=item$jscomp$0?"group"===item$jscomp$0.mark.marktype?item$jscomp$0:item$jscomp$0.mark.group:null;return{view:vegaUtil.constant(view),item:vegaUtil.constant(item$jscomp$0||{}),group:group,xy:xy,x:function(item){return xy(item)[0]},y:function(item){return xy(item)[1]}}}function initializeEventConfig(config){config=vegaUtil.extend({defaults:{}},config);var unpack=function(obj,keys){keys.forEach(function(k){vegaUtil.isArray(obj[k])&&(obj[k]=vegaUtil.toSet(obj[k]))})};unpack(config.defaults,
["prevent","allow"]);unpack(config,["view","window","selector"]);return config}function trackEventListener(view,sources,type,handler){view._eventListeners.push({type:type,sources:vegaUtil.array(sources),handler:handler})}function permit(view,key,type){var rule=view._eventConfig&&view._eventConfig[key];return!1===rule||vegaUtil.isObject(rule)&&!rule[type]?(view.warn("Blocked "+key+" "+type+" event listener."),!1):!0}function itemFilter(event){return event.item}function markTarget(event){return event.item.mark.source}
function invoke(name){return function(_,event){return event.vega.view().changeset().encode(event.item,name)}}function element(tag,attr,text){tag=document.createElement(tag);for(var key in attr)tag.setAttribute(key,attr[key]);null!=text&&(tag.textContent=text);return tag}function bind$jscomp$0(view,el,binding){if(el){var param=binding.param,bind=binding.state;bind||(bind=binding.state={elements:null,active:!1,set:null,update:function(value){value!=view.signal(param.signal)&&view.runAsync(null,function(){bind.source=
!0;view.signal(param.signal,value)})}},param.debounce&&(bind.update=vegaUtil.debounce(param.debounce,bind.update)));(null==param.input&&param.element?target:generate)(bind,el,param,view);bind.active||(view.on(view._signals[param.signal],null,function(){bind.source?bind.source=!1:bind.set(view.signal(param.signal))}),bind.active=!0);return bind}}function target(bind,node,param,view){var type=param.event||"input",handler=function(){return bind.update(node.value)};view.signal(param.signal,node.value);
node.addEventListener(type,handler);trackEventListener(view,node,type,handler);bind.set=function(value){node.value=value;node.dispatchEvent("undefined"!==typeof Event?new Event(type):{type:type})}}function generate(bind,el,param,view){view=view.signal(param.signal);var div=element("div",{"class":"vega-bind"}),wrapper="radio"===param.input?div:div.appendChild(element("label"));wrapper.appendChild(element("span",{"class":"vega-bind-name"},param.name||param.signal));el.appendChild(div);el=form;switch(param.input){case "checkbox":el=
checkbox;break;case "select":el=select;break;case "radio":el=radio;break;case "range":el=range}el(bind,wrapper,param,view)}function form(bind,el,param,value$jscomp$0){var node=element("input"),key;for(key in param)"signal"!==key&&"element"!==key&&node.setAttribute("input"===key?"type":key,param[key]);node.setAttribute("name",param.signal);node.value=value$jscomp$0;el.appendChild(node);node.addEventListener("input",function(){return bind.update(node.value)});bind.elements=[node];bind.set=function(value){return node.value=
value}}function checkbox(bind,el,param,value$jscomp$0){param={type:"checkbox",name:param.signal};value$jscomp$0&&(param.checked=!0);var node=element("input",param);el.appendChild(node);node.addEventListener("change",function(){return bind.update(node.checked)});bind.elements=[node];bind.set=function(value){return node.checked=!!value||null}}function select(bind,el,param,value$jscomp$0){var node=element("select",{name:param.signal}),labels=param.labels||[];param.options.forEach(function(option,i){var attr=
{value:option};valuesEqual(option,value$jscomp$0)&&(attr.selected=!0);node.appendChild(element("option",attr,(labels[i]||option)+""))});el.appendChild(node);node.addEventListener("change",function(){bind.update(param.options[node.selectedIndex])});bind.elements=[node];bind.set=function(value){for(var i=0,n=param.options.length;i<n;++i)if(valuesEqual(param.options[i],value)){node.selectedIndex=i;break}}}function radio(bind,el,param,value$jscomp$0){var group=element("span",{"class":"vega-bind-radio"}),
labels=param.labels||[];el.appendChild(group);bind.elements=param.options.map(function(option,i){var attr={type:"radio",name:param.signal,value:option};valuesEqual(option,value$jscomp$0)&&(attr.checked=!0);attr=element("input",attr);attr.addEventListener("change",function(){return bind.update(option)});i=element("label",{},(labels[i]||option)+"");i.prepend(attr);group.appendChild(i);return attr});bind.set=function(value){for(var nodes=bind.elements,n=nodes.length,i=0;i<n;++i)valuesEqual(nodes[i].value,
value)&&(nodes[i].checked=!0)}}function range(bind,el,param,value$jscomp$0){value$jscomp$0=void 0!==value$jscomp$0?value$jscomp$0:(+param.max+ +param.min)/2;var max=null!=param.max?param.max:Math.max(100,+value$jscomp$0)||100,min=param.min||Math.min(0,max,+value$jscomp$0)||0,step=param.step||d3Array.tickStep(min,max,100),node=element("input",{type:"range",name:param.signal,min:min,max:max,step:step});node.value=value$jscomp$0;var span=element("span",{},+value$jscomp$0);el.appendChild(node);el.appendChild(span);
el=function(){span.textContent=node.value;bind.update(+node.value)};node.addEventListener("input",el);node.addEventListener("change",el);bind.elements=[node];bind.set=function(value){node.value=value;span.textContent=value}}function valuesEqual(a,b){return a===b||a+""===b+""}function initializeRenderer(view,r,el,constructor,scaleFactor,opt){r=r||new constructor(view.loader());return r.initialize(el,width$jscomp$0(view),height$jscomp$0(view),offset(view),scaleFactor,opt).background(view.background())}
function trap(view,fn){return fn?function(){try{fn.apply(this,arguments)}catch(error){view.error(error)}}:null}function initializeHandler(view,prevHandler,el,constructor){var handler=(new constructor(view.loader(),trap(view,view.tooltip()))).scene(view.scenegraph().root).initialize(el,offset(view),view);prevHandler&&prevHandler.handlers().forEach(function(h){handler.on(h.type,h.handler)});return handler}function lookup(view,el,clear){if("string"===typeof el)if("undefined"!==typeof document){if(el=
document.querySelector(el),!el)return view.error("Signal bind element not found: "+el),null}else return view.error("DOM document instance not found."),null;if(el&&clear)try{el.innerHTML=""}catch(e){el=null,view.error(e)}return el}function padding$jscomp$0(_){vegaUtil.isObject(_)?_={top:+_.top||0,bottom:+_.bottom||0,left:+_.left||0,right:+_.right||0}:(_=+_||0,_={top:_,bottom:_,left:_,right:_});return _}function renderHeadless(view,type,scaleFactor,opt){var module,ctr;return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context){return 1==
$jscomp$generator$context.nextAddress?((ctr=(module=vegaScenegraph.renderModule(type))&&module.headless)||vegaUtil.error("Unrecognized renderer type: "+type),$jscomp$generator$context.yield(view.runAsync(),2)):$jscomp$generator$context.return(initializeRenderer(view,null,null,ctr,scaleFactor,opt).renderAsync(view._scenegraph.root))})}function toBlobURL(data,mime){data=new Blob([data],{type:mime});return window.URL.createObjectURL(data)}function runtime(view,spec,expr){return vegaRuntime.context(view,
vegaDataflow.transforms,vegaFunctions.functionContext,expr).parse(spec)}function viewWidth$jscomp$0(view,width){var a=view.autosize();view=view.padding();return width-(a&&"padding"===a.contains?view.left+view.right:0)}function viewHeight$jscomp$0(view,height){var a=view.autosize();view=view.padding();return height-(a&&"padding"===a.contains?view.top+view.bottom:0)}function initializeResize(view){function resetSize(){view._autosize=view._resize=1}var s=view._signals,w=s.width,h=s.height;s=s.padding;
view._resizeWidth=view.add(null,function(_){view._width=_.size;view._viewWidth=viewWidth$jscomp$0(view,_.size);resetSize()},{size:w});view._resizeHeight=view.add(null,function(_){view._height=_.size;view._viewHeight=viewHeight$jscomp$0(view,_.size);resetSize()},{size:h});var resizePadding=view.add(null,resetSize,{pad:s});view._resizeWidth.rank=w.rank+1;view._resizeHeight.rank=h.rank+1;resizePadding.rank=s.rank+1}function dataTest(name,data){return data.modified&&vegaUtil.isArray(data.input.value)&&
name.indexOf("_:vega:_")}function signalTest(name,op){return!("parent"===name||op instanceof vegaDataflow.transforms.proxy)}function defaultTooltip(handler,event,item,value){(handler=handler.element())&&handler.setAttribute("title",formatTooltip(value))}function formatTooltip(value){return null==value?"":vegaUtil.isArray(value)?"["+value.map(formatValue).join(", ")+"]":vegaUtil.isObject(value)&&!vegaUtil.isDate(value)?formatObject(value):value+""}function formatObject(obj){return Object.keys(obj).map(function(key){var v=
obj[key];return key+": "+(vegaUtil.isArray(v)?"["+v.map(formatValue).join(", ")+"]":formatValue(v))}).join("\n")}function formatValue(value){return vegaUtil.isArray(value)?"[…]":vegaUtil.isObject(value)&&!vegaUtil.isDate(value)?"{…}":value}function View(spec,options){options=options||{};vegaDataflow.Dataflow.call(this);options.loader&&this.loader(options.loader);options.logger&&this.logger(options.logger);null!=options.logLevel&&this.logLevel(options.logLevel);if(options.locale||spec.locale){var loc=
vegaUtil.extend({},spec.locale,options.locale);this.locale(vegaFormat.locale(loc.number,loc.time))}this._elBind=this._el=null;this._renderType=options.renderer||vegaScenegraph.RenderType.Canvas;this._scenegraph=new vegaScenegraph.Scenegraph;loc=this._scenegraph.root;this._renderer=null;this._tooltip=options.tooltip||defaultTooltip;this._redraw=!0;this._handler=(new vegaScenegraph.CanvasHandler).scene(loc);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=
[];this._eventConfig=initializeEventConfig(spec.eventConfig);this.globalCursor(this._eventConfig.globalCursor);var ctx=runtime(this,spec,options.expr);this._runtime=ctx;this._signals=ctx.signals;this._bind=(spec.bindings||[]).map(function(_){return{state:null,param:vegaUtil.extend({},_)}});ctx.root&&ctx.root.set(loc);loc.source=ctx.data.root.input;this.pulse(ctx.data.root.input,this.changeset().insert(loc.items));this._width=this.width();this._height=this.height();this._viewWidth=viewWidth$jscomp$0(this,
this._width);this._viewHeight=viewHeight$jscomp$0(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;initializeResize(this);background(this);cursor$jscomp$0(this);this.description(spec.description);options.hover&&this.hover();options.container&&this.initialize(options.container,options.bind)}function lookupSignal(view,name){return vegaUtil.hasOwnProperty(view._signals,name)?view._signals[name]:vegaUtil.error("Unrecognized signal name: "+vegaUtil.stringValue(name))}function findOperatorHandler(op$jscomp$0,
handler){op$jscomp$0=(op$jscomp$0._targets||[]).filter(function(op){return op._update&&op._update.handler===handler});return op$jscomp$0.length?op$jscomp$0[0]:null}function addOperatorListener(view,name,op,handler){var h=findOperatorHandler(op,handler);h||(h=trap(view,function(){return handler(name,op.value)}),h.handler=handler,view.on(op,null,h));return view}function removeOperatorListener(view,op,handler){(handler=findOperatorHandler(op,handler))&&op._targets.remove(handler);return view}var NO_TRAP=
{trap:!1},Skip={skip:!0};vegaUtil.inherits(View,vegaDataflow.Dataflow,{evaluate:function(encode,prerun,postrun){var $jscomp$async$this=this,e;return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context){switch($jscomp$generator$context.nextAddress){case 1:return $jscomp$generator$context.yield(vegaDataflow.Dataflow.prototype.evaluate.call($jscomp$async$this,encode,prerun),2);case 2:if(!$jscomp$async$this._redraw&&!$jscomp$async$this._resize){$jscomp$generator$context.jumpTo(3);
break}$jscomp$generator$context.setCatchFinallyBlocks(4);if(!$jscomp$async$this._renderer){$jscomp$generator$context.jumpTo(6);break}$jscomp$async$this._resize&&($jscomp$async$this._resize=0,resizeRenderer($jscomp$async$this));return $jscomp$generator$context.yield($jscomp$async$this._renderer.renderAsync($jscomp$async$this._scenegraph.root),6);case 6:$jscomp$async$this._redraw=!1;$jscomp$generator$context.leaveTryBlock(3);break;case 4:e=$jscomp$generator$context.enterCatchBlock(),$jscomp$async$this.error(e);
case 3:return postrun&&vegaDataflow.asyncCallback($jscomp$async$this,postrun),$jscomp$generator$context.return($jscomp$async$this)}})},dirty:function(item){this._redraw=!0;this._renderer&&this._renderer.dirty(item)},description:function(text){if(arguments.length){var desc=null!=text?text+"":null;desc!==this._desc&&ariaLabel(this._el,this._desc=desc);return this}return this._desc},container:function(){return this._el},scenegraph:function(){return this._scenegraph},origin:function(){return this._origin.slice()},
signal:function(name,value,options){var op=lookupSignal(this,name);return 1===arguments.length?op.value:this.update(op,value,options)},width:function(_){return arguments.length?this.signal("width",_):this.signal("width")},height:function(_){return arguments.length?this.signal("height",_):this.signal("height")},padding:function(_){return arguments.length?this.signal("padding",padding$jscomp$0(_)):padding$jscomp$0(this.signal("padding"))},autosize:function(_){return arguments.length?this.signal("autosize",
_):this.signal("autosize")},background:function(_){return arguments.length?this.signal("background",_):this.signal("background")},renderer:function(type){if(!arguments.length)return this._renderType;vegaScenegraph.renderModule(type)||vegaUtil.error("Unrecognized renderer type: "+type);type!==this._renderType&&(this._renderType=type,this._resetRenderer());return this},tooltip:function(handler){if(!arguments.length)return this._tooltip;handler!==this._tooltip&&(this._tooltip=handler,this._resetRenderer());
return this},loader:function(loader){if(!arguments.length)return this._loader;loader!==this._loader&&(vegaDataflow.Dataflow.prototype.loader.call(this,loader),this._resetRenderer());return this},resize:function(){this._autosize=1;return this.touch(lookupSignal(this,"autosize"))},_resetRenderer:function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(viewWidth,viewHeight,width,height,origin,auto){this.runAfter(function(view){var rerun=0;view._autosize=
0;view.width()!==width&&(rerun=1,view.signal("width",width,Skip),view._resizeWidth.skip(!0));view.height()!==height&&(rerun=1,view.signal("height",height,Skip),view._resizeHeight.skip(!0));view._viewWidth!==viewWidth&&(view._resize=1,view._viewWidth=viewWidth);view._viewHeight!==viewHeight&&(view._resize=1,view._viewHeight=viewHeight);if(view._origin[0]!==origin[0]||view._origin[1]!==origin[1])view._resize=1,view._origin=origin;rerun&&view.run("enter");auto&&view.runAfter(function(v){return v.resize()})},
!1,1)},addEventListener:function(type,handler,options){var callback=handler;options&&!1===options.trap||(callback=trap(this,handler),callback.raw=handler);this._handler.on(type,callback);return this},removeEventListener:function(type,handler){for(var handlers=this._handler.handlers(type),i=handlers.length,h,t;0<=--i;)if(t=handlers[i].type,h=handlers[i].handler,type===t&&(handler===h||handler===h.raw)){this._handler.off(t,h);break}return this},addResizeListener:function(handler){var l=this._resizeListeners;
0>l.indexOf(handler)&&l.push(handler);return this},removeResizeListener:function(handler){var l=this._resizeListeners;handler=l.indexOf(handler);0<=handler&&l.splice(handler,1);return this},addSignalListener:function(name,handler){return addOperatorListener(this,name,lookupSignal(this,name),handler)},removeSignalListener:function(name,handler){return removeOperatorListener(this,lookupSignal(this,name),handler)},addDataListener:function(name,handler){return addOperatorListener(this,name,dataref(this,
name).values,handler)},removeDataListener:function(name,handler){return removeOperatorListener(this,dataref(this,name).values,handler)},globalCursor:function(_){if(arguments.length){if(this._globalCursor!==!!_){var prev=setCursor(this,null);this._globalCursor=!!_;prev&&setCursor(this,prev)}return this}return this._globalCursor},preventDefault:function(_){return arguments.length?(this._preventDefault=_,this):this._preventDefault},timer:function(callback,delay){this._timers.push(d3Timer.interval(function(elapsed){callback({timestamp:Date.now(),
elapsed:elapsed})},delay))},events:function(source,type,filter){var view=this,s=new vegaDataflow.EventStream(filter);filter=function(e,item){view.runAsync(null,function(){var JSCompiler_temp;if(JSCompiler_temp="view"===source){var def=view._eventConfig.defaults;JSCompiler_temp=def.prevent;def=def.allow;JSCompiler_temp=!1===JSCompiler_temp||!0===def?!1:!0===JSCompiler_temp||!1===def?!0:JSCompiler_temp?JSCompiler_temp[type]:def?!def[type]:view.preventDefault()}JSCompiler_temp&&e.preventDefault();s.receive(eventExtend(view,
e,item))})};var sources;if("timer"===source)permit(view,"timer",type)&&view.timer(filter,type);else if("view"===source)permit(view,"view",type)&&view.addEventListener(type,filter,NO_TRAP);else if("window"===source?permit(view,"window",type)&&"undefined"!==typeof window&&(sources=[window]):"undefined"!==typeof document&&permit(view,"selector",type)&&(sources=document.querySelectorAll(source)),sources){for(var i=0,n=sources.length;i<n;++i)sources[i].addEventListener(type,filter);trackEventListener(view,
sources,type,filter)}else view.warn("Can not resolve event source: "+source);return s},finalize:function(){var tooltip=this._tooltip,timers=this._timers,listeners=this._eventListeners,n;for(n=timers.length;0<=--n;)timers[n].stop();for(n=listeners.length;0<=--n;){var e=listeners[n];for(timers=e.sources.length;0<=--timers;)e.sources[timers].removeEventListener(e.type,e.handler)}tooltip&&tooltip.call(this,this._handler,null,null,null);return this},hover:function(hoverSet,leaveSet){hoverSet=[hoverSet||
"hover"];leaveSet=[leaveSet||"update",hoverSet[0]];this.on(this.events("view","mouseover",itemFilter),markTarget,invoke(hoverSet));this.on(this.events("view","mouseout",itemFilter),markTarget,invoke(leaveSet));return this},data:function(name,values){return 2>arguments.length?dataref(this,name).values.value:change.call(this,name,vegaDataflow.changeset().remove(vegaUtil.truthy).insert(values))},change:change,insert:function(name,_){return change.call(this,name,vegaDataflow.changeset().insert(_))},remove:function(name,
_){return change.call(this,name,vegaDataflow.changeset().remove(_))},scale:function(name){var scales=this._runtime.scales;vegaUtil.hasOwnProperty(scales,name)||vegaUtil.error("Unrecognized scale or projection: "+name);return scales[name].value},initialize:function(el,elBind){var view=this,type=view._renderType,config=view._eventConfig.bind,module=vegaScenegraph.renderModule(type);el=view._el=el?lookup(view,el,!0):null;initializeAria(view);module||view.error("Unrecognized renderer type: "+type);type=
module.handler||vegaScenegraph.CanvasHandler;module=el?module.renderer:module.headless;view._renderer=module?initializeRenderer(view,view._renderer,el,module):null;view._handler=initializeHandler(view,view._handler,el,type);view._redraw=!0;el&&"none"!==config&&(elBind=elBind?view._elBind=lookup(view,elBind,!0):el.appendChild(element("form",{"class":"vega-bindings"})),view._bind.forEach(function(_){_.param.element&&"container"!==config&&(_.element=lookup(view,_.param.element,!!_.param.input))}),view._bind.forEach(function(_){bind$jscomp$0(view,
_.element||elBind,_)}));return view},toImageURL:function(type,scaleFactor){var $jscomp$async$this=this,r;return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context){if(1==$jscomp$generator$context.nextAddress)return type!==vegaScenegraph.RenderType.Canvas&&type!==vegaScenegraph.RenderType.SVG&&type!==vegaScenegraph.RenderType.PNG&&vegaUtil.error("Unrecognized image type: "+type),$jscomp$generator$context.yield(renderHeadless($jscomp$async$this,type,scaleFactor),2);r=$jscomp$generator$context.yieldResult;
return $jscomp$generator$context.return(type===vegaScenegraph.RenderType.SVG?toBlobURL(r.svg(),"image/svg+xml"):r.canvas().toDataURL("image/png"))})},toCanvas:function(scaleFactor,opt){var $jscomp$async$this=this,r;return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context){if(1==$jscomp$generator$context.nextAddress)return $jscomp$generator$context.yield(renderHeadless($jscomp$async$this,vegaScenegraph.RenderType.Canvas,scaleFactor,opt),2);r=$jscomp$generator$context.yieldResult;
return $jscomp$generator$context.return(r.canvas())})},toSVG:function(scaleFactor){var $jscomp$async$this=this,r;return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context){if(1==$jscomp$generator$context.nextAddress)return $jscomp$generator$context.yield(renderHeadless($jscomp$async$this,vegaScenegraph.RenderType.SVG,scaleFactor),2);r=$jscomp$generator$context.yieldResult;return $jscomp$generator$context.return(r.svg())})},getState:function(options){return this._runtime.getState(options||
{data:dataTest,signals:signalTest,recurse:!0})},setState:function(state){this.runAsync(null,function(v){v._trigger=!1;v._runtime.setState(state)},function(v){v._trigger=!0});return this}});exports.View=View;Object.defineProperty(exports,"__esModule",{value:!0})})}
//# sourceMappingURL=module$node_modules$vega_view$build$vega_view.js.map
