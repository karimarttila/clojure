{
"version":3,
"file":"com.cognitect.transit.handlers.js",
"lineCount":333,
"mappings":"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",
"sources":["com/cognitect/transit/handlers.js"],
"sourcesContent":["// Copyright 2014 Cognitect. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\ngoog.provide(\"com.cognitect.transit.handlers\");\ngoog.require(\"com.cognitect.transit.util\");\ngoog.require(\"com.cognitect.transit.types\");\ngoog.require(\"goog.math.Long\");\n\ngoog.scope(function () {\n\n    var handlers = com.cognitect.transit.handlers,\n        util     = com.cognitect.transit.util,\n        types    = com.cognitect.transit.types,\n        Long     = goog.math.Long;\n\n    handlers.ctorGuid = 0;\n\n    /**\n     * @const\n     * @type {string}\n     */\n    handlers.ctorGuidProperty = \"transit$guid$\" + util.randomUUID();\n\n    handlers.typeTag = function (ctor) {\n        if (ctor == null) {\n            return \"null\";\n        } else if (ctor === String) {\n            return \"string\";\n        } else if (ctor === Boolean) {\n            return \"boolean\";\n        } else if (ctor === Number) {\n            return \"number\";\n        } else if (ctor === Array) {\n            return \"array\";\n        } else if (ctor === Object) {\n            return \"map\";\n        } else {\n            var tag = ctor[handlers.ctorGuidProperty];\n            if (tag == null) {\n                if (typeof Object.defineProperty != \"undefined\") {\n                    tag = ++handlers.ctorGuid;\n                    Object.defineProperty(ctor, handlers.ctorGuidProperty, {\n                        value: tag,\n                        enumerable: false\n                    });\n                } else {\n                    ctor[handlers.ctorGuidProperty] = tag = ++handlers.ctorGuid;\n                }\n            }\n            return tag;\n        }\n    };\n\n    handlers.constructor = function (x) {\n        if (x == null) {\n            return null;\n        } else {\n            return x.constructor;\n        }\n    };\n\n    handlers.padZeros = function (n, m) {\n        var s = n.toString();\n        for (var i = s.length; i < m; i++) {\n            s = \"0\" + s;\n        }\n        return s;\n    };\n\n    handlers.stringableKeys = function (m) {\n        var stringable = false,\n            ks = util.objectKeys(m);\n\n        for (var i = 0; i < ks.length; i++) {\n        }\n\n        return true;\n    };\n\n    /**\n     * @constructor\n     */\n    handlers.NilHandler = function Transit$NilHandler() {\n    };\n    handlers.NilHandler.prototype.tag = function (v) {\n        return \"_\";\n    };\n    handlers.NilHandler.prototype.rep = function (v) {\n        return null;\n    };\n    handlers.NilHandler.prototype.stringRep = function (v) {\n        return \"null\";\n    };\n\n    /**\n     * @constructor\n     */\n    handlers.StringHandler = function Transit$StringHandler() {\n    };\n    handlers.StringHandler.prototype.tag = function (v) {\n        return \"s\";\n    };\n    handlers.StringHandler.prototype.rep = function (v) {\n        return v;\n    };\n    handlers.StringHandler.prototype.stringRep = function (v) {\n        return v;\n    };\n\n    /**\n     * @constructor\n     */\n    handlers.NumberHandler = function Transit$NumberHandler() {\n    };\n    handlers.NumberHandler.prototype.tag = function (v) {\n        return \"i\";\n    };\n    handlers.NumberHandler.prototype.rep = function (v) {\n        return v;\n    };\n    handlers.NumberHandler.prototype.stringRep = function (v) {\n        return v.toString();\n    };\n\n    /**\n     * @constructor\n     */\n    handlers.IntegerHandler = function Transit$IntegerHandler() {\n    };\n    handlers.IntegerHandler.prototype.tag = function (v) {\n        return \"i\";\n    };\n    handlers.IntegerHandler.prototype.rep = function (v) {\n        return v.toString();\n    };\n    handlers.IntegerHandler.prototype.stringRep = function (v) {\n        return v.toString();\n    };\n\n    /**\n     * @constructor\n     */\n    handlers.BooleanHandler = function Transit$BooleanHandler() {\n    };\n    handlers.BooleanHandler.prototype.tag = function (v) {\n        return \"?\";\n    };\n    handlers.BooleanHandler.prototype.rep = function (v) {\n        return v;\n    };\n    handlers.BooleanHandler.prototype.stringRep = function (v) {\n        return v.toString();\n    };\n\n    /**\n     * @constructor\n     */\n    handlers.ArrayHandler = function Transit$ArrayHandler() {\n    };\n    handlers.ArrayHandler.prototype.tag = function (v) {\n        return \"array\";\n    };\n    handlers.ArrayHandler.prototype.rep = function (v) {\n        return v;\n    };\n    handlers.ArrayHandler.prototype.stringRep = function (v) {\n        return null;\n    };\n\n    /**\n     * @constructor\n     */\n    handlers.MapHandler = function Transit$MapHandler() {\n    };\n    handlers.MapHandler.prototype.tag = function (v) {\n        return \"map\";\n    };\n    handlers.MapHandler.prototype.rep = function (v) {\n        return v;\n    };\n    handlers.MapHandler.prototype.stringRep = function (v) {\n        return null;\n    };\n\n    /**\n     * @constructor\n     */\n    handlers.VerboseDateHandler = function Transit$VerboseDateHandler() {\n    };\n    handlers.VerboseDateHandler.prototype.tag = function (v) {\n        return \"t\";\n    };\n    handlers.VerboseDateHandler.prototype.rep = function (v) {\n        return v.getUTCFullYear() + \"-\" + handlers.padZeros(v.getUTCMonth() + 1, 2) + \"-\" +\n            handlers.padZeros(v.getUTCDate(), 2) + \"T\" + handlers.padZeros(v.getUTCHours(), 2) + \":\" +\n            handlers.padZeros(v.getUTCMinutes(), 2) + \":\" + handlers.padZeros(v.getUTCSeconds(), 2) + \".\" +\n            handlers.padZeros(v.getUTCMilliseconds(), 3) + \"Z\";\n    };\n    handlers.VerboseDateHandler.prototype.stringRep = function (v, h) {\n        return h.rep(v);\n    };\n\n    /**\n     * @constructor\n     */\n    handlers.DateHandler = function Transit$DateHandler() {\n    };\n    handlers.DateHandler.prototype.tag = function (v) {\n        return \"m\";\n    };\n    handlers.DateHandler.prototype.rep = function (v) {\n        return v.valueOf();\n    };\n    handlers.DateHandler.prototype.stringRep = function (v) {\n        return v.valueOf().toString();\n    };\n    handlers.DateHandler.prototype.getVerboseHandler = function (v) {\n        return new handlers.VerboseDateHandler();\n    };\n\n    /**\n     * @constructor\n     */\n    handlers.UUIDHandler = function Transit$UUIDHandler() {\n    };\n    handlers.UUIDHandler.prototype.tag = function (v) {\n        return \"u\";\n    };\n    handlers.UUIDHandler.prototype.rep = function (v) {\n        return v.toString();\n    };\n    handlers.UUIDHandler.prototype.stringRep = function (v) {\n        return v.toString();\n    };\n\n    /**\n     * @constructor\n     */\n    handlers.KeywordHandler = function Transit$KeywordHandler() {\n    };\n    handlers.KeywordHandler.prototype.tag = function (v) {\n        return \":\";\n    };\n    handlers.KeywordHandler.prototype.rep = function (v) {\n        return v._name;\n    }; // NOTE: should be fqn\n    handlers.KeywordHandler.prototype.stringRep = function (v, h) {\n        return h.rep(v);\n    };\n\n    /**\n     * @constructor\n     */\n    handlers.SymbolHandler = function Transit$SymbolHandler() {\n    };\n    handlers.SymbolHandler.prototype.tag = function (v) {\n        return \"$\";\n    };\n    handlers.SymbolHandler.prototype.rep = function (v) {\n        return v._name;\n    }; // NOTE: should be str\n    handlers.SymbolHandler.prototype.stringRep = function (v, h) {\n        return h.rep(v);\n    };\n\n    /**\n     * @constructor\n     */\n    handlers.TaggedHandler = function Transit$TaggedHandler() {\n    };\n    handlers.TaggedHandler.prototype.tag = function (v) {\n        return v.tag;\n    };\n    handlers.TaggedHandler.prototype.rep = function (v) {\n        return v.rep;\n    };\n    handlers.TaggedHandler.prototype.stringRep = function (v, h) {\n        return null;\n    };\n\n    /**\n     * @constructor\n     */\n    handlers.TransitSetHandler = function Transit$TransitSetHandler() {\n    };\n    handlers.TransitSetHandler.prototype.tag = function (v) {\n        return \"set\";\n    };\n    handlers.TransitSetHandler.prototype.rep = function (v) {\n        var arr = [];\n        v.forEach(function (key, set) {\n            arr.push(key);\n        });\n        return types.taggedValue(\"array\", arr);\n    };\n    handlers.TransitSetHandler.prototype.stringRep = function (v, h) {\n        return null;\n    };\n\n    /**\n     * @constructor\n     */\n    handlers.TransitArrayMapHandler = function Transit$ArrayMapHandler() {\n    };\n    handlers.TransitArrayMapHandler.prototype.tag = function (v) {\n        return \"map\";\n    };\n    handlers.TransitArrayMapHandler.prototype.rep = function (v) {\n        return v;\n    };\n    handlers.TransitArrayMapHandler.prototype.stringRep = function (v, h) {\n        return null;\n    };\n\n    /**\n     * @constructor\n     */\n    handlers.TransitMapHandler = function Transit$MapHandler() {\n    };\n    handlers.TransitMapHandler.prototype.tag = function (v) {\n        return \"map\";\n    };\n    handlers.TransitMapHandler.prototype.rep = function (v) {\n        return v;\n    };\n    handlers.TransitMapHandler.prototype.stringRep = function (v, h) {\n        return null;\n    };\n\n    /**\n     * @constructor\n     */\n    handlers.BufferHandler = function Transit$BufferHandler() {\n    };\n    handlers.BufferHandler.prototype.tag = function (v) {\n        return \"b\";\n    };\n    handlers.BufferHandler.prototype.rep = function (v) {\n        return v.toString(\"base64\");\n    };\n    handlers.BufferHandler.prototype.stringRep = function (v, h) {\n        return null;\n    };\n\n    /**\n     * @constructor\n     */\n    handlers.Uint8ArrayHandler = function Transit$Uint8ArrayHandler() {\n    };\n    handlers.Uint8ArrayHandler.prototype.tag = function (v) {\n        return \"b\";\n    };\n    handlers.Uint8ArrayHandler.prototype.rep = function (v) {\n        return util.Uint8ToBase64(v);\n    };\n    handlers.Uint8ArrayHandler.prototype.stringRep = function (v, h) {\n        return null;\n    };\n\n    handlers.defaultHandlers = function (hs) {\n        hs.set(null, new handlers.NilHandler());\n        hs.set(String, new handlers.StringHandler());\n        hs.set(Number, new handlers.NumberHandler());\n        hs.set(Long, new handlers.IntegerHandler());\n        hs.set(Boolean, new handlers.BooleanHandler());\n        hs.set(Array, new handlers.ArrayHandler());\n        hs.set(Object, new handlers.MapHandler());\n        hs.set(Date, new handlers.DateHandler());\n        hs.set(types.UUID, new handlers.UUIDHandler());\n        hs.set(types.Keyword, new handlers.KeywordHandler());\n        hs.set(types.Symbol, new handlers.SymbolHandler());\n        hs.set(types.TaggedValue, new handlers.TaggedHandler());\n        hs.set(types.TransitSet, new handlers.TransitSetHandler());\n        hs.set(types.TransitArrayMap, new handlers.TransitArrayMapHandler());\n        hs.set(types.TransitMap, new handlers.TransitMapHandler());\n\n        if (typeof goog.global.Buffer != \"undefined\") {\n            hs.set(goog.global.Buffer, new handlers.BufferHandler());\n        }\n\n        if (typeof Uint8Array != \"undefined\") {\n            hs.set(Uint8Array, new handlers.Uint8ArrayHandler());\n        }\n\n        return hs;\n    };\n\n    /**\n     * @constructor\n     */\n    handlers.Handlers = function Transit$Handlers() {\n        this.handlers = {};\n        handlers.defaultHandlers(this);\n    };\n\n    handlers.Handlers.prototype.get = function (ctor) {\n        var h = null;\n        if (typeof ctor === \"string\") {\n            h = this.handlers[ctor];\n        } else {\n            h = this.handlers[handlers.typeTag(ctor)];\n        }\n        if (h != null) {\n            return h;\n        } else {\n            return this.handlers[\"default\"];\n        }\n    };\n    handlers.Handlers.prototype[\"get\"] = handlers.Handlers.prototype.get;\n\n    handlers.validTag = function (tag) {\n        switch (tag) {\n            case \"null\":\n            case \"string\":\n            case \"boolean\":\n            case \"number\":\n            case \"array\":\n            case \"map\":\n                return false;\n                break;\n        }\n        return true;\n    };\n\n    handlers.Handlers.prototype.set = function (ctor, handler) {\n        if (typeof ctor === \"string\" && handlers.validTag(ctor)) {\n            this.handlers[ctor] = handler;\n        } else {\n            this.handlers[handlers.typeTag(ctor)] = handler;\n        }\n    };\n\n});    \n"],
"names":["goog","provide","require","scope","handlers","com","cognitect","transit","util","types","Long","math","ctorGuid","ctorGuidProperty","randomUUID","typeTag","handlers.typeTag","ctor","String","Boolean","Number","Array","Object","tag","defineProperty","value","enumerable","constructor","handlers.constructor","x","padZeros","handlers.padZeros","n","m","s","toString","i","length","stringableKeys","handlers.stringableKeys","stringable","ks","objectKeys","NilHandler","handlers.NilHandler","Transit$NilHandler","prototype","handlers.NilHandler.prototype.tag","v","rep","handlers.NilHandler.prototype.rep","stringRep","handlers.NilHandler.prototype.stringRep","StringHandler","handlers.StringHandler","Transit$StringHandler","handlers.StringHandler.prototype.tag","handlers.StringHandler.prototype.rep","handlers.StringHandler.prototype.stringRep","NumberHandler","handlers.NumberHandler","Transit$NumberHandler","handlers.NumberHandler.prototype.tag","handlers.NumberHandler.prototype.rep","handlers.NumberHandler.prototype.stringRep","IntegerHandler","handlers.IntegerHandler","Transit$IntegerHandler","handlers.IntegerHandler.prototype.tag","handlers.IntegerHandler.prototype.rep","handlers.IntegerHandler.prototype.stringRep","BooleanHandler","handlers.BooleanHandler","Transit$BooleanHandler","handlers.BooleanHandler.prototype.tag","handlers.BooleanHandler.prototype.rep","handlers.BooleanHandler.prototype.stringRep","ArrayHandler","handlers.ArrayHandler","Transit$ArrayHandler","handlers.ArrayHandler.prototype.tag","handlers.ArrayHandler.prototype.rep","handlers.ArrayHandler.prototype.stringRep","MapHandler","handlers.MapHandler","Transit$MapHandler","handlers.MapHandler.prototype.tag","handlers.MapHandler.prototype.rep","handlers.MapHandler.prototype.stringRep","VerboseDateHandler","handlers.VerboseDateHandler","Transit$VerboseDateHandler","handlers.VerboseDateHandler.prototype.tag","handlers.VerboseDateHandler.prototype.rep","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","handlers.VerboseDateHandler.prototype.stringRep","h","DateHandler","handlers.DateHandler","Transit$DateHandler","handlers.DateHandler.prototype.tag","handlers.DateHandler.prototype.rep","valueOf","handlers.DateHandler.prototype.stringRep","getVerboseHandler","handlers.DateHandler.prototype.getVerboseHandler","UUIDHandler","handlers.UUIDHandler","Transit$UUIDHandler","handlers.UUIDHandler.prototype.tag","handlers.UUIDHandler.prototype.rep","handlers.UUIDHandler.prototype.stringRep","KeywordHandler","handlers.KeywordHandler","Transit$KeywordHandler","handlers.KeywordHandler.prototype.tag","handlers.KeywordHandler.prototype.rep","_name","handlers.KeywordHandler.prototype.stringRep","SymbolHandler","handlers.SymbolHandler","Transit$SymbolHandler","handlers.SymbolHandler.prototype.tag","handlers.SymbolHandler.prototype.rep","handlers.SymbolHandler.prototype.stringRep","TaggedHandler","handlers.TaggedHandler","Transit$TaggedHandler","handlers.TaggedHandler.prototype.tag","handlers.TaggedHandler.prototype.rep","handlers.TaggedHandler.prototype.stringRep","TransitSetHandler","handlers.TransitSetHandler","Transit$TransitSetHandler","handlers.TransitSetHandler.prototype.tag","handlers.TransitSetHandler.prototype.rep","arr","forEach","key","set","push","taggedValue","handlers.TransitSetHandler.prototype.stringRep","TransitArrayMapHandler","handlers.TransitArrayMapHandler","Transit$ArrayMapHandler","handlers.TransitArrayMapHandler.prototype.tag","handlers.TransitArrayMapHandler.prototype.rep","handlers.TransitArrayMapHandler.prototype.stringRep","TransitMapHandler","handlers.TransitMapHandler","handlers.TransitMapHandler.prototype.tag","handlers.TransitMapHandler.prototype.rep","handlers.TransitMapHandler.prototype.stringRep","BufferHandler","handlers.BufferHandler","Transit$BufferHandler","handlers.BufferHandler.prototype.tag","handlers.BufferHandler.prototype.rep","handlers.BufferHandler.prototype.stringRep","Uint8ArrayHandler","handlers.Uint8ArrayHandler","Transit$Uint8ArrayHandler","handlers.Uint8ArrayHandler.prototype.tag","handlers.Uint8ArrayHandler.prototype.rep","Uint8ToBase64","handlers.Uint8ArrayHandler.prototype.stringRep","defaultHandlers","handlers.defaultHandlers","hs","Date","UUID","Keyword","Symbol","TaggedValue","TransitSet","TransitArrayMap","TransitMap","global","Buffer","Uint8Array","Handlers","handlers.Handlers","Transit$Handlers","get","handlers.Handlers.prototype.get","validTag","handlers.validTag","handlers.Handlers.prototype.set","handler"]
}
