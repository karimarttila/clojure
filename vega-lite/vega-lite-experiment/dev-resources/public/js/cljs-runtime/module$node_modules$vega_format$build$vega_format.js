shadow$provide.module$node_modules$vega_format$build$vega_format=function(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){"object"===typeof exports$jscomp$0&&"undefined"!==typeof module?factory(exports$jscomp$0,require("module$node_modules$d3_array$dist$d3_array"),require("module$node_modules$d3_format$dist$d3_format"),require("module$node_modules$vega_time$build$vega_time"),require("module$node_modules$vega_util$build$vega_util"),require("module$node_modules$d3_time_format$dist$d3_time_format")):
"function"===typeof define&&define.amd?define("exports d3-array d3-format vega-time vega-util d3-time-format".split(" "),factory):(global="undefined"!==typeof globalThis?globalThis:global||self,factory(global.vega={},global.d3,global.d3,global.vega,global.vega,global.d3))})(this,function(exports,d3Array,d3Format,vegaTime,vegaUtil,d3TimeFormat){function memoize(method){var cache={};return function(spec){return cache[spec]||(cache[spec]=method(spec))}}function trimZeroes(numberFormat,decimalChar){return function(x){x=
numberFormat(x);var dec=x.indexOf(decimalChar);if(0>dec)return x;a:{var idx=x.lastIndexOf("e");if(!(0<idx)){for(idx=x.length;--idx>dec;){var c=x.charCodeAt(idx);if(48<=c&&57>=c){idx+=1;break a}}idx=void 0}}for(c=idx<x.length?x.slice(idx):"";--idx>dec;)if("0"!==x[idx]){++idx;break}return x.slice(0,idx)+c}}function numberLocale(locale){var format=memoize(locale.format),formatPrefix=locale.formatPrefix;return{format:format,formatPrefix:formatPrefix,formatFloat:function(spec){spec=d3Format.formatSpecifier(spec||
",");if(null==spec.precision){spec.precision=12;switch(spec.type){case "%":spec.precision-=2;break;case "e":--spec.precision}return trimZeroes(format(spec),format(".1f")(1)[1])}return format(spec)},formatSpan:function(start,stop,count,specifier){specifier=d3Format.formatSpecifier(null==specifier?",f":specifier);count=d3Array.tickStep(start,stop,count);start=Math.max(Math.abs(start),Math.abs(stop));if(null==specifier.precision)switch(specifier.type){case "s":return isNaN(stop=d3Format.precisionPrefix(count,
start))||(specifier.precision=stop),formatPrefix(specifier,start);case "":case "e":case "g":case "p":case "r":isNaN(stop=d3Format.precisionRound(count,start))||(specifier.precision=stop-("e"===specifier.type));break;case "f":case "%":isNaN(stop=d3Format.precisionFixed(count))||(specifier.precision=stop-2*("%"===specifier.type))}return format(specifier)}}}function resetNumberFormatDefaultLocale(){return defaultNumberLocale=numberLocale({format:d3Format.format,formatPrefix:d3Format.formatPrefix})}function numberFormatLocale(definition){return numberLocale(d3Format.formatLocale(definition))}
function numberFormatDefaultLocale(definition){return arguments.length?defaultNumberLocale=numberFormatLocale(definition):defaultNumberLocale}function timeMultiFormat(format,interval,spec){spec=spec||{};vegaUtil.isObject(spec)||vegaUtil.error("Invalid time multi-format specifier: "+spec);var second=interval(vegaTime.SECONDS),minute=interval(vegaTime.MINUTES),hour=interval(vegaTime.HOURS),day=interval(vegaTime.DATE),week=interval(vegaTime.WEEK),month=interval(vegaTime.MONTH),quarter=interval(vegaTime.QUARTER),
year=interval(vegaTime.YEAR),L=format(spec[vegaTime.MILLISECONDS]||".%L"),S=format(spec[vegaTime.SECONDS]||":%S"),M=format(spec[vegaTime.MINUTES]||"%I:%M"),H=format(spec[vegaTime.HOURS]||"%I %p"),d=format(spec[vegaTime.DATE]||spec[vegaTime.DAY]||"%a %d"),w=format(spec[vegaTime.WEEK]||"%b %d"),m=format(spec[vegaTime.MONTH]||"%B"),q=format(spec[vegaTime.QUARTER]||"%B"),y=format(spec[vegaTime.YEAR]||"%Y");return function(date){return(second(date)<date?L:minute(date)<date?S:hour(date)<date?M:day(date)<
date?H:month(date)<date?week(date)<date?d:w:year(date)<date?quarter(date)<date?m:q:y)(date)}}function timeLocale(locale){var timeFormat=memoize(locale.format),utcFormat=memoize(locale.utcFormat);return{timeFormat:function(spec){return vegaUtil.isString(spec)?timeFormat(spec):timeMultiFormat(timeFormat,vegaTime.timeInterval,spec)},utcFormat:function(spec){return vegaUtil.isString(spec)?utcFormat(spec):timeMultiFormat(utcFormat,vegaTime.utcInterval,spec)},timeParse:memoize(locale.parse),utcParse:memoize(locale.utcParse)}}
function resetTimeFormatDefaultLocale(){return defaultTimeLocale=timeLocale({format:d3TimeFormat.timeFormat,parse:d3TimeFormat.timeParse,utcFormat:d3TimeFormat.utcFormat,utcParse:d3TimeFormat.utcParse})}function timeFormatLocale(definition){return timeLocale(d3TimeFormat.timeFormatLocale(definition))}function timeFormatDefaultLocale(definition){return arguments.length?defaultTimeLocale=timeFormatLocale(definition):defaultTimeLocale}function defaultLocale(numberSpec,timeSpec){var args=arguments.length;
args&&2!==args&&vegaUtil.error("defaultLocale expects either zero or two arguments.");return args?createLocale(numberFormatDefaultLocale(numberSpec),timeFormatDefaultLocale(timeSpec)):createLocale(numberFormatDefaultLocale(),timeFormatDefaultLocale())}var defaultNumberLocale;resetNumberFormatDefaultLocale();var defaultTimeLocale;resetTimeFormatDefaultLocale();var createLocale=function(number,time){return vegaUtil.extend({},number,time)};exports.defaultLocale=defaultLocale;exports.locale=function(numberSpec,
timeSpec){numberSpec=numberSpec?numberFormatLocale(numberSpec):numberFormatDefaultLocale();timeSpec=timeSpec?timeFormatLocale(timeSpec):timeFormatDefaultLocale();return createLocale(numberSpec,timeSpec)};exports.numberFormatDefaultLocale=numberFormatDefaultLocale;exports.numberFormatLocale=numberFormatLocale;exports.resetDefaultLocale=function(){resetNumberFormatDefaultLocale();resetTimeFormatDefaultLocale();return defaultLocale()};exports.resetNumberFormatDefaultLocale=resetNumberFormatDefaultLocale;
exports.resetTimeFormatDefaultLocale=resetTimeFormatDefaultLocale;exports.timeFormatDefaultLocale=timeFormatDefaultLocale;exports.timeFormatLocale=timeFormatLocale;Object.defineProperty(exports,"__esModule",{value:!0})})}
//# sourceMappingURL=module$node_modules$vega_format$build$vega_format.js.map
