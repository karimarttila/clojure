shadow$provide.module$node_modules$vega_time$build$vega_time=function(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){"object"===typeof exports$jscomp$0&&"undefined"!==typeof module?factory(exports$jscomp$0,require("module$node_modules$vega_util$build$vega_util"),require("module$node_modules$d3_time$dist$d3_time"),require("module$node_modules$d3_array$dist$d3_array")):"function"===typeof define&&define.amd?define(["exports","vega-util","d3-time","d3-array"],factory):(global=
"undefined"!==typeof globalThis?globalThis:global||self,factory(global.vega={},global.vega,global.d3,global.d3))})(this,function(exports,vegaUtil,d3Time,d3Array){function timeUnits(units){var u=vegaUtil.array(units).slice(),m={};u.length||vegaUtil.error("Missing time unit.");u.forEach(function(unit){vegaUtil.hasOwnProperty(UNITS,unit)?m[unit]=1:vegaUtil.error("Invalid time unit: "+unit+".")});1<(m.week||m.day?1:0)+(m.quarter||m.month||m.date?1:0)+(m.dayofyear?1:0)&&vegaUtil.error("Incompatible time units: "+
units);u.sort(function(a,b){return UNITS[a]-UNITS[b]});return u}function localYear(y){t0.setFullYear(y);t0.setMonth(0);t0.setDate(1);t0.setHours(0,0,0,0);return t0}function localDayOfYear(d){return d3Time.timeDay.count(localYear(d.getFullYear())-1,d)}function localWeekNum(d){return d3Time.timeWeek.count(localYear(d.getFullYear())-1,d)}function localDate(y,m,d,H,M,S,L){return 0<=y&&100>y?(m=new Date(-1,m,d,H,M,S,L),m.setFullYear(y),m):new Date(y,m,d,H,M,S,L)}function utcDayOfYear(d){var y=Date.UTC(d.getUTCFullYear(),
0,1);return d3Time.utcDay.count(y-1,d)}function utcWeekNum(d){var y=Date.UTC(d.getUTCFullYear(),0,1);return d3Time.utcWeek.count(y-1,d)}function utcFirst(y){t0.setTime(Date.UTC(y,0,1));return t0.getUTCDay()}function utcDate(y,m,d,H,M,S,L){return 0<=y&&100>y?(y=new Date(Date.UTC(-1,m,d,H,M,S,L)),y.setUTCFullYear(d.y),y):new Date(Date.UTC(y,m,d,H,M,S,L))}function floor(units,step,get,inv,newDate){var s=step||1,b=vegaUtil.peek(units);step=function(unit,p,key){key=key||unit;return getUnit(get[key],inv[key],
unit===b&&s,p)};var t=new Date;units=vegaUtil.toSet(units);var y=units.year?step("year"):vegaUtil.constant(2012),m=units.month?step("month"):units.quarter?step("quarter"):vegaUtil.zero,d=units.week&&units.day?step("day",1,"weekday"):units.week?step("week",1):units.day?step("day",1):units.date?step("date",1):units.dayofyear?step("dayofyear",1):vegaUtil.one,H=units.hours?step("hours"):vegaUtil.zero,M=units.minutes?step("minutes"):vegaUtil.zero,S=units.seconds?step("seconds"):vegaUtil.zero,L=units.milliseconds?
step("milliseconds"):vegaUtil.zero;return function(v){t.setTime(+v);v=y(t);return newDate(v,m(t),d(t,v),H(t),M(t),S(t),L(t))}}function getUnit(f,inv,step,phase){var u=1>=step?f:phase?function(d,y){return phase+step*Math.floor((f(d,y)-phase)/step)}:function(d,y){return step*Math.floor(f(d,y)/step)};return inv?function(d,y){return inv(u(d,y),y)}:u}function weekday(week,day,firstDay){return day+7*week-(firstDay+6)%7}var TIME_UNITS="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),
UNITS=TIME_UNITS.reduce(function(o,u,i){return o[u]=1+i,o},{}),$jscomp$compprop199={},defaultSpecifiers=($jscomp$compprop199.year="%Y ",$jscomp$compprop199.quarter="Q%q ",$jscomp$compprop199.month="%b ",$jscomp$compprop199.date="%d ",$jscomp$compprop199.week="W%U ",$jscomp$compprop199.day="%a ",$jscomp$compprop199.dayofyear="%j ",$jscomp$compprop199.hours="%H:00",$jscomp$compprop199.minutes="00:%M",$jscomp$compprop199.seconds=":%S",$jscomp$compprop199.milliseconds=".%L",$jscomp$compprop199["year-month"]=
"%Y-%m ",$jscomp$compprop199["year-month-date"]="%Y-%m-%d ",$jscomp$compprop199["hours-minutes"]="%H:%M",$jscomp$compprop199),t0=new Date;$jscomp$compprop199={};var localGet=($jscomp$compprop199.year=function(d){return d.getFullYear()},$jscomp$compprop199.quarter=function(d){return Math.floor(d.getMonth()/3)},$jscomp$compprop199.month=function(d){return d.getMonth()},$jscomp$compprop199.date=function(d){return d.getDate()},$jscomp$compprop199.hours=function(d){return d.getHours()},$jscomp$compprop199.minutes=
function(d){return d.getMinutes()},$jscomp$compprop199.seconds=function(d){return d.getSeconds()},$jscomp$compprop199.milliseconds=function(d){return d.getMilliseconds()},$jscomp$compprop199.dayofyear=function(d){return localDayOfYear(d)},$jscomp$compprop199.week=function(d){return localWeekNum(d)},$jscomp$compprop199.weekday=function(d,y){return weekday(localWeekNum(d),d.getDay(),localYear(y).getDay())},$jscomp$compprop199.day=function(d,y){return weekday(1,d.getDay(),localYear(y).getDay())},$jscomp$compprop199);
$jscomp$compprop199={};var localInv=($jscomp$compprop199.quarter=function(q){return 3*q},$jscomp$compprop199.week=function(w,y){return weekday(w,0,localYear(y).getDay())},$jscomp$compprop199);$jscomp$compprop199={};var utcGet=($jscomp$compprop199.year=function(d){return d.getUTCFullYear()},$jscomp$compprop199.quarter=function(d){return Math.floor(d.getUTCMonth()/3)},$jscomp$compprop199.month=function(d){return d.getUTCMonth()},$jscomp$compprop199.date=function(d){return d.getUTCDate()},$jscomp$compprop199.hours=
function(d){return d.getUTCHours()},$jscomp$compprop199.minutes=function(d){return d.getUTCMinutes()},$jscomp$compprop199.seconds=function(d){return d.getUTCSeconds()},$jscomp$compprop199.milliseconds=function(d){return d.getUTCMilliseconds()},$jscomp$compprop199.dayofyear=function(d){return utcDayOfYear(d)},$jscomp$compprop199.week=function(d){return utcWeekNum(d)},$jscomp$compprop199.day=function(d,y){return weekday(1,d.getUTCDay(),utcFirst(y))},$jscomp$compprop199.weekday=function(d,y){return weekday(utcWeekNum(d),
d.getUTCDay(),utcFirst(y))},$jscomp$compprop199);$jscomp$compprop199={};var utcInv=($jscomp$compprop199.quarter=function(q){return 3*q},$jscomp$compprop199.week=function(w,y){return weekday(w,0,utcFirst(y))},$jscomp$compprop199);$jscomp$compprop199={};var timeIntervals=($jscomp$compprop199.year=d3Time.timeYear,$jscomp$compprop199.quarter=d3Time.timeMonth.every(3),$jscomp$compprop199.month=d3Time.timeMonth,$jscomp$compprop199.week=d3Time.timeWeek,$jscomp$compprop199.date=d3Time.timeDay,$jscomp$compprop199.day=
d3Time.timeDay,$jscomp$compprop199.dayofyear=d3Time.timeDay,$jscomp$compprop199.hours=d3Time.timeHour,$jscomp$compprop199.minutes=d3Time.timeMinute,$jscomp$compprop199.seconds=d3Time.timeSecond,$jscomp$compprop199.milliseconds=d3Time.timeMillisecond,$jscomp$compprop199);$jscomp$compprop199={};var utcIntervals=($jscomp$compprop199.year=d3Time.utcYear,$jscomp$compprop199.quarter=d3Time.utcMonth.every(3),$jscomp$compprop199.month=d3Time.utcMonth,$jscomp$compprop199.week=d3Time.utcWeek,$jscomp$compprop199.date=
d3Time.utcDay,$jscomp$compprop199.day=d3Time.utcDay,$jscomp$compprop199.dayofyear=d3Time.utcDay,$jscomp$compprop199.hours=d3Time.utcHour,$jscomp$compprop199.minutes=d3Time.utcMinute,$jscomp$compprop199.seconds=d3Time.utcSecond,$jscomp$compprop199.milliseconds=d3Time.utcMillisecond,$jscomp$compprop199),Milli="year month date hours minutes seconds milliseconds".split(" ");$jscomp$compprop199=Milli.slice(0,-1);var Minutes=$jscomp$compprop199.slice(0,-1),Hours=Minutes.slice(0,-1),Day=Hours.slice(0,-1),
Month=["year","month"],Year=["year"],intervals=[[$jscomp$compprop199,1,1E3],[$jscomp$compprop199,5,5E3],[$jscomp$compprop199,15,15E3],[$jscomp$compprop199,30,3E4],[Minutes,1,6E4],[Minutes,5,3E5],[Minutes,15,9E5],[Minutes,30,18E5],[Hours,1,36E5],[Hours,3,108E5],[Hours,6,216E5],[Hours,12,432E5],[Day,1,864E5],[["year","week"],1,6048E5],[Month,1,2592E6],[Month,3,7776E6],[Year,1,31536E6]];exports.DATE="date";exports.DAY="day";exports.DAYOFYEAR="dayofyear";exports.HOURS="hours";exports.MILLISECONDS="milliseconds";
exports.MINUTES="minutes";exports.MONTH="month";exports.QUARTER="quarter";exports.SECONDS="seconds";exports.TIME_UNITS=TIME_UNITS;exports.WEEK="week";exports.YEAR="year";exports.dayofyear=function(d){return localDayOfYear(new Date(d))};exports.timeBin=function(opt){var ext=opt.extent;opt=opt.maxbins||40;var target=Math.abs(vegaUtil.span(ext))/opt,i$jscomp$0=d3Array.bisector(function(i){return i[2]}).right(intervals,target);i$jscomp$0===intervals.length?(target=Year,ext=d3Array.tickStep(ext[0]/31536E6,
ext[1]/31536E6,opt)):i$jscomp$0?(i$jscomp$0=intervals[target/intervals[i$jscomp$0-1][2]<intervals[i$jscomp$0][2]/target?i$jscomp$0-1:i$jscomp$0],target=i$jscomp$0[0],ext=i$jscomp$0[1]):(target=Milli,ext=Math.max(d3Array.tickStep(ext[0],ext[1],opt),1));return{units:target,step:ext}};exports.timeFloor=function(units,step){return floor(units,step||1,localGet,localInv,localDate)};exports.timeInterval=function(unit){return timeIntervals[unit]};exports.timeOffset=function(unit,date,step){return(unit=timeIntervals[unit])?
unit.offset(date,step):void 0};exports.timeSequence=function(unit,start,stop,step){return(unit=timeIntervals[unit])?unit.range(start,stop,step):void 0};exports.timeUnitSpecifier=function(units,specifiers){specifiers=vegaUtil.extend({},defaultSpecifiers,specifiers);units=timeUnits(units);var n=units.length,fmt="",start,end;for(start=0;start<n;)for(end=units.length;end>start;--end){var key=units.slice(start,end).join("-");if(null!=specifiers[key]){fmt+=specifiers[key];start=end;break}}return fmt.trim()};
exports.timeUnits=timeUnits;exports.utcFloor=function(units,step){return floor(units,step||1,utcGet,utcInv,utcDate)};exports.utcInterval=function(unit){return utcIntervals[unit]};exports.utcOffset=function(unit,date,step){return(unit=utcIntervals[unit])?unit.offset(date,step):void 0};exports.utcSequence=function(unit,start,stop,step){return(unit=utcIntervals[unit])?unit.range(start,stop,step):void 0};exports.utcdayofyear=function(d){return utcDayOfYear(new Date(d))};exports.utcweek=function(d){return utcWeekNum(new Date(d))};
exports.week=function(d){return localWeekNum(new Date(d))};Object.defineProperty(exports,"__esModule",{value:!0})})}
//# sourceMappingURL=module$node_modules$vega_time$build$vega_time.js.map
