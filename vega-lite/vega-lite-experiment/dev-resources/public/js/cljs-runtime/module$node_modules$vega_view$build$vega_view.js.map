{
"version":3,
"file":"module$node_modules$vega_view$build$vega_view.js",
"lineCount":50,
"mappings":"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",
"sources":["node_modules/vega-view/build/vega-view.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$vega_view$build$vega_view\"] = function(global,require,module,exports) {\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('vega-util'), require('vega-dataflow'), require('vega-scenegraph'), require('d3-array'), require('vega-functions'), require('vega-runtime'), require('d3-timer'), require('vega-format')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'vega-util', 'vega-dataflow', 'vega-scenegraph', 'd3-array', 'vega-functions', 'vega-runtime', 'd3-timer', 'vega-format'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.vega = {}, global.vega, global.vega, global.vega, global.d3, global.vega, global.vega, global.d3, global.vega));\n}(this, (function (exports, vegaUtil, vegaDataflow, vegaScenegraph, d3Array, vegaFunctions, vegaRuntime, d3Timer, vegaFormat) { 'use strict';\n\n  // initialize aria role and label attributes\n  function initializeAria(view) {\n    const el = view.container();\n\n    if (el) {\n      el.setAttribute('role', 'graphics-document');\n      el.setAttribute('aria-roleDescription', 'visualization');\n      ariaLabel(el, view.description());\n    }\n  } // update aria-label if we have a DOM container element\n\n  function ariaLabel(el, desc) {\n    if (el) desc == null ? el.removeAttribute('aria-label') : el.setAttribute('aria-label', desc);\n  }\n\n  function background (view) {\n    // respond to background signal\n    view.add(null, _ => {\n      view._background = _.bg;\n      view._resize = 1;\n      return _.bg;\n    }, {\n      bg: view._signals.background\n    });\n  }\n\n  const Default = 'default';\n  function cursor (view) {\n    // get cursor signal, add to dataflow if needed\n    const cursor = view._signals.cursor || (view._signals.cursor = view.add({\n      user: Default,\n      item: null\n    })); // evaluate cursor on each mousemove event\n\n    view.on(view.events('view', 'mousemove'), cursor, (_, event) => {\n      const value = cursor.value,\n            user = value ? vegaUtil.isString(value) ? value : value.user : Default,\n            item = event.item && event.item.cursor || null;\n      return value && user === value.user && item == value.item ? value : {\n        user: user,\n        item: item\n      };\n    }); // when cursor signal updates, set visible cursor\n\n    view.add(null, function (_) {\n      let user = _.cursor,\n          item = this.value;\n\n      if (!vegaUtil.isString(user)) {\n        item = user.item;\n        user = user.user;\n      }\n\n      setCursor(view, user && user !== Default ? user : item || user);\n      return item;\n    }, {\n      cursor: cursor\n    });\n  }\n  function setCursor(view, cursor) {\n    const el = view.globalCursor() ? typeof document !== 'undefined' && document.body : view.container();\n\n    if (el) {\n      return cursor == null ? el.style.removeProperty('cursor') : el.style.cursor = cursor;\n    }\n  }\n\n  function dataref(view, name) {\n    var data = view._runtime.data;\n\n    if (!vegaUtil.hasOwnProperty(data, name)) {\n      vegaUtil.error('Unrecognized data set: ' + name);\n    }\n\n    return data[name];\n  }\n  function data(name, values) {\n    return arguments.length < 2 ? dataref(this, name).values.value : change.call(this, name, vegaDataflow.changeset().remove(vegaUtil.truthy).insert(values));\n  }\n  function change(name, changes) {\n    if (!vegaDataflow.isChangeSet(changes)) {\n      vegaUtil.error('Second argument to changes must be a changeset.');\n    }\n\n    const dataset = dataref(this, name);\n    dataset.modified = true;\n    return this.pulse(dataset.input, changes);\n  }\n  function insert(name, _) {\n    return change.call(this, name, vegaDataflow.changeset().insert(_));\n  }\n  function remove(name, _) {\n    return change.call(this, name, vegaDataflow.changeset().remove(_));\n  }\n\n  function width(view) {\n    var padding = view.padding();\n    return Math.max(0, view._viewWidth + padding.left + padding.right);\n  }\n  function height(view) {\n    var padding = view.padding();\n    return Math.max(0, view._viewHeight + padding.top + padding.bottom);\n  }\n  function offset(view) {\n    var padding = view.padding(),\n        origin = view._origin;\n    return [padding.left + origin[0], padding.top + origin[1]];\n  }\n  function resizeRenderer(view) {\n    var origin = offset(view),\n        w = width(view),\n        h = height(view);\n\n    view._renderer.background(view.background());\n\n    view._renderer.resize(w, h, origin);\n\n    view._handler.origin(origin);\n\n    view._resizeListeners.forEach(handler => {\n      try {\n        handler(w, h);\n      } catch (error) {\n        view.error(error);\n      }\n    });\n  }\n\n  /**\n   * Extend an event with additional view-specific methods.\n   * Adds a new property ('vega') to an event that provides a number\n   * of methods for querying information about the current interaction.\n   * The vega object provides the following methods:\n   *   view - Returns the backing View instance.\n   *   item - Returns the currently active scenegraph item (if any).\n   *   group - Returns the currently active scenegraph group (if any).\n   *     This method accepts a single string-typed argument indicating the name\n   *     of the desired parent group. The scenegraph will be traversed from\n   *     the item up towards the root to search for a matching group. If no\n   *     argument is provided the enclosing group for the active item is\n   *     returned, unless the item it itself a group, in which case it is\n   *     returned directly.\n   *   xy - Returns a two-element array containing the x and y coordinates for\n   *     mouse or touch events. For touch events, this is based on the first\n   *     elements in the changedTouches array. This method accepts a single\n   *     argument: either an item instance or mark name that should serve as\n   *     the reference coordinate system. If no argument is provided the\n   *     top-level view coordinate system is assumed.\n   *   x - Returns the current x-coordinate, accepts the same arguments as xy.\n   *   y - Returns the current y-coordinate, accepts the same arguments as xy.\n   * @param {Event} event - The input event to extend.\n   * @param {Item} item - The currently active scenegraph item (if any).\n   * @return {Event} - The extended input event.\n   */\n\n  function eventExtend (view, event, item) {\n    var r = view._renderer,\n        el = r && r.canvas(),\n        p,\n        e,\n        translate;\n\n    if (el) {\n      translate = offset(view);\n      e = event.changedTouches ? event.changedTouches[0] : event;\n      p = vegaScenegraph.point(e, el);\n      p[0] -= translate[0];\n      p[1] -= translate[1];\n    }\n\n    event.dataflow = view;\n    event.item = item;\n    event.vega = extension(view, item, p);\n    return event;\n  }\n\n  function extension(view, item, point) {\n    const itemGroup = item ? item.mark.marktype === 'group' ? item : item.mark.group : null;\n\n    function group(name) {\n      var g = itemGroup,\n          i;\n      if (name) for (i = item; i; i = i.mark.group) {\n        if (i.mark.name === name) {\n          g = i;\n          break;\n        }\n      }\n      return g && g.mark && g.mark.interactive ? g : {};\n    }\n\n    function xy(item) {\n      if (!item) return point;\n      if (vegaUtil.isString(item)) item = group(item);\n      const p = point.slice();\n\n      while (item) {\n        p[0] -= item.x || 0;\n        p[1] -= item.y || 0;\n        item = item.mark && item.mark.group;\n      }\n\n      return p;\n    }\n\n    return {\n      view: vegaUtil.constant(view),\n      item: vegaUtil.constant(item || {}),\n      group: group,\n      xy: xy,\n      x: item => xy(item)[0],\n      y: item => xy(item)[1]\n    };\n  }\n\n  const VIEW = 'view',\n        TIMER = 'timer',\n        WINDOW = 'window',\n        NO_TRAP = {\n    trap: false\n  };\n  /**\n   * Initialize event handling configuration.\n   * @param {object} config - The configuration settings.\n   * @return {object}\n   */\n\n  function initializeEventConfig(config) {\n    const events = vegaUtil.extend({\n      defaults: {}\n    }, config);\n\n    const unpack = (obj, keys) => {\n      keys.forEach(k => {\n        if (vegaUtil.isArray(obj[k])) obj[k] = vegaUtil.toSet(obj[k]);\n      });\n    };\n\n    unpack(events.defaults, ['prevent', 'allow']);\n    unpack(events, ['view', 'window', 'selector']);\n    return events;\n  }\n  function trackEventListener(view, sources, type, handler) {\n    view._eventListeners.push({\n      type: type,\n      sources: vegaUtil.array(sources),\n      handler: handler\n    });\n  }\n\n  function prevent(view, type) {\n    var def = view._eventConfig.defaults,\n        prevent = def.prevent,\n        allow = def.allow;\n    return prevent === false || allow === true ? false : prevent === true || allow === false ? true : prevent ? prevent[type] : allow ? !allow[type] : view.preventDefault();\n  }\n\n  function permit(view, key, type) {\n    const rule = view._eventConfig && view._eventConfig[key];\n\n    if (rule === false || vegaUtil.isObject(rule) && !rule[type]) {\n      view.warn(`Blocked ${key} ${type} event listener.`);\n      return false;\n    }\n\n    return true;\n  }\n  /**\n   * Create a new event stream from an event source.\n   * @param {object} source - The event source to monitor.\n   * @param {string} type - The event type.\n   * @param {function(object): boolean} [filter] - Event filter function.\n   * @return {EventStream}\n   */\n\n\n  function events(source, type, filter) {\n    var view = this,\n        s = new vegaDataflow.EventStream(filter),\n        send = function (e, item) {\n      view.runAsync(null, () => {\n        if (source === VIEW && prevent(view, type)) {\n          e.preventDefault();\n        }\n\n        s.receive(eventExtend(view, e, item));\n      });\n    },\n        sources;\n\n    if (source === TIMER) {\n      if (permit(view, 'timer', type)) {\n        view.timer(send, type);\n      }\n    } else if (source === VIEW) {\n      if (permit(view, 'view', type)) {\n        // send traps errors, so use {trap: false} option\n        view.addEventListener(type, send, NO_TRAP);\n      }\n    } else {\n      if (source === WINDOW) {\n        if (permit(view, 'window', type) && typeof window !== 'undefined') {\n          sources = [window];\n        }\n      } else if (typeof document !== 'undefined') {\n        if (permit(view, 'selector', type)) {\n          sources = document.querySelectorAll(source);\n        }\n      }\n\n      if (!sources) {\n        view.warn('Can not resolve event source: ' + source);\n      } else {\n        for (var i = 0, n = sources.length; i < n; ++i) {\n          sources[i].addEventListener(type, send);\n        }\n\n        trackEventListener(view, sources, type, send);\n      }\n    }\n\n    return s;\n  }\n\n  function itemFilter(event) {\n    return event.item;\n  }\n\n  function markTarget(event) {\n    // grab upstream collector feeding the mark operator\n    return event.item.mark.source;\n  }\n\n  function invoke(name) {\n    return function (_, event) {\n      return event.vega.view().changeset().encode(event.item, name);\n    };\n  }\n\n  function hover (hoverSet, leaveSet) {\n    hoverSet = [hoverSet || 'hover'];\n    leaveSet = [leaveSet || 'update', hoverSet[0]]; // invoke hover set upon mouseover\n\n    this.on(this.events('view', 'mouseover', itemFilter), markTarget, invoke(hoverSet)); // invoke leave set upon mouseout\n\n    this.on(this.events('view', 'mouseout', itemFilter), markTarget, invoke(leaveSet));\n    return this;\n  }\n\n  /**\n   * Finalize a View instance that is being removed.\n   * Cancel any running timers.\n   * Remove all external event listeners.\n   * Remove any currently displayed tooltip.\n   */\n  function finalize () {\n    var tooltip = this._tooltip,\n        timers = this._timers,\n        listeners = this._eventListeners,\n        n,\n        m,\n        e;\n    n = timers.length;\n\n    while (--n >= 0) {\n      timers[n].stop();\n    }\n\n    n = listeners.length;\n\n    while (--n >= 0) {\n      e = listeners[n];\n      m = e.sources.length;\n\n      while (--m >= 0) {\n        e.sources[m].removeEventListener(e.type, e.handler);\n      }\n    }\n\n    if (tooltip) {\n      tooltip.call(this, this._handler, null, null, null);\n    }\n\n    return this;\n  }\n\n  function element (tag, attr, text) {\n    const el = document.createElement(tag);\n\n    for (const key in attr) el.setAttribute(key, attr[key]);\n\n    if (text != null) el.textContent = text;\n    return el;\n  }\n\n  const BindClass = 'vega-bind',\n        NameClass = 'vega-bind-name',\n        RadioClass = 'vega-bind-radio';\n  /**\n   * Bind a signal to an external HTML input element. The resulting two-way\n   * binding will propagate input changes to signals, and propagate signal\n   * changes to the input element state. If this view instance has no parent\n   * element, we assume the view is headless and no bindings are created.\n   * @param {Element|string} el - The parent DOM element to which the input\n   *   element should be appended as a child. If string-valued, this argument\n   *   will be treated as a CSS selector. If null or undefined, the parent\n   *   element of this view will be used as the element.\n   * @param {object} param - The binding parameters which specify the signal\n   *   to bind to, the input element type, and type-specific configuration.\n   * @return {View} - This view instance.\n   */\n\n  function bind (view, el, binding) {\n    if (!el) return;\n    const param = binding.param;\n    let bind = binding.state;\n\n    if (!bind) {\n      bind = binding.state = {\n        elements: null,\n        active: false,\n        set: null,\n        update: value => {\n          if (value != view.signal(param.signal)) {\n            view.runAsync(null, () => {\n              bind.source = true;\n              view.signal(param.signal, value);\n            });\n          }\n        }\n      };\n\n      if (param.debounce) {\n        bind.update = vegaUtil.debounce(param.debounce, bind.update);\n      }\n    }\n\n    const create = param.input == null && param.element ? target : generate;\n    create(bind, el, param, view);\n\n    if (!bind.active) {\n      view.on(view._signals[param.signal], null, () => {\n        bind.source ? bind.source = false : bind.set(view.signal(param.signal));\n      });\n      bind.active = true;\n    }\n\n    return bind;\n  }\n  /**\n   * Bind the signal to an external EventTarget.\n   */\n\n  function target(bind, node, param, view) {\n    const type = param.event || 'input';\n\n    const handler = () => bind.update(node.value); // initialize signal value to external input value\n\n\n    view.signal(param.signal, node.value); // listen for changes on the element\n\n    node.addEventListener(type, handler); // register with view, so we can remove it upon finalization\n\n    trackEventListener(view, node, type, handler); // propagate change to element\n\n    bind.set = value => {\n      node.value = value;\n      node.dispatchEvent(event(type));\n    };\n  }\n\n  function event(type) {\n    return typeof Event !== 'undefined' ? new Event(type) : {\n      type\n    };\n  }\n  /**\n   * Generate an HTML input form element and bind it to a signal.\n   */\n\n\n  function generate(bind, el, param, view) {\n    const value = view.signal(param.signal);\n    const div = element('div', {\n      'class': BindClass\n    });\n    const wrapper = param.input === 'radio' ? div : div.appendChild(element('label'));\n    wrapper.appendChild(element('span', {\n      'class': NameClass\n    }, param.name || param.signal));\n    el.appendChild(div);\n    let input = form;\n\n    switch (param.input) {\n      case 'checkbox':\n        input = checkbox;\n        break;\n\n      case 'select':\n        input = select;\n        break;\n\n      case 'radio':\n        input = radio;\n        break;\n\n      case 'range':\n        input = range;\n        break;\n    }\n\n    input(bind, wrapper, param, value);\n  }\n  /**\n   * Generates an arbitrary input form element.\n   * The input type is controlled via user-provided parameters.\n   */\n\n\n  function form(bind, el, param, value) {\n    const node = element('input');\n\n    for (const key in param) {\n      if (key !== 'signal' && key !== 'element') {\n        node.setAttribute(key === 'input' ? 'type' : key, param[key]);\n      }\n    }\n\n    node.setAttribute('name', param.signal);\n    node.value = value;\n    el.appendChild(node);\n    node.addEventListener('input', () => bind.update(node.value));\n    bind.elements = [node];\n\n    bind.set = value => node.value = value;\n  }\n  /**\n   * Generates a checkbox input element.\n   */\n\n\n  function checkbox(bind, el, param, value) {\n    const attr = {\n      type: 'checkbox',\n      name: param.signal\n    };\n    if (value) attr.checked = true;\n    const node = element('input', attr);\n    el.appendChild(node);\n    node.addEventListener('change', () => bind.update(node.checked));\n    bind.elements = [node];\n\n    bind.set = value => node.checked = !!value || null;\n  }\n  /**\n   * Generates a selection list input element.\n   */\n\n\n  function select(bind, el, param, value) {\n    const node = element('select', {\n      name: param.signal\n    }),\n          labels = param.labels || [];\n    param.options.forEach((option, i) => {\n      const attr = {\n        value: option\n      };\n      if (valuesEqual(option, value)) attr.selected = true;\n      node.appendChild(element('option', attr, (labels[i] || option) + ''));\n    });\n    el.appendChild(node);\n    node.addEventListener('change', () => {\n      bind.update(param.options[node.selectedIndex]);\n    });\n    bind.elements = [node];\n\n    bind.set = value => {\n      for (let i = 0, n = param.options.length; i < n; ++i) {\n        if (valuesEqual(param.options[i], value)) {\n          node.selectedIndex = i;\n          return;\n        }\n      }\n    };\n  }\n  /**\n   * Generates a radio button group.\n   */\n\n\n  function radio(bind, el, param, value) {\n    const group = element('span', {\n      'class': RadioClass\n    }),\n          labels = param.labels || [];\n    el.appendChild(group);\n    bind.elements = param.options.map((option, i) => {\n      const attr = {\n        type: 'radio',\n        name: param.signal,\n        value: option\n      };\n      if (valuesEqual(option, value)) attr.checked = true;\n      const input = element('input', attr);\n      input.addEventListener('change', () => bind.update(option));\n      const label = element('label', {}, (labels[i] || option) + '');\n      label.prepend(input);\n      group.appendChild(label);\n      return input;\n    });\n\n    bind.set = value => {\n      const nodes = bind.elements,\n            n = nodes.length;\n\n      for (let i = 0; i < n; ++i) {\n        if (valuesEqual(nodes[i].value, value)) nodes[i].checked = true;\n      }\n    };\n  }\n  /**\n   * Generates a slider input element.\n   */\n\n\n  function range(bind, el, param, value) {\n    value = value !== undefined ? value : (+param.max + +param.min) / 2;\n    const max = param.max != null ? param.max : Math.max(100, +value) || 100,\n          min = param.min || Math.min(0, max, +value) || 0,\n          step = param.step || d3Array.tickStep(min, max, 100);\n    const node = element('input', {\n      type: 'range',\n      name: param.signal,\n      min: min,\n      max: max,\n      step: step\n    });\n    node.value = value;\n    const span = element('span', {}, +value);\n    el.appendChild(node);\n    el.appendChild(span);\n\n    const update = () => {\n      span.textContent = node.value;\n      bind.update(+node.value);\n    }; // subscribe to both input and change\n\n\n    node.addEventListener('input', update);\n    node.addEventListener('change', update);\n    bind.elements = [node];\n\n    bind.set = value => {\n      node.value = value;\n      span.textContent = value;\n    };\n  }\n\n  function valuesEqual(a, b) {\n    return a === b || a + '' === b + '';\n  }\n\n  function initializeRenderer (view, r, el, constructor, scaleFactor, opt) {\n    r = r || new constructor(view.loader());\n    return r.initialize(el, width(view), height(view), offset(view), scaleFactor, opt).background(view.background());\n  }\n\n  function trap (view, fn) {\n    return !fn ? null : function () {\n      try {\n        fn.apply(this, arguments);\n      } catch (error) {\n        view.error(error);\n      }\n    };\n  }\n\n  function initializeHandler (view, prevHandler, el, constructor) {\n    // instantiate scenegraph handler\n    const handler = new constructor(view.loader(), trap(view, view.tooltip())).scene(view.scenegraph().root).initialize(el, offset(view), view); // transfer event handlers\n\n    if (prevHandler) {\n      prevHandler.handlers().forEach(h => {\n        handler.on(h.type, h.handler);\n      });\n    }\n\n    return handler;\n  }\n\n  function initialize (el, elBind) {\n    const view = this,\n          type = view._renderType,\n          config = view._eventConfig.bind,\n          module = vegaScenegraph.renderModule(type); // containing dom element\n\n    el = view._el = el ? lookup(view, el, true) : null; // initialize aria attributes\n\n    initializeAria(view); // select appropriate renderer & handler\n\n    if (!module) view.error('Unrecognized renderer type: ' + type);\n    const Handler = module.handler || vegaScenegraph.CanvasHandler,\n          Renderer = el ? module.renderer : module.headless; // initialize renderer and input handler\n\n    view._renderer = !Renderer ? null : initializeRenderer(view, view._renderer, el, Renderer);\n    view._handler = initializeHandler(view, view._handler, el, Handler);\n    view._redraw = true; // initialize signal bindings\n\n    if (el && config !== 'none') {\n      elBind = elBind ? view._elBind = lookup(view, elBind, true) : el.appendChild(element('form', {\n        'class': 'vega-bindings'\n      }));\n\n      view._bind.forEach(_ => {\n        if (_.param.element && config !== 'container') {\n          _.element = lookup(view, _.param.element, !!_.param.input);\n        }\n      });\n\n      view._bind.forEach(_ => {\n        bind(view, _.element || elBind, _);\n      });\n    }\n\n    return view;\n  }\n\n  function lookup(view, el, clear) {\n    if (typeof el === 'string') {\n      if (typeof document !== 'undefined') {\n        el = document.querySelector(el);\n\n        if (!el) {\n          view.error('Signal bind element not found: ' + el);\n          return null;\n        }\n      } else {\n        view.error('DOM document instance not found.');\n        return null;\n      }\n    }\n\n    if (el && clear) {\n      try {\n        el.innerHTML = '';\n      } catch (e) {\n        el = null;\n        view.error(e);\n      }\n    }\n\n    return el;\n  }\n\n  const number = _ => +_ || 0;\n\n  const paddingObject = _ => ({\n    top: _,\n    bottom: _,\n    left: _,\n    right: _\n  });\n\n  function padding (_) {\n    return vegaUtil.isObject(_) ? {\n      top: number(_.top),\n      bottom: number(_.bottom),\n      left: number(_.left),\n      right: number(_.right)\n    } : paddingObject(number(_));\n  }\n\n  /**\n   * Render the current scene in a headless fashion.\n   * This method is asynchronous, returning a Promise instance.\n   * @return {Promise} - A Promise that resolves to a renderer.\n   */\n\n  async function renderHeadless (view, type, scaleFactor, opt) {\n    const module = vegaScenegraph.renderModule(type),\n          ctr = module && module.headless;\n    if (!ctr) vegaUtil.error('Unrecognized renderer type: ' + type);\n    await view.runAsync();\n    return initializeRenderer(view, null, null, ctr, scaleFactor, opt).renderAsync(view._scenegraph.root);\n  }\n\n  /**\n   * Produce an image URL for the visualization. Depending on the type\n   * parameter, the generated URL contains data for either a PNG or SVG image.\n   * The URL can be used (for example) to download images of the visualization.\n   * This method is asynchronous, returning a Promise instance.\n   * @param {string} type - The image type. One of 'svg', 'png' or 'canvas'.\n   *   The 'canvas' and 'png' types are synonyms for a PNG image.\n   * @return {Promise} - A promise that resolves to an image URL.\n   */\n\n  async function renderToImageURL (type, scaleFactor) {\n    if (type !== vegaScenegraph.RenderType.Canvas && type !== vegaScenegraph.RenderType.SVG && type !== vegaScenegraph.RenderType.PNG) {\n      vegaUtil.error('Unrecognized image type: ' + type);\n    }\n\n    const r = await renderHeadless(this, type, scaleFactor);\n    return type === vegaScenegraph.RenderType.SVG ? toBlobURL(r.svg(), 'image/svg+xml') : r.canvas().toDataURL('image/png');\n  }\n\n  function toBlobURL(data, mime) {\n    const blob = new Blob([data], {\n      type: mime\n    });\n    return window.URL.createObjectURL(blob);\n  }\n\n  /**\n   * Produce a Canvas instance containing a rendered visualization.\n   * This method is asynchronous, returning a Promise instance.\n   * @return {Promise} - A promise that resolves to a Canvas instance.\n   */\n\n  async function renderToCanvas (scaleFactor, opt) {\n    const r = await renderHeadless(this, vegaScenegraph.RenderType.Canvas, scaleFactor, opt);\n    return r.canvas();\n  }\n\n  /**\n   * Produce a rendered SVG string of the visualization.\n   * This method is asynchronous, returning a Promise instance.\n   * @return {Promise} - A promise that resolves to an SVG string.\n   */\n\n  async function renderToSVG (scaleFactor) {\n    const r = await renderHeadless(this, vegaScenegraph.RenderType.SVG, scaleFactor);\n    return r.svg();\n  }\n\n  function runtime (view, spec, expr) {\n    return vegaRuntime.context(view, vegaDataflow.transforms, vegaFunctions.functionContext, expr).parse(spec);\n  }\n\n  function scale(name) {\n    var scales = this._runtime.scales;\n\n    if (!vegaUtil.hasOwnProperty(scales, name)) {\n      vegaUtil.error('Unrecognized scale or projection: ' + name);\n    }\n\n    return scales[name].value;\n  }\n\n  var Width = 'width',\n      Height = 'height',\n      Padding = 'padding',\n      Skip = {\n    skip: true\n  };\n  function viewWidth(view, width) {\n    var a = view.autosize(),\n        p = view.padding();\n    return width - (a && a.contains === Padding ? p.left + p.right : 0);\n  }\n  function viewHeight(view, height) {\n    var a = view.autosize(),\n        p = view.padding();\n    return height - (a && a.contains === Padding ? p.top + p.bottom : 0);\n  }\n  function initializeResize(view) {\n    var s = view._signals,\n        w = s[Width],\n        h = s[Height],\n        p = s[Padding];\n\n    function resetSize() {\n      view._autosize = view._resize = 1;\n    } // respond to width signal\n\n\n    view._resizeWidth = view.add(null, _ => {\n      view._width = _.size;\n      view._viewWidth = viewWidth(view, _.size);\n      resetSize();\n    }, {\n      size: w\n    }); // respond to height signal\n\n    view._resizeHeight = view.add(null, _ => {\n      view._height = _.size;\n      view._viewHeight = viewHeight(view, _.size);\n      resetSize();\n    }, {\n      size: h\n    }); // respond to padding signal\n\n    const resizePadding = view.add(null, resetSize, {\n      pad: p\n    }); // set rank to run immediately after source signal\n\n    view._resizeWidth.rank = w.rank + 1;\n    view._resizeHeight.rank = h.rank + 1;\n    resizePadding.rank = p.rank + 1;\n  }\n  function resizeView(viewWidth, viewHeight, width, height, origin, auto) {\n    this.runAfter(view => {\n      let rerun = 0; // reset autosize flag\n\n      view._autosize = 0; // width value changed: update signal, skip resize op\n\n      if (view.width() !== width) {\n        rerun = 1;\n        view.signal(Width, width, Skip); // set width, skip update calc\n\n        view._resizeWidth.skip(true); // skip width resize handler\n\n      } // height value changed: update signal, skip resize op\n\n\n      if (view.height() !== height) {\n        rerun = 1;\n        view.signal(Height, height, Skip); // set height, skip update calc\n\n        view._resizeHeight.skip(true); // skip height resize handler\n\n      } // view width changed: update view property, set resize flag\n\n\n      if (view._viewWidth !== viewWidth) {\n        view._resize = 1;\n        view._viewWidth = viewWidth;\n      } // view height changed: update view property, set resize flag\n\n\n      if (view._viewHeight !== viewHeight) {\n        view._resize = 1;\n        view._viewHeight = viewHeight;\n      } // origin changed: update view property, set resize flag\n\n\n      if (view._origin[0] !== origin[0] || view._origin[1] !== origin[1]) {\n        view._resize = 1;\n        view._origin = origin;\n      } // run dataflow on width/height signal change\n\n\n      if (rerun) view.run('enter');\n      if (auto) view.runAfter(v => v.resize());\n    }, false, 1);\n  }\n\n  /**\n   * Get the current view state, consisting of signal values and/or data sets.\n   * @param {object} [options] - Options flags indicating which state to export.\n   *   If unspecified, all signals and data sets will be exported.\n   * @param {function(string, Operator):boolean} [options.signals] - Optional\n   *   predicate function for testing if a signal should be included in the\n   *   exported state. If unspecified, all signals will be included, except for\n   *   those named 'parent' or those which refer to a Transform value.\n   * @param {function(string, object):boolean} [options.data] - Optional\n   *   predicate function for testing if a data set's input should be included\n   *   in the exported state. If unspecified, all data sets that have been\n   *   explicitly modified will be included.\n   * @param {boolean} [options.recurse=true] - Flag indicating if the exported\n   *   state should recursively include state from group mark sub-contexts.\n   * @return {object} - An object containing the exported state values.\n   */\n\n  function getState(options) {\n    return this._runtime.getState(options || {\n      data: dataTest,\n      signals: signalTest,\n      recurse: true\n    });\n  }\n\n  function dataTest(name, data) {\n    return data.modified && vegaUtil.isArray(data.input.value) && name.indexOf('_:vega:_');\n  }\n\n  function signalTest(name, op) {\n    return !(name === 'parent' || op instanceof vegaDataflow.transforms.proxy);\n  }\n  /**\n   * Sets the current view state and updates the view by invoking run.\n   * @param {object} state - A state object containing signal and/or\n   *   data set values, following the format used by the getState method.\n   * @return {View} - This view instance.\n   */\n\n\n  function setState(state) {\n    this.runAsync(null, v => {\n      v._trigger = false;\n\n      v._runtime.setState(state);\n    }, v => {\n      v._trigger = true;\n    });\n    return this;\n  }\n\n  function timer (callback, delay) {\n    function tick(elapsed) {\n      callback({\n        timestamp: Date.now(),\n        elapsed: elapsed\n      });\n    }\n\n    this._timers.push(d3Timer.interval(tick, delay));\n  }\n\n  function defaultTooltip (handler, event, item, value) {\n    const el = handler.element();\n    if (el) el.setAttribute('title', formatTooltip(value));\n  }\n\n  function formatTooltip(value) {\n    return value == null ? '' : vegaUtil.isArray(value) ? formatArray(value) : vegaUtil.isObject(value) && !vegaUtil.isDate(value) ? formatObject(value) : value + '';\n  }\n\n  function formatObject(obj) {\n    return Object.keys(obj).map(key => {\n      const v = obj[key];\n      return key + ': ' + (vegaUtil.isArray(v) ? formatArray(v) : formatValue(v));\n    }).join('\\n');\n  }\n\n  function formatArray(value) {\n    return '[' + value.map(formatValue).join(', ') + ']';\n  }\n\n  function formatValue(value) {\n    return vegaUtil.isArray(value) ? '[\\u2026]' : vegaUtil.isObject(value) && !vegaUtil.isDate(value) ? '{\\u2026}' : value;\n  }\n\n  /**\n   * Create a new View instance from a Vega dataflow runtime specification.\n   * The generated View will not immediately be ready for display. Callers\n   * should also invoke the initialize method (e.g., to set the parent\n   * DOM element in browser-based deployment) and then invoke the run\n   * method to evaluate the dataflow graph. Rendering will automatically\n   * be performed upon dataflow runs.\n   * @constructor\n   * @param {object} spec - The Vega dataflow runtime specification.\n   */\n\n  function View(spec, options) {\n    const view = this;\n    options = options || {};\n    vegaDataflow.Dataflow.call(view);\n    if (options.loader) view.loader(options.loader);\n    if (options.logger) view.logger(options.logger);\n    if (options.logLevel != null) view.logLevel(options.logLevel);\n\n    if (options.locale || spec.locale) {\n      const loc = vegaUtil.extend({}, spec.locale, options.locale);\n      view.locale(vegaFormat.locale(loc.number, loc.time));\n    }\n\n    view._el = null;\n    view._elBind = null;\n    view._renderType = options.renderer || vegaScenegraph.RenderType.Canvas;\n    view._scenegraph = new vegaScenegraph.Scenegraph();\n    const root = view._scenegraph.root; // initialize renderer, handler and event management\n\n    view._renderer = null;\n    view._tooltip = options.tooltip || defaultTooltip, view._redraw = true;\n    view._handler = new vegaScenegraph.CanvasHandler().scene(root);\n    view._globalCursor = false;\n    view._preventDefault = false;\n    view._timers = [];\n    view._eventListeners = [];\n    view._resizeListeners = []; // initialize event configuration\n\n    view._eventConfig = initializeEventConfig(spec.eventConfig);\n    view.globalCursor(view._eventConfig.globalCursor); // initialize dataflow graph\n\n    const ctx = runtime(view, spec, options.expr);\n    view._runtime = ctx;\n    view._signals = ctx.signals;\n    view._bind = (spec.bindings || []).map(_ => ({\n      state: null,\n      param: vegaUtil.extend({}, _)\n    })); // initialize scenegraph\n\n    if (ctx.root) ctx.root.set(root);\n    root.source = ctx.data.root.input;\n    view.pulse(ctx.data.root.input, view.changeset().insert(root.items)); // initialize view size\n\n    view._width = view.width();\n    view._height = view.height();\n    view._viewWidth = viewWidth(view, view._width);\n    view._viewHeight = viewHeight(view, view._height);\n    view._origin = [0, 0];\n    view._resize = 0;\n    view._autosize = 1;\n    initializeResize(view); // initialize background color\n\n    background(view); // initialize cursor\n\n    cursor(view); // initialize view description\n\n    view.description(spec.description); // initialize hover proessing, if requested\n\n    if (options.hover) view.hover(); // initialize DOM container(s) and renderer\n\n    if (options.container) view.initialize(options.container, options.bind);\n  }\n\n  function lookupSignal(view, name) {\n    return vegaUtil.hasOwnProperty(view._signals, name) ? view._signals[name] : vegaUtil.error('Unrecognized signal name: ' + vegaUtil.stringValue(name));\n  }\n\n  function findOperatorHandler(op, handler) {\n    const h = (op._targets || []).filter(op => op._update && op._update.handler === handler);\n    return h.length ? h[0] : null;\n  }\n\n  function addOperatorListener(view, name, op, handler) {\n    let h = findOperatorHandler(op, handler);\n\n    if (!h) {\n      h = trap(view, () => handler(name, op.value));\n      h.handler = handler;\n      view.on(op, null, h);\n    }\n\n    return view;\n  }\n\n  function removeOperatorListener(view, op, handler) {\n    const h = findOperatorHandler(op, handler);\n    if (h) op._targets.remove(h);\n    return view;\n  }\n\n  vegaUtil.inherits(View, vegaDataflow.Dataflow, {\n    // -- DATAFLOW / RENDERING ----\n    async evaluate(encode, prerun, postrun) {\n      // evaluate dataflow and prerun\n      await vegaDataflow.Dataflow.prototype.evaluate.call(this, encode, prerun); // render as needed\n\n      if (this._redraw || this._resize) {\n        try {\n          if (this._renderer) {\n            if (this._resize) {\n              this._resize = 0;\n              resizeRenderer(this);\n            }\n\n            await this._renderer.renderAsync(this._scenegraph.root);\n          }\n\n          this._redraw = false;\n        } catch (e) {\n          this.error(e);\n        }\n      } // evaluate postrun\n\n\n      if (postrun) vegaDataflow.asyncCallback(this, postrun);\n      return this;\n    },\n\n    dirty(item) {\n      this._redraw = true;\n      this._renderer && this._renderer.dirty(item);\n    },\n\n    // -- GET / SET ----\n    description(text) {\n      if (arguments.length) {\n        const desc = text != null ? text + '' : null;\n        if (desc !== this._desc) ariaLabel(this._el, this._desc = desc);\n        return this;\n      }\n\n      return this._desc;\n    },\n\n    container() {\n      return this._el;\n    },\n\n    scenegraph() {\n      return this._scenegraph;\n    },\n\n    origin() {\n      return this._origin.slice();\n    },\n\n    signal(name, value, options) {\n      const op = lookupSignal(this, name);\n      return arguments.length === 1 ? op.value : this.update(op, value, options);\n    },\n\n    width(_) {\n      return arguments.length ? this.signal('width', _) : this.signal('width');\n    },\n\n    height(_) {\n      return arguments.length ? this.signal('height', _) : this.signal('height');\n    },\n\n    padding(_) {\n      return arguments.length ? this.signal('padding', padding(_)) : padding(this.signal('padding'));\n    },\n\n    autosize(_) {\n      return arguments.length ? this.signal('autosize', _) : this.signal('autosize');\n    },\n\n    background(_) {\n      return arguments.length ? this.signal('background', _) : this.signal('background');\n    },\n\n    renderer(type) {\n      if (!arguments.length) return this._renderType;\n      if (!vegaScenegraph.renderModule(type)) vegaUtil.error('Unrecognized renderer type: ' + type);\n\n      if (type !== this._renderType) {\n        this._renderType = type;\n\n        this._resetRenderer();\n      }\n\n      return this;\n    },\n\n    tooltip(handler) {\n      if (!arguments.length) return this._tooltip;\n\n      if (handler !== this._tooltip) {\n        this._tooltip = handler;\n\n        this._resetRenderer();\n      }\n\n      return this;\n    },\n\n    loader(loader) {\n      if (!arguments.length) return this._loader;\n\n      if (loader !== this._loader) {\n        vegaDataflow.Dataflow.prototype.loader.call(this, loader);\n\n        this._resetRenderer();\n      }\n\n      return this;\n    },\n\n    resize() {\n      // set flag to perform autosize\n      this._autosize = 1; // touch autosize signal to ensure top-level ViewLayout runs\n\n      return this.touch(lookupSignal(this, 'autosize'));\n    },\n\n    _resetRenderer() {\n      if (this._renderer) {\n        this._renderer = null;\n        this.initialize(this._el, this._elBind);\n      }\n    },\n\n    // -- SIZING ----\n    _resizeView: resizeView,\n\n    // -- EVENT HANDLING ----\n    addEventListener(type, handler, options) {\n      let callback = handler;\n\n      if (!(options && options.trap === false)) {\n        // wrap callback in error handler\n        callback = trap(this, handler);\n        callback.raw = handler;\n      }\n\n      this._handler.on(type, callback);\n\n      return this;\n    },\n\n    removeEventListener(type, handler) {\n      var handlers = this._handler.handlers(type),\n          i = handlers.length,\n          h,\n          t; // search registered handlers, remove if match found\n\n\n      while (--i >= 0) {\n        t = handlers[i].type;\n        h = handlers[i].handler;\n\n        if (type === t && (handler === h || handler === h.raw)) {\n          this._handler.off(t, h);\n\n          break;\n        }\n      }\n\n      return this;\n    },\n\n    addResizeListener(handler) {\n      const l = this._resizeListeners;\n\n      if (l.indexOf(handler) < 0) {\n        // add handler if it isn't already registered\n        // note: error trapping handled elsewhere, so\n        // no need to wrap handlers here\n        l.push(handler);\n      }\n\n      return this;\n    },\n\n    removeResizeListener(handler) {\n      var l = this._resizeListeners,\n          i = l.indexOf(handler);\n\n      if (i >= 0) {\n        l.splice(i, 1);\n      }\n\n      return this;\n    },\n\n    addSignalListener(name, handler) {\n      return addOperatorListener(this, name, lookupSignal(this, name), handler);\n    },\n\n    removeSignalListener(name, handler) {\n      return removeOperatorListener(this, lookupSignal(this, name), handler);\n    },\n\n    addDataListener(name, handler) {\n      return addOperatorListener(this, name, dataref(this, name).values, handler);\n    },\n\n    removeDataListener(name, handler) {\n      return removeOperatorListener(this, dataref(this, name).values, handler);\n    },\n\n    globalCursor(_) {\n      if (arguments.length) {\n        if (this._globalCursor !== !!_) {\n          const prev = setCursor(this, null); // clear previous cursor\n\n          this._globalCursor = !!_;\n          if (prev) setCursor(this, prev); // swap cursor\n        }\n\n        return this;\n      } else {\n        return this._globalCursor;\n      }\n    },\n\n    preventDefault(_) {\n      if (arguments.length) {\n        this._preventDefault = _;\n        return this;\n      } else {\n        return this._preventDefault;\n      }\n    },\n\n    timer,\n    events,\n    finalize,\n    hover,\n    // -- DATA ----\n    data,\n    change,\n    insert,\n    remove,\n    // -- SCALES --\n    scale,\n    // -- INITIALIZATION ----\n    initialize,\n    // -- HEADLESS RENDERING ----\n    toImageURL: renderToImageURL,\n    toCanvas: renderToCanvas,\n    toSVG: renderToSVG,\n    // -- SAVE / RESTORE STATE ----\n    getState,\n    setState\n  });\n\n  exports.View = View;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n};"],
"names":["shadow$provide","global","require","module","exports","factory","define","amd","globalThis","self","vega","d3","vegaUtil","vegaDataflow","vegaScenegraph","d3Array","vegaFunctions","vegaRuntime","d3Timer","vegaFormat","initializeAria","view","el","container","setAttribute","ariaLabel","description","desc","removeAttribute","background","add","_","_background","bg","_resize","_signals","cursor","user","Default","item","on","events","event","value","isString","setCursor","globalCursor","document","body","style","removeProperty","dataref","name","data","_runtime","hasOwnProperty","error","change","changes","isChangeSet","dataset","modified","pulse","input","width","padding","Math","max","_viewWidth","left","right","height","_viewHeight","top","bottom","offset","origin","_origin","resizeRenderer","w","h","_renderer","resize","_handler","_resizeListeners","forEach","handler","eventExtend","r","canvas","translate","e","changedTouches","p","point","dataflow","extension","group","g","itemGroup","i","mark","interactive","xy","slice","x","y","marktype","constant","initializeEventConfig","config","extend","defaults","unpack","obj","keys","k","isArray","toSet","trackEventListener","sources","type","_eventListeners","push","array","permit","key","rule","_eventConfig","isObject","warn","itemFilter","markTarget","source","invoke","changeset","encode","element","tag","attr","text","createElement","textContent","bind","binding","param","state","elements","active","set","update","signal","runAsync","debounce","create","target","generate","node","addEventListener","bind.set","dispatchEvent","Event","div","BindClass","wrapper","appendChild","NameClass","form","checkbox","select","radio","range","checked","labels","options","option","valuesEqual","selected","selectedIndex","n","length","RadioClass","map","label","prepend","nodes","undefined","min","step","tickStep","span","a","b","initializeRenderer","constructor","scaleFactor","opt","loader","initialize","trap","fn","apply","arguments","initializeHandler","prevHandler","tooltip","scene","scenegraph","root","handlers","lookup","clear","querySelector","innerHTML","renderHeadless","ctr","renderModule","headless","renderAsync","_scenegraph","toBlobURL","mime","blob","Blob","window","URL","createObjectURL","runtime","spec","expr","context","transforms","functionContext","parse","viewWidth","autosize","Padding","contains","viewHeight","initializeResize","resetSize","_autosize","s","Width","Height","_resizeWidth","_width","size","_resizeHeight","_height","resizePadding","pad","rank","dataTest","indexOf","signalTest","op","proxy","defaultTooltip","formatTooltip","formatValue","join","isDate","formatObject","Object","v","View","Dataflow","call","logger","logLevel","locale","loc","number","time","_elBind","_el","_renderType","renderer","RenderType","Canvas","Scenegraph","_tooltip","_redraw","CanvasHandler","_preventDefault","_globalCursor","_timers","eventConfig","ctx","signals","_bind","bindings","insert","items","hover","lookupSignal","stringValue","findOperatorHandler","_targets","filter","_update","addOperatorListener","removeOperatorListener","remove","NO_TRAP","Skip","skip","inherits","evaluate","prerun","postrun","prototype","asyncCallback","dirty","_desc","_resetRenderer","_loader","touch","_resizeView","resizeView","auto","runAfter","rerun","run","callback","raw","removeEventListener","t","off","addResizeListener","l","removeResizeListener","splice","addSignalListener","removeSignalListener","addDataListener","values","removeDataListener","prev","preventDefault","timer","delay","interval","tick","elapsed","timestamp","Date","now","EventStream","send","def","prevent","allow","receive","TIMER","VIEW","WINDOW","querySelectorAll","finalize","timers","listeners","stop","m","hoverSet","leaveSet","truthy","scale","scales","elBind","Handler","Renderer","toImageURL","renderToImageURL","SVG","PNG","svg","toDataURL","toCanvas","renderToCanvas","toSVG","renderToSVG","getState","recurse","setState","_trigger","defineProperty"]
}
