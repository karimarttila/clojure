shadow$provide.module$node_modules$d3_delaunay$dist$d3_delaunay=function(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){"object"===typeof exports$jscomp$0&&"undefined"!==typeof module?factory(exports$jscomp$0):"function"===typeof define&&define.amd?define(["exports"],factory):(global=global||self,factory(global.d3=global.d3||{}))})(this,function(exports){function pseudoAngle(dx,dy){dx/=Math.abs(dx)+Math.abs(dy);return(0<dy?3-dx:1+dx)/4}function dist(ax,ay,bx,by){ax-=bx;
ay-=by;return ax*ax+ay*ay}function orientIfSure(px,py,rx,ry,qx,qy){ry=(ry-py)*(qx-px);px=(rx-px)*(qy-py);return Math.abs(ry-px)>=3.3306690738754716E-16*Math.abs(ry+px)?ry-px:0}function orient(rx,ry,qx,qy,px,py){return 0>(orientIfSure(px,py,rx,ry,qx,qy)||orientIfSure(rx,ry,qx,qy,px,py)||orientIfSure(qx,qy,px,py,rx,ry))}function quicksort(ids,dists,left,right){if(20>=right-left)for(var i=left+1;i<=right;i++){for(var temp=ids[i],tempDist=dists[temp],j=i-1;j>=left&&dists[ids[j]]>tempDist;)ids[j+1]=ids[j--];
ids[j+1]=temp}else{i=left+1;temp=right;swap(ids,left+right>>1,i);dists[ids[left]]>dists[ids[right]]&&swap(ids,left,right);dists[ids[i]]>dists[ids[right]]&&swap(ids,i,right);dists[ids[left]]>dists[ids[i]]&&swap(ids,left,i);tempDist=ids[i];for(j=dists[tempDist];;){do i++;while(dists[ids[i]]<j);do temp--;while(dists[ids[temp]]>j);if(temp<i)break;swap(ids,i,temp)}ids[left+1]=ids[temp];ids[temp]=tempDist;right-i+1>=temp-left?(quicksort(ids,dists,i,right),quicksort(ids,dists,left,temp-1)):(quicksort(ids,
dists,left,temp-1),quicksort(ids,dists,i,right))}}function swap(arr,i,j){var tmp=arr[i];arr[i]=arr[j];arr[j]=tmp}function defaultGetX(p){return p[0]}function defaultGetY(p){return p[1]}function pointX(p){return p[0]}function pointY(p){return p[1]}function collinear$jscomp$0(d){var triangles=d.triangles;d=d.coords;for(var i=0;i<triangles.length;i+=3){var a=2*triangles[i],b=2*triangles[i+1],c=2*triangles[i+2];if(1E-10<(d[c]-d[a])*(d[b+1]-d[a+1])-(d[b]-d[a])*(d[c+1]-d[a+1]))return!1}return!0}function jitter(x,
y,r){return[x+Math.sin(x+y)*r,y+Math.cos(x-y)*r]}function flatIterable(points,fx,fy,that){var i,$jscomp$iter$318,$jscomp$key$p,p;return $jscomp.generator.createGenerator(flatIterable,function($jscomp$generator$context){switch($jscomp$generator$context.nextAddress){case 1:i=0,$jscomp$iter$318=$jscomp.makeIterator(points),$jscomp$key$p=$jscomp$iter$318.next();case 2:if($jscomp$key$p.done){$jscomp$generator$context.jumpTo(0);break}p=$jscomp$key$p.value;return $jscomp$generator$context.yield(fx.call(that,
p,i,points),5);case 5:return $jscomp$generator$context.yield(fy.call(that,p,i,points),6);case 6:++i,$jscomp$key$p=$jscomp$iter$318.next(),$jscomp$generator$context.jumpTo(2)}})}var EPSILON=Math.pow(2,-52),EDGE_STACK=new Uint32Array(512),Delaunator=function(coords){var n=coords.length>>1;if(0<n&&"number"!==typeof coords[0])throw Error("Expected coords to contain numbers.");this.coords=coords;coords=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*coords);this._halfedges=new Int32Array(3*coords);
this._hashSize=Math.ceil(Math.sqrt(n));this._hullPrev=new Uint32Array(n);this._hullNext=new Uint32Array(n);this._hullTri=new Uint32Array(n);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(n);this._dists=new Float64Array(n);this.update()};Delaunator.from=function(points,getX,getY){getX=void 0===getX?defaultGetX:getX;getY=void 0===getY?defaultGetY:getY;for(var n=points.length,coords=new Float64Array(2*n),i=0;i<n;i++){var p=points[i];coords[2*i]=getX(p);coords[2*i+
1]=getY(p)}return new Delaunator(coords)};Delaunator.prototype.update=function(){for(var JSCompiler_object_inline_x_5096,JSCompiler_object_inline_y_5097,coords=this.coords,hullPrev=this._hullPrev,hullNext=this._hullNext,hullTri=this._hullTri,hullHash=this._hullHash,n=coords.length>>1,minX=Infinity,minY=Infinity,maxX=-Infinity,maxY=-Infinity,i=0;i<n;i++){var x=coords[2*i];JSCompiler_object_inline_x_5096=coords[2*i+1];x<minX&&(minX=x);JSCompiler_object_inline_x_5096<minY&&(minY=JSCompiler_object_inline_x_5096);
x>maxX&&(maxX=x);JSCompiler_object_inline_x_5096>maxY&&(maxY=JSCompiler_object_inline_x_5096);this._ids[i]=i}maxX=(minX+maxX)/2;minY=(minY+maxY)/2;minX=Infinity;for(maxY=0;maxY<n;maxY++)if(i=dist(maxX,minY,coords[2*maxY],coords[2*maxY+1]),i<minX){var i0=maxY;minX=i}minY=coords[2*i0];maxY=coords[2*i0+1];minX=Infinity;for(maxX=0;maxX<n;maxX++)if(maxX!==i0&&(i=dist(minY,maxY,coords[2*maxX],coords[2*maxX+1]),i<minX&&0<i)){var i1=maxX;minX=i}minX=coords[2*i1];maxX=coords[2*i1+1];JSCompiler_object_inline_x_5096=
Infinity;for(i=0;i<n;i++)if(i!==i0&&i!==i1){x=minX-minY;var dy=maxX-maxY;JSCompiler_object_inline_y_5097=coords[2*i]-minY;var ey=coords[2*i+1]-maxY,bl=x*x+dy*dy,cl=JSCompiler_object_inline_y_5097*JSCompiler_object_inline_y_5097+ey*ey,d=.5/(x*ey-dy*JSCompiler_object_inline_y_5097);dy=(ey*bl-dy*cl)*d;x=(x*cl-JSCompiler_object_inline_y_5097*bl)*d;x=dy*dy+x*x;if(x<JSCompiler_object_inline_x_5096){var i2=i;JSCompiler_object_inline_x_5096=x}}i=coords[2*i2];x=coords[2*i2+1];if(Infinity===JSCompiler_object_inline_x_5096){for(hullNext=
0;hullNext<n;hullNext++)this._dists[hullNext]=coords[2*hullNext]-coords[0]||coords[2*hullNext+1]-coords[1];quicksort(this._ids,this._dists,0,n-1);hullNext=new Uint32Array(n);hullPrev=coords=0;for(hullTri=-Infinity;hullPrev<n;hullPrev++)hullHash=this._ids[hullPrev],this._dists[hullHash]>hullTri&&(hullNext[coords++]=hullHash,hullTri=this._dists[hullHash]);this.hull=hullNext.subarray(0,coords);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{orient(minY,maxY,minX,maxX,i,x)&&(JSCompiler_object_inline_x_5096=
i1,JSCompiler_object_inline_y_5097=minX,bl=maxX,i1=i2,minX=i,maxX=x,i2=JSCompiler_object_inline_x_5096,i=JSCompiler_object_inline_y_5097,x=bl);JSCompiler_object_inline_y_5097=minX-minY;JSCompiler_object_inline_x_5096=maxX-maxY;bl=i-minY;ey=x-maxY;cl=JSCompiler_object_inline_y_5097*JSCompiler_object_inline_y_5097+JSCompiler_object_inline_x_5096*JSCompiler_object_inline_x_5096;d=bl*bl+ey*ey;dy=.5/(JSCompiler_object_inline_y_5097*ey-JSCompiler_object_inline_x_5096*bl);JSCompiler_object_inline_x_5096=
minY+(ey*cl-JSCompiler_object_inline_x_5096*d)*dy;JSCompiler_object_inline_y_5097=maxY+(JSCompiler_object_inline_y_5097*d-bl*cl)*dy;this._cx=JSCompiler_object_inline_x_5096;this._cy=JSCompiler_object_inline_y_5097;for(bl=0;bl<n;bl++)this._dists[bl]=dist(coords[2*bl],coords[2*bl+1],JSCompiler_object_inline_x_5096,JSCompiler_object_inline_y_5097);quicksort(this._ids,this._dists,0,n-1);this._hullStart=i0;n=3;hullNext[i0]=hullPrev[i2]=i1;hullNext[i1]=hullPrev[i0]=i2;hullNext[i2]=hullPrev[i1]=i0;hullTri[i0]=
0;hullTri[i1]=1;hullTri[i2]=2;hullHash.fill(-1);hullHash[this._hashKey(minY,maxY)]=i0;hullHash[this._hashKey(minX,maxX)]=i1;hullHash[this._hashKey(i,x)]=i2;this.trianglesLen=0;this._addTriangle(i0,i1,i2,-1,-1,-1);minY=0;for(minX=maxY=void 0;minY<this._ids.length;minY++)if(maxX=this._ids[minY],i=coords[2*maxX],x=coords[2*maxX+1],!(0<minY&&Math.abs(i-maxY)<=EPSILON&&Math.abs(x-minX)<=EPSILON)&&(maxY=i,minX=x,maxX!==i0&&maxX!==i1&&maxX!==i2)){JSCompiler_object_inline_y_5097=JSCompiler_object_inline_x_5096=
0;for(bl=this._hashKey(i,x);JSCompiler_object_inline_y_5097<this._hashSize&&(JSCompiler_object_inline_x_5096=hullHash[(bl+JSCompiler_object_inline_y_5097)%this._hashSize],-1===JSCompiler_object_inline_x_5096||JSCompiler_object_inline_x_5096===hullNext[JSCompiler_object_inline_x_5096]);JSCompiler_object_inline_y_5097++);JSCompiler_object_inline_y_5097=JSCompiler_object_inline_x_5096=hullPrev[JSCompiler_object_inline_x_5096];for(bl=void 0;bl=hullNext[JSCompiler_object_inline_y_5097],!orient(i,x,coords[2*
JSCompiler_object_inline_y_5097],coords[2*JSCompiler_object_inline_y_5097+1],coords[2*bl],coords[2*bl+1]);)if(JSCompiler_object_inline_y_5097=bl,JSCompiler_object_inline_y_5097===JSCompiler_object_inline_x_5096){JSCompiler_object_inline_y_5097=-1;break}if(-1!==JSCompiler_object_inline_y_5097){cl=this._addTriangle(JSCompiler_object_inline_y_5097,maxX,hullNext[JSCompiler_object_inline_y_5097],-1,-1,hullTri[JSCompiler_object_inline_y_5097]);hullTri[maxX]=this._legalize(cl+2);hullTri[JSCompiler_object_inline_y_5097]=
cl;n++;for(d=hullNext[JSCompiler_object_inline_y_5097];bl=hullNext[d],orient(i,x,coords[2*d],coords[2*d+1],coords[2*bl],coords[2*bl+1]);)cl=this._addTriangle(d,maxX,bl,hullTri[maxX],-1,hullTri[d]),hullTri[maxX]=this._legalize(cl+2),hullNext[d]=d,n--,d=bl;if(JSCompiler_object_inline_y_5097===JSCompiler_object_inline_x_5096)for(;bl=hullPrev[JSCompiler_object_inline_y_5097],orient(i,x,coords[2*bl],coords[2*bl+1],coords[2*JSCompiler_object_inline_y_5097],coords[2*JSCompiler_object_inline_y_5097+1]);)cl=
this._addTriangle(bl,maxX,JSCompiler_object_inline_y_5097,-1,hullTri[JSCompiler_object_inline_y_5097],hullTri[bl]),this._legalize(cl+2),hullTri[bl]=cl,hullNext[JSCompiler_object_inline_y_5097]=JSCompiler_object_inline_y_5097,n--,JSCompiler_object_inline_y_5097=bl;this._hullStart=hullPrev[maxX]=JSCompiler_object_inline_y_5097;hullNext[JSCompiler_object_inline_y_5097]=hullPrev[d]=maxX;hullNext[maxX]=d;hullHash[this._hashKey(i,x)]=maxX;hullHash[this._hashKey(coords[2*JSCompiler_object_inline_y_5097],
coords[2*JSCompiler_object_inline_y_5097+1])]=JSCompiler_object_inline_y_5097}}this.hull=new Uint32Array(n);coords=0;for(hullPrev=this._hullStart;coords<n;coords++)this.hull[coords]=hullPrev,hullPrev=hullNext[hullPrev];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}};Delaunator.prototype._hashKey=function(x,y){return Math.floor(pseudoAngle(x-this._cx,y-this._cy)*this._hashSize)%this._hashSize};Delaunator.prototype._legalize=
function(a){for(var triangles=this._triangles,halfedges=this._halfedges,coords=this.coords,i=0,ar;;){var b=halfedges[a],a0=a-a%3;ar=a0+(a+2)%3;if(-1===b){if(0===i)break;a=EDGE_STACK[--i]}else{var b0=b-b%3,bl=b0+(b+2)%3,p0=triangles[ar],pr=triangles[a],pl=triangles[a0+(a+1)%3];a0=triangles[bl];var px=coords[2*a0],py=coords[2*a0+1],dx=coords[2*p0]-px,dy=coords[2*p0+1]-py,ex=coords[2*pr]-px;pr=coords[2*pr+1]-py;px=coords[2*pl]-px;pl=coords[2*pl+1]-py;py=ex*ex+pr*pr;var cp=px*px+pl*pl;if(0>dx*(pr*cp-
py*pl)-dy*(ex*cp-py*px)+(dx*dx+dy*dy)*(ex*pl-pr*px)){triangles[a]=a0;triangles[b]=p0;p0=halfedges[bl];if(-1===p0){a0=this._hullStart;do{if(this._hullTri[a0]===bl){this._hullTri[a0]=a;break}a0=this._hullPrev[a0]}while(a0!==this._hullStart)}this._link(a,p0);this._link(b,halfedges[ar]);this._link(ar,bl);ar=b0+(b+1)%3;i<EDGE_STACK.length&&(EDGE_STACK[i++]=ar)}else{if(0===i)break;a=EDGE_STACK[--i]}}}return ar};Delaunator.prototype._link=function(a,b){this._halfedges[a]=b;-1!==b&&(this._halfedges[b]=a)};
Delaunator.prototype._addTriangle=function(i0,i1,i2,a,b,c){var t=this.trianglesLen;this._triangles[t]=i0;this._triangles[t+1]=i1;this._triangles[t+2]=i2;this._link(t,a);this._link(t+1,b);this._link(t+2,c);this.trianglesLen+=3;return t};var Path=function(){this._x0=this._y0=this._x1=this._y1=null;this._=""};Path.prototype.moveTo=function(x,y){this._+="M"+(this._x0=this._x1=+x)+","+(this._y0=this._y1=+y)};Path.prototype.closePath=function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+=
"Z")};Path.prototype.lineTo=function(x,y){this._+="L"+(this._x1=+x)+","+(this._y1=+y)};Path.prototype.arc=function(x,y,r){x=+x;y=+y;r=+r;var x0=x+r,y0=y;if(0>r)throw Error("negative radius");if(null===this._x1)this._+="M"+x0+","+y0;else if(1E-6<Math.abs(this._x1-x0)||1E-6<Math.abs(this._y1-y0))this._+="L"+x0+","+y0;r&&(this._+="A"+r+","+r+",0,1,1,"+(x-r)+","+y+"A"+r+","+r+",0,1,1,"+(this._x1=x0)+","+(this._y1=y0))};Path.prototype.rect=function(x,y,w,h){this._+="M"+(this._x0=this._x1=+x)+","+(this._y0=
this._y1=+y)+"h"+ +w+"v"+ +h+"h"+-w+"Z"};Path.prototype.value=function(){return this._||null};var Polygon=function(){this._=[]};Polygon.prototype.moveTo=function(x,y){this._.push([x,y])};Polygon.prototype.closePath=function(){this._.push(this._[0].slice())};Polygon.prototype.lineTo=function(x,y){this._.push([x,y])};Polygon.prototype.value=function(){return this._.length?this._:null};var Voronoi=function(delaunay,$jscomp$destructuring$var67){var $jscomp$destructuring$var68=$jscomp.makeIterator(void 0===
$jscomp$destructuring$var67?[0,0,960,500]:$jscomp$destructuring$var67);$jscomp$destructuring$var67=$jscomp$destructuring$var68.next().value;var ymin=$jscomp$destructuring$var68.next().value,xmax=$jscomp$destructuring$var68.next().value;$jscomp$destructuring$var68=$jscomp$destructuring$var68.next().value;if(!((xmax=+xmax)>=($jscomp$destructuring$var67=+$jscomp$destructuring$var67)&&($jscomp$destructuring$var68=+$jscomp$destructuring$var68)>=(ymin=+ymin)))throw Error("invalid bounds");this.delaunay=
delaunay;this._circumcenters=new Float64Array(2*delaunay.points.length);this.vectors=new Float64Array(2*delaunay.points.length);this.xmax=xmax;this.xmin=$jscomp$destructuring$var67;this.ymax=$jscomp$destructuring$var68;this.ymin=ymin;this._init()};Voronoi.prototype.update=function(){this.delaunay.update();this._init();return this};Voronoi.prototype._init=function(){var $jscomp$destructuring$var70=this.delaunay,points=$jscomp$destructuring$var70.points,hull=$jscomp$destructuring$var70.hull,triangles=
$jscomp$destructuring$var70.triangles;$jscomp$destructuring$var70=this.vectors;for(var circumcenters=this.circumcenters=this._circumcenters.subarray(0,triangles.length/3*2),i=0,j=0,n=triangles.length,x,y;i<n;i+=3,j+=2){y=2*triangles[i];var t2=2*triangles[i+1],t3=2*triangles[i+2];x=points[y];y=points[y+1];var x3=points[t3],y3=points[t3+1];t3=points[t2]-x;var dy=points[t2+1]-y;t2=x3-x;var ey=y3-y,bl=t3*t3+dy*dy,cl=t2*t2+ey*ey,ab=2*(t3*ey-dy*t2);ab?1E-8>Math.abs(ab)?(x=(x+x3)/2,y=(y+y3)/2):(x3=1/ab,
x+=(ey*bl-dy*cl)*x3,y+=(t3*cl-t2*bl)*x3):(x=(x+x3)/2-1E8*ey,y=(y+y3)/2+1E8*t2);circumcenters[j]=x;circumcenters[j+1]=y}triangles=hull[hull.length-1];i=4*triangles;n=points[2*triangles];y=points[2*triangles+1];$jscomp$destructuring$var70.fill(0);for(t3=0;t3<hull.length;++t3)triangles=hull[t3],circumcenters=i,j=n,x=y,i=4*triangles,n=points[2*triangles],y=points[2*triangles+1],$jscomp$destructuring$var70[circumcenters+2]=$jscomp$destructuring$var70[i]=x-y,$jscomp$destructuring$var70[circumcenters+3]=
$jscomp$destructuring$var70[i+1]=n-j};Voronoi.prototype.render=function(context){var buffer=null==context?context=new Path:void 0,$jscomp$destructuring$var72=this.delaunay,halfedges=$jscomp$destructuring$var72.halfedges,inedges=$jscomp$destructuring$var72.inedges;$jscomp$destructuring$var72=$jscomp$destructuring$var72.hull;var circumcenters=this.circumcenters,vectors=this.vectors;if(1>=$jscomp$destructuring$var72.length)return null;for(var i=0,n=halfedges.length;i<n;++i){var j=halfedges[i];if(!(j<
i)){var ti=2*Math.floor(i/3);j=2*Math.floor(j/3);this._renderSegment(circumcenters[ti],circumcenters[ti+1],circumcenters[j],circumcenters[j+1],context)}}halfedges=$jscomp$destructuring$var72[$jscomp$destructuring$var72.length-1];for(i=0;i<$jscomp$destructuring$var72.length;++i)j=halfedges,halfedges=$jscomp$destructuring$var72[i],ti=2*Math.floor(inedges[halfedges]/3),n=circumcenters[ti],ti=circumcenters[ti+1],j*=4,(j=this._project(n,ti,vectors[j+2],vectors[j+3]))&&this._renderSegment(n,ti,j[0],j[1],
context);return buffer&&buffer.value()};Voronoi.prototype.renderBounds=function(context){var buffer=null==context?context=new Path:void 0;context.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return buffer&&buffer.value()};Voronoi.prototype.renderCell=function(i,context){var buffer=null==context?context=new Path:void 0;i=this._clip(i);if(null!==i&&i.length){context.moveTo(i[0],i[1]);for(var n=i.length;i[0]===i[n-2]&&i[1]===i[n-1]&&1<n;)n-=2;for(var i$729=2;i$729<n;i$729+=2)i[i$729]===
i[i$729-2]&&i[i$729+1]===i[i$729-1]||context.lineTo(i[i$729],i[i$729+1]);context.closePath();return buffer&&buffer.value()}};Voronoi.prototype.cellPolygons=function $jscomp$generator$function(){var $jscomp$generator$this=this,$jscomp$destructuring$var73,$jscomp$destructuring$var74,points,i,n,cell;return $jscomp.generator.createGenerator($jscomp$generator$function,function($jscomp$generator$context){switch($jscomp$generator$context.nextAddress){case 1:$jscomp$destructuring$var73=$jscomp$generator$this,
$jscomp$destructuring$var74=$jscomp$destructuring$var73.delaunay,points=$jscomp$destructuring$var74.points,i=0,n=points.length/2;case 2:if(!(i<n)){$jscomp$generator$context.jumpTo(0);break}cell=$jscomp$generator$this.cellPolygon(i);if(!cell){$jscomp$generator$context.jumpTo(3);break}cell.index=i;return $jscomp$generator$context.yield(cell,6);case 6:case 3:++i,$jscomp$generator$context.jumpTo(2)}})};Voronoi.prototype.cellPolygon=function(i){var polygon=new Polygon;this.renderCell(i,polygon);return polygon.value()};
Voronoi.prototype._renderSegment=function(x0,y0,x1,y1,context){var c0=this._regioncode(x0,y0),c1=this._regioncode(x1,y1);if(0===c0&&0===c1)context.moveTo(x0,y0),context.lineTo(x1,y1);else if(x0=this._clipSegment(x0,y0,x1,y1,c0,c1))context.moveTo(x0[0],x0[1]),context.lineTo(x0[2],x0[3])};Voronoi.prototype.contains=function(i,x,y){return(x=+x,x!==x)||(y=+y,y!==y)?!1:this.delaunay._step(i,x,y)===i};Voronoi.prototype.neighbors=function $jscomp$generator$function(i){var $jscomp$generator$this=this,ci,
$jscomp$iter$317,$jscomp$key$j,j,cj,ai,li,aj,lj;return $jscomp.generator.createGenerator($jscomp$generator$function,function($jscomp$generator$context){switch($jscomp$generator$context.nextAddress){case 1:ci=$jscomp$generator$this._clip(i);if(!ci){$jscomp$generator$context.jumpTo(0);break}$jscomp$iter$317=$jscomp.makeIterator($jscomp$generator$this.delaunay.neighbors(i));$jscomp$key$j=$jscomp$iter$317.next();case 3:if($jscomp$key$j.done){$jscomp$generator$context.jumpTo(0);break}j=$jscomp$key$j.value;
cj=$jscomp$generator$this._clip(j);if(!cj){$jscomp$generator$context.jumpTo(4);break}ai=0;li=ci.length;case 9:if(!(ai<li)){$jscomp$generator$context.jumpTo(4);break}aj=0;lj=cj.length;case 10:if(!(aj<lj)){ai+=2;$jscomp$generator$context.jumpTo(9);break}if(ci[ai]!=cj[aj]||ci[ai+1]!=cj[aj+1]||ci[(ai+2)%li]!=cj[(aj+lj-2)%lj]||ci[(ai+3)%li]!=cj[(aj+lj-1)%lj]){$jscomp$generator$context.jumpTo(11);break}return $jscomp$generator$context.yield(j,14);case 14:$jscomp$generator$context.jumpTo(4);break;case 11:aj+=
2;$jscomp$generator$context.jumpTo(10);break;case 4:$jscomp$key$j=$jscomp$iter$317.next(),$jscomp$generator$context.jumpTo(3)}})};Voronoi.prototype._cell=function(i){var circumcenters=this.circumcenters,$jscomp$destructuring$var76=this.delaunay,halfedges=$jscomp$destructuring$var76.halfedges,triangles=$jscomp$destructuring$var76.triangles;$jscomp$destructuring$var76=$jscomp$destructuring$var76.inedges[i];if(-1===$jscomp$destructuring$var76)return null;var points=[],e=$jscomp$destructuring$var76;do{var t=
Math.floor(e/3);points.push(circumcenters[2*t],circumcenters[2*t+1]);e=2===e%3?e-2:e+1;if(triangles[e]!==i)break;e=halfedges[e]}while(e!==$jscomp$destructuring$var76&&-1!==e);return points};Voronoi.prototype._clip=function(i){if(0===i&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var points=this._cell(i);if(null===points)return null;var V=this.vectors,v=4*i;return V[v]||V[v+1]?this._clipInfinite(i,points,V[v],V[v+1],V[v+2],V[v+
3]):this._clipFinite(i,points)};Voronoi.prototype._clipFinite=function(i,points){for(var n=points.length,P=null,x0,y0,x1=points[n-2],y1=points[n-1],c0,c1=this._regioncode(x1,y1),e0,e1,j=0;j<n;j+=2)if(x0=x1,y0=y1,x1=points[j],y1=points[j+1],c0=c1,c1=this._regioncode(x1,y1),0===c0&&0===c1)e1=0,P?P.push(x1,y1):P=[x1,y1];else{if(0===c0){if(null===(x0=this._clipSegment(x0,y0,x1,y1,c0,c1)))continue;y0=$jscomp.makeIterator(x0);y0.next();y0.next();x0=y0.next().value;c0=y0.next().value}else{if(null===(x0=
this._clipSegment(x1,y1,x0,y0,c1,c0)))continue;e0=$jscomp.makeIterator(x0);x0=e0.next().value;c0=e0.next().value;y0=e0.next().value;var sy0=e0.next().value;e0=e1;e1=this._edgecode(y0,sy0);e0&&e1&&this._edge(i,e0,e1,P,P.length);P?P.push(y0,sy0):P=[y0,sy0]}e0=e1;e1=this._edgecode(x0,c0);e0&&e1&&this._edge(i,e0,e1,P,P.length);P?P.push(x0,c0):P=[x0,c0]}if(P)e0=e1,e1=this._edgecode(P[0],P[1]),e0&&e1&&this._edge(i,e0,e1,P,P.length);else if(this.contains(i,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,
this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return P};Voronoi.prototype._clipSegment=function(x0,y0,x1,y1,c0,c1){for(;;){if(0===c0&&0===c1)return[x0,y0,x1,y1];if(c0&c1)return null;var x=c0||c1;if(x&8){x=x0+(x1-x0)*(this.ymax-y0)/(y1-y0);var y=this.ymax}else x&4?(x=x0+(x1-x0)*(this.ymin-y0)/(y1-y0),y=this.ymin):x&2?(y=y0+(y1-y0)*(this.xmax-x0)/(x1-x0),x=this.xmax):(y=y0+(y1-y0)*(this.xmin-x0)/(x1-x0),x=this.xmin);c0?(x0=x,y0=y,c0=this._regioncode(x0,y0)):(x1=x,y1=y,c1=this._regioncode(x1,
y1))}};Voronoi.prototype._clipInfinite=function(i,points,vx0,vy0,vxn,vyn){points=Array.from(points);var p;(p=this._project(points[0],points[1],vx0,vy0))&&points.unshift(p[0],p[1]);(p=this._project(points[points.length-2],points[points.length-1],vxn,vyn))&&points.push(p[0],p[1]);if(points=this._clipFinite(i,points))for(vx0=0,vy0=points.length,vyn=this._edgecode(points[vy0-2],points[vy0-1]);vx0<vy0;vx0+=2)vxn=vyn,vyn=this._edgecode(points[vx0],points[vx0+1]),vxn&&vyn&&(vx0=this._edge(i,vxn,vyn,points,
vx0),vy0=points.length);else this.contains(i,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(points=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return points};Voronoi.prototype._edge=function(i,e0,e1,P,j){for(;e0!==e1;){var x=void 0,y=void 0;switch(e0){case 5:e0=4;continue;case 4:e0=6;x=this.xmax;y=this.ymin;break;case 6:e0=2;continue;case 2:e0=10;x=this.xmax;y=this.ymax;break;case 10:e0=8;continue;case 8:e0=9;x=this.xmin;y=this.ymax;break;case 9:e0=1;continue;
case 1:e0=5,x=this.xmin,y=this.ymin}P[j]===x&&P[j+1]===y||!this.contains(i,x,y)||(P.splice(j,0,x,y),j+=2)}if(4<P.length)for(i=0;i<P.length;i+=2)if(e0=(i+2)%P.length,e1=(i+4)%P.length,P[i]===P[e0]&&P[e0]===P[e1]||P[i+1]===P[e0+1]&&P[e0+1]===P[e1+1])P.splice(e0,2),i-=2;return j};Voronoi.prototype._project=function(x0,y0,vx,vy){var t=Infinity,c;if(0>vy){if(y0<=this.ymin)return null;if((c=(this.ymin-y0)/vy)<t){var y=this.ymin;var x=x0+(t=c)*vx}}else if(0<vy){if(y0>=this.ymax)return null;(c=(this.ymax-
y0)/vy)<t&&(y=this.ymax,x=x0+(t=c)*vx)}if(0<vx){if(x0>=this.xmax)return null;(c=(this.xmax-x0)/vx)<t&&(x=this.xmax,y=y0+c*vy)}else if(0>vx){if(x0<=this.xmin)return null;(c=(this.xmin-x0)/vx)<t&&(x=this.xmin,y=y0+c*vy)}return[x,y]};Voronoi.prototype._edgecode=function(x,y){return(x===this.xmin?1:x===this.xmax?2:0)|(y===this.ymin?4:y===this.ymax?8:0)};Voronoi.prototype._regioncode=function(x,y){return(x<this.xmin?1:x>this.xmax?2:0)|(y<this.ymin?4:y>this.ymax?8:0)};var tau=2*Math.PI,pow=Math.pow,Delaunay=
function(points){this._delaunator=new Delaunator(points);this.inedges=new Int32Array(points.length/2);this._hullIndex=new Int32Array(points.length/2);this.points=this._delaunator.coords;this._init()};Delaunay.from=function(points,fx,fy,that){fx=void 0===fx?pointX:fx;fy=void 0===fy?pointY:fy;if("length"in points){for(var n=points.length,array=new Float64Array(2*n),i=0;i<n;++i){var p=points[i];array[2*i]=fx.call(that,p,i,points);array[2*i+1]=fy.call(that,p,i,points)}points=array}else points=Float64Array.from(flatIterable(points,
fx,fy,that));return new Delaunay(points)};Delaunay.prototype.update=function(){this._delaunator.update();this._init();return this};Delaunay.prototype._init=function(){var d=this._delaunator,points=this.points;if(d.hull&&2<d.hull.length&&collinear$jscomp$0(d)){this.collinear=Int32Array.from({length:points.length/2},function(_,i){return i}).sort(function(i,j){return points[2*i]-points[2*j]||points[2*i+1]-points[2*j+1]});d=this.collinear[0];var f=this.collinear[this.collinear.length-1];d=[points[2*d],
points[2*d+1],points[2*f],points[2*f+1]];d=1E-8*Math.hypot(d[3]-d[1],d[2]-d[0]);f=0;for(var n=points.length/2;f<n;++f){var p=jitter(points[2*f],points[2*f+1],d);points[2*f]=p[0];points[2*f+1]=p[1]}this._delaunator=new Delaunator(points)}else delete this.collinear;p=this.halfedges=this._delaunator.halfedges;d=this.hull=this._delaunator.hull;var triangles=this.triangles=this._delaunator.triangles;f=this.inedges.fill(-1);n=this._hullIndex.fill(-1);for(var e$732=0,n$733=p.length;e$732<n$733;++e$732){var p$734=
triangles[2===e$732%3?e$732-2:e$732+1];if(-1===p[e$732]||-1===f[p$734])f[p$734]=e$732}p=0;for(triangles=d.length;p<triangles;++p)n[d[p]]=p;2>=d.length&&0<d.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=d[0],this.triangles[1]=d[1],this.triangles[2]=d[1],f[d[0]]=1,2===d.length&&(f[d[1]]=0))};Delaunay.prototype.voronoi=function(bounds){return new Voronoi(this,bounds)};Delaunay.prototype.neighbors=function $jscomp$generator$function(i){var $jscomp$generator$this=
this,$jscomp$destructuring$var81,inedges,hull,_hullIndex,halfedges,triangles,collinear,l,e0,e,p0,p;return $jscomp.generator.createGenerator($jscomp$generator$function,function($jscomp$generator$context){switch($jscomp$generator$context.nextAddress){case 1:$jscomp$destructuring$var81=$jscomp$generator$this;inedges=$jscomp$destructuring$var81.inedges;hull=$jscomp$destructuring$var81.hull;_hullIndex=$jscomp$destructuring$var81._hullIndex;halfedges=$jscomp$destructuring$var81.halfedges;triangles=$jscomp$destructuring$var81.triangles;
collinear=$jscomp$destructuring$var81.collinear;if(!collinear){$jscomp$generator$context.jumpTo(2);break}l=collinear.indexOf(i);if(!(0<l)){$jscomp$generator$context.jumpTo(3);break}return $jscomp$generator$context.yield(collinear[l-1],3);case 3:if(!(l<collinear.length-1)){$jscomp$generator$context.jumpTo(5);break}return $jscomp$generator$context.yield(collinear[l+1],5);case 5:return $jscomp$generator$context.return();case 2:e0=inedges[i];if(-1===e0)return $jscomp$generator$context.return();e=e0;p0=
-1;case 7:return $jscomp$generator$context.yield(p0=triangles[e],10);case 10:e=2===e%3?e-2:e+1;if(triangles[e]!==i)return $jscomp$generator$context.return();e=halfedges[e];if(-1!==e){$jscomp$generator$context.jumpTo(9);break}p=hull[(_hullIndex[i]+1)%hull.length];if(p===p0){$jscomp$generator$context.jumpTo(12);break}return $jscomp$generator$context.yield(p,12);case 12:return $jscomp$generator$context.return();case 9:e!==e0?$jscomp$generator$context.jumpTo(7):$jscomp$generator$context.jumpToEnd()}})};
Delaunay.prototype.find=function(x,y,i){i=void 0===i?0:i;if((x=+x,x!==x)||(y=+y,y!==y))return-1;for(var i0=i,c;0<=(c=this._step(i,x,y))&&c!==i&&c!==i0;)i=c;return c};Delaunay.prototype._step=function(i,x,y){var inedges=this.inedges,hull=this.hull,_hullIndex=this._hullIndex,halfedges=this.halfedges,triangles=this.triangles,points=this.points;if(-1===inedges[i]||!points.length)return(i+1)%(points.length>>1);var c=i,dc=pow(x-points[2*i],2)+pow(y-points[2*i+1],2),e=inedges=inedges[i];do{var t=triangles[e],
dt=pow(x-points[2*t],2)+pow(y-points[2*t+1],2);dt<dc&&(dc=dt,c=t);e=2===e%3?e-2:e+1;if(triangles[e]!==i)break;e=halfedges[e];if(-1===e){e=hull[(_hullIndex[i]+1)%hull.length];if(e!==t&&pow(x-points[2*e],2)+pow(y-points[2*e+1],2)<dc)return e;break}}while(e!==inedges);return c};Delaunay.prototype.render=function(context){for(var buffer=null==context?context=new Path:void 0,points=this.points,halfedges=this.halfedges,triangles=this.triangles,i=0,n=halfedges.length;i<n;++i){var j=halfedges[i];if(!(j<i)){var ti=
2*triangles[i];j=2*triangles[j];context.moveTo(points[ti],points[ti+1]);context.lineTo(points[j],points[j+1])}}this.renderHull(context);return buffer&&buffer.value()};Delaunay.prototype.renderPoints=function(context,r){r=void 0===r?2:r;for(var buffer=null==context?context=new Path:void 0,points=this.points,i=0,n=points.length;i<n;i+=2){var x=points[i],y=points[i+1];context.moveTo(x+r,y);context.arc(x,y,r,0,tau)}return buffer&&buffer.value()};Delaunay.prototype.renderHull=function(context){var buffer=
null==context?context=new Path:void 0,hull=this.hull,points=this.points,h=2*hull[0],n=hull.length;context.moveTo(points[h],points[h+1]);for(h=1;h<n;++h){var h$737=2*hull[h];context.lineTo(points[h$737],points[h$737+1])}context.closePath();return buffer&&buffer.value()};Delaunay.prototype.hullPolygon=function(){var polygon=new Polygon;this.renderHull(polygon);return polygon.value()};Delaunay.prototype.renderTriangle=function(i,context){var buffer=null==context?context=new Path:void 0,points=this.points,
triangles=this.triangles,t0=2*triangles[i*=3],t1=2*triangles[i+1];i=2*triangles[i+2];context.moveTo(points[t0],points[t0+1]);context.lineTo(points[t1],points[t1+1]);context.lineTo(points[i],points[i+1]);context.closePath();return buffer&&buffer.value()};Delaunay.prototype.trianglePolygons=function $jscomp$generator$function(){var $jscomp$generator$this=this,$jscomp$destructuring$var87,triangles,i,n;return $jscomp.generator.createGenerator($jscomp$generator$function,function($jscomp$generator$context){1==
$jscomp$generator$context.nextAddress&&($jscomp$destructuring$var87=$jscomp$generator$this,triangles=$jscomp$destructuring$var87.triangles,i=0,n=triangles.length/3);if(3!=$jscomp$generator$context.nextAddress)return i<n?$jscomp$generator$context.yield($jscomp$generator$this.trianglePolygon(i),3):$jscomp$generator$context.jumpTo(0);++i;return $jscomp$generator$context.jumpTo(2)})};Delaunay.prototype.trianglePolygon=function(i){var polygon=new Polygon;this.renderTriangle(i,polygon);return polygon.value()};
exports.Delaunay=Delaunay;exports.Voronoi=Voronoi;Object.defineProperty(exports,"__esModule",{value:!0})})}
//# sourceMappingURL=module$node_modules$d3_delaunay$dist$d3_delaunay.js.map
