shadow$provide.module$node_modules$d3_geo_projection$dist$d3_geo_projection=function(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){"object"===typeof exports$jscomp$0&&"undefined"!==typeof module?factory(exports$jscomp$0,require("module$node_modules$d3_geo$dist$d3_geo"),require("module$node_modules$d3_array$dist$d3_array")):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-array"],factory):factory(global.d3=global.d3||{},global.d3,global.d3)})(this,
function(exports,d3Geo,d3Array){function asin(x){return 1<x?halfPi:-1>x?-halfPi:Math.asin(x)}function acos(x){return 1<x?0:-1>x?pi$jscomp$0:Math.acos(x)}function sqrt(x){return 0<x?Math.sqrt(x):0}function sinh(x){return(exp(x)-exp(-x))/2}function cosh(x){return(exp(x)+exp(-x))/2}function airyRaw(beta){function forward(x,y){var cosx=cos(x),cosy=cos(y);y=sin(y);cosx*=cosy;cosx=-((1-cosx?log((1+cosx)/2)/(1-cosx):-.5)+b/(1+cosx));return[cosx*cosy*sin(x),cosx*y]}var tanBeta_2=tan(beta/2),b=2*log(cos(beta/
2))/(tanBeta_2*tanBeta_2);forward.invert=function(x,y){var r=sqrt(x*x+y*y),z=-beta/2,i=50;if(!r)return[0,0];do{var z_2=z/2;var delta=cos(z_2);z_2=sin(z_2);var tanz_2=z_2/delta,lnsecz_2=-log(abs(delta));z-=delta=(2/tanz_2*lnsecz_2-b*tanz_2-r)/(-lnsecz_2/(z_2*z_2)+1-b/(2*delta*delta))*(0>delta?.7:1)}while(1E-6<abs(delta)&&0<--i);i=sin(z);return[atan2(x*i,r*cos(z)),asin(y*i/r)]};return forward}function aitoffRaw(x,y){var cosy=cos(y);var sincia=(sincia=acos(cosy*cos(x/=2)))?sincia/Math.sin(sincia):1;
return[2*cosy*sin(x)*sincia,sin(y)*sincia]}function armadilloRaw(phi0){function forward(lambda,phi){var cosPhi=cos(phi),cosLambda=cos(lambda/=2);return[(1+cosPhi)*sin(lambda),(sPhi0*phi>-atan2(cosLambda,tanPhi0)-.001?0:10*-sPhi0)+k+sin(phi)*cosPhi0-(1+cosPhi)*sinPhi0*cosLambda]}var sinPhi0=sin(phi0),cosPhi0=cos(phi0),sPhi0=0<=phi0?1:-1,tanPhi0=tan(sPhi0*phi0),k=(1+sinPhi0-cosPhi0)/2;forward.invert=function(x,y){var lambda=0,phi=0,i=50;do{var cosLambda=cos(lambda),sinLambda=sin(lambda),cosPhi=cos(phi),
sinPhi=sin(phi),A=1+cosPhi,fx=A*sinLambda-x,fy=k+sinPhi*cosPhi0-A*sinPhi0*cosLambda-y,dxdLambda=A*cosLambda/2,dxdPhi=-sinLambda*sinPhi;sinLambda=sinPhi0*A*sinLambda/2;cosPhi=cosPhi0*cosPhi+sinPhi0*cosLambda*sinPhi;cosLambda=dxdPhi*sinLambda-cosPhi*dxdLambda;dxdPhi=(fy*dxdPhi-fx*cosPhi)/cosLambda/2;fx=(fx*sinLambda-fy*dxdLambda)/cosLambda;2<abs(fx)&&(fx/=2);lambda-=dxdPhi;phi-=fx}while((1E-6<abs(dxdPhi)||1E-6<abs(fx))&&0<--i);return sPhi0*phi>-atan2(cos(lambda),tanPhi0)-.001?[2*lambda,phi]:null};return forward}
function augustRaw(lambda,phi){phi=tan(phi/2);var k=sqrt(1-phi*phi),c=1+k*cos(lambda/=2);lambda=sin(lambda)*k/c;phi/=c;c=lambda*lambda;k=phi*phi;return[4/3*lambda*(3+c-3*k),4/3*phi*(3+3*c-k)]}function bakerRaw(lambda,phi){var phi0=abs(phi);return phi0<quarterPi?[lambda,log(tan(quarterPi+phi/2))]:[lambda*cos(phi0)*(2*sqrt2-1/sin(phi0)),sign(phi)*(2*sqrt2*(phi0-quarterPi)-log(tan(phi0/2)))]}function berghausRaw(lobes){function forward(lambda,phi){phi=d3Geo.geoAzimuthalEquidistantRaw(lambda,phi);if(abs(lambda)>
halfPi){lambda=atan2(phi[1],phi[0]);var r=sqrt(phi[0]*phi[0]+phi[1]*phi[1]),theta0=k*round((lambda-halfPi)/k)+halfPi,alpha=atan2(sin(lambda-=theta0),2-cos(lambda));lambda=theta0+asin(pi$jscomp$0/r*sin(alpha))-alpha;phi[0]=r*cos(lambda);phi[1]=r*sin(lambda)}return phi}var k=2*pi$jscomp$0/lobes;forward.invert=function(x,y){var r=sqrt(x*x+y*y);if(r>halfPi){var theta=atan2(y,x);x=k*round((theta-halfPi)/k)+halfPi;y=theta>x?-1:1;theta=r*cos(x-theta);theta=1/tan(y*acos((theta-pi$jscomp$0)/sqrt(pi$jscomp$0*
(pi$jscomp$0-2*theta)+r*r)));theta=x+2*atan((theta+y*sqrt(theta*theta-3))/3);x=r*cos(theta);y=r*sin(theta)}return d3Geo.geoAzimuthalEquidistantRaw.invert(x,y)};return forward}function hammerRaw(A,B){function forward(lambda,phi){lambda=d3Geo.geoAzimuthalEqualAreaRaw(lambda/B,phi);lambda[0]*=A;return lambda}2>arguments.length&&(B=A);if(1===B)return d3Geo.geoAzimuthalEqualAreaRaw;if(Infinity===B)return hammerQuarticAuthalicRaw;forward.invert=function(x,y){x=d3Geo.geoAzimuthalEqualAreaRaw.invert(x/A,
y);x[0]*=B;return x};return forward}function hammerQuarticAuthalicRaw(lambda,phi){return[lambda*cos(phi)/cos(phi/=2),2*sin(phi)]}function solve(f,y,x){var steps=100;x=void 0===x?0:+x;y=+y;do{var delta=f(x);var f1=f(x+1E-6);delta===f1&&(f1=delta+1E-6);x-=delta=-1E-6*(delta-y)/(delta-f1)}while(0<steps--&&1E-6<abs(delta));return 0>steps?NaN:x}function solve2d(f,MAX_ITERATIONS,eps){void 0===MAX_ITERATIONS&&(MAX_ITERATIONS=40);void 0===eps&&(eps=1E-12);return function(x,y,a,b){a=void 0===a?0:+a;b=void 0===
b?0:+b;for(var i=0;i<MAX_ITERATIONS;i++){var p=f(a,b),tx=p[0]-x,ty=p[1]-y;if(abs(tx)<eps&&abs(ty)<eps)break;var h=tx*tx+ty*ty;if(h>err2)a-=da/=2,b-=db/=2;else{var err2=h;h=(0<a?-1:1)*eps;var eb=(0<b?-1:1)*eps;var da=f(a+h,b);var pb=f(a,b+eb);var db=(da[0]-p[0])/h;h=(da[1]-p[1])/h;da=(pb[0]-p[0])/eb;p=(pb[1]-p[1])/eb;eb=p*db-h*da;eb=(.5>abs(eb)?.5:1)/eb;da=(ty*da-tx*p)*eb;db=(tx*h-ty*db)*eb;a+=da;b+=db;if(abs(da)<eps&&abs(db)<eps)break}}return[a,b]}}function bertin1953Raw(){function forward(lambda,
phi){if(-1.4>lambda+phi){var u=(lambda-phi+1.6)*(lambda+phi+1.4)/8;lambda+=u;phi-=.8*u*sin(phi+pi$jscomp$0/2)}u=hammer$$1(lambda,phi);lambda=(1-cos(lambda*phi))/12;0>u[1]&&(u[0]*=1+lambda);0<u[1]&&(u[1]*=1+lambda/1.5*u[0]*u[0]);return u}var hammer$$1=hammerRaw(1.68,2);forward.invert=solve2d(forward);return forward}function mollweideBromleyTheta(cp,phi){cp*=sin(phi);var i=30,delta;do phi-=delta=(phi+sin(phi)-cp)/(1+cos(phi));while(1E-6<abs(delta)&&0<--i);return phi/2}function mollweideBromleyRaw(cx,
cy,cp){function forward(lambda,phi){return[cx*lambda*cos(phi=mollweideBromleyTheta(cp,phi)),cy*sin(phi)]}forward.invert=function(x,y){return y=asin(y/cy),[x/(cx*cos(y)),asin((2*y+sin(2*y))/cp)]};return forward}function boggsRaw(lambda,phi){var theta=mollweideBromleyTheta(pi$jscomp$0,phi);return[2.00276*lambda/(1/cos(phi)+1.11072/cos(theta)),(phi+sqrt2*sin(theta))/2.00276]}function parallel1(projectAt){var phi0=0,m=d3Geo.geoProjectionMutator(projectAt);projectAt=m(phi0);projectAt.parallel=function(_){return arguments.length?
m(phi0=_*radians):phi0*degrees};return projectAt}function sinusoidalRaw(lambda,phi){return[lambda*cos(phi),phi]}function bonneRaw(phi0){function forward(lambda,phi){var rho=cotPhi0+phi0-phi;lambda=rho?lambda*cos(phi)/rho:rho;return[rho*sin(lambda),cotPhi0-rho*cos(lambda)]}if(!phi0)return sinusoidalRaw;var cotPhi0=1/tan(phi0);forward.invert=function(x,y){var rho=sqrt(x*x+(y=cotPhi0-y)*y),phi=cotPhi0+phi0-rho;return[rho/cos(phi)*atan2(x,y),phi]};return forward}function bottomleyRaw(sinPsi){function forward(lambda,
phi){lambda=(phi=halfPi-phi)?lambda*sinPsi*sin(phi)/phi:phi;return[phi*sin(lambda)/sinPsi,halfPi-phi*cos(lambda)]}forward.invert=function(x,y){x*=sinPsi;var y1=halfPi-y;y=sqrt(x*x+y1*y1);x=atan2(x,y1);return[(y?y/sin(y):1)*x/sinPsi,halfPi-y]};return forward}function distance$jscomp$0(dPhi,c1,s1,c2,s2,dLambda){var cosdLambda=cos(dLambda);if(1<abs(dPhi)||1<abs(dLambda))dPhi=acos(s1*s2+c1*c2*cosdLambda);else{dPhi=sin(dPhi/2);var sindLambda=sin(dLambda/2);dPhi=2*asin(sqrt(dPhi*dPhi+c1*c2*sindLambda*sindLambda))}return 1E-6<
abs(dPhi)?[dPhi,atan2(c2*sin(dLambda),c1*s2-s1*c2*cosdLambda)]:[0,0]}function angle(b,c,a){return acos((b*b+c*c-a*a)/(2*b*c))}function chamberlinRaw(p0,p1,p2){var points=[[p0[0],p0[1],sin(p0[1]),cos(p0[1])],[p1[0],p1[1],sin(p1[1]),cos(p1[1])],[p2[0],p2[1],sin(p2[1]),cos(p2[1])]];p0=points[2];for(p2=0;3>p2;++p2,p0=p1)p1=points[p2],p0.v=distance$jscomp$0(p1[1]-p0[1],p0[3],p0[2],p1[3],p1[2],p1[0]-p0[0]),p0.point=[0,0];p0=angle(points[0].v[0],points[2].v[0],points[1].v[0]);var beta1=angle(points[0].v[0],
points[1].v[0],points[2].v[0]),beta2=pi$jscomp$0-p0;points[2].point[1]=0;points[0].point[0]=-(points[1].point[0]=points[0].v[0]/2);var mean=[points[2].point[0]=points[0].point[0]+points[2].v[0]*cos(p0),2*(points[0].point[1]=points[1].point[1]=points[2].v[0]*sin(p0))];return function(lambda,phi){var sinPhi=sin(phi),cosPhi=cos(phi),v=Array(3),i;for(i=0;3>i;++i){var p=points[i];v[i]=distance$jscomp$0(phi-p[1],p[3],p[2],cosPhi,sinPhi,lambda-p[0]);if(!v[i][0])return p.point;var JSCompiler_temp_const=v[i];
p=v[i][1]-p.v[1];p-=2*pi$jscomp$0*floor((p+pi$jscomp$0)/(2*pi$jscomp$0));JSCompiler_temp_const[1]=p}lambda=mean.slice();for(i=0;3>i;++i)phi=angle(points[i].v[0],v[i][0],v[2==i?0:i+1][0]),0>v[i][1]&&(phi=-phi),i?1==i?(phi=beta1-phi,lambda[0]-=v[i][0]*cos(phi),lambda[1]-=v[i][0]*sin(phi)):(phi=beta2-phi,lambda[0]+=v[i][0]*cos(phi),lambda[1]+=v[i][0]*sin(phi)):(lambda[0]+=v[i][0]*cos(phi),lambda[1]-=v[i][0]*sin(phi));lambda[0]/=3;lambda[1]/=3;return lambda}}function pointRadians(p){return p[0]*=radians,
p[1]*=radians,p}function chamberlin(p0,p1,p2){var c=d3Geo.geoCentroid({type:"MultiPoint",coordinates:[p0,p1,p2]});c=[-c[0],-c[1]];var r=d3Geo.geoRotation(c);p0=chamberlinRaw(pointRadians(r(p0)),pointRadians(r(p1)),pointRadians(r(p2)));p0.invert=solve2d(p0);p0=d3Geo.geoProjection(p0).rotate(c);var center=p0.center;delete p0.rotate;p0.center=function(_){return arguments.length?center(r(_)):r.invert(center())};return p0.clipAngle(90)}function collignonRaw(lambda,phi){phi=sqrt(1-sin(phi));return[2/sqrtPi*
lambda*phi,sqrtPi*(1-phi)]}function craigRaw(phi0){function forward(lambda,phi){return[lambda,(lambda?lambda/sin(lambda):1)*(sin(phi)*cos(lambda)-tanPhi0*cos(phi))]}var tanPhi0=tan(phi0);forward.invert=tanPhi0?function(x,y){x&&(y*=sin(x)/x);var cosLambda=cos(x);return[x,2*atan2(sqrt(cosLambda*cosLambda+tanPhi0*tanPhi0-y*y)-cosLambda,tanPhi0-y)]}:function(x,y){return[x,asin(x?y*tan(x)/x:y)]};return forward}function crasterRaw(lambda,phi){return[sqrt3*lambda*(2*cos(2*phi/3)-1)/sqrtPi,sqrt3*sqrtPi*sin(phi/
3)]}function cylindricalEqualAreaRaw(phi0){function forward(lambda,phi){return[lambda*cosPhi0,sin(phi)/cosPhi0]}var cosPhi0=cos(phi0);forward.invert=function(x,y){return[x/cosPhi0,asin(y*cosPhi0)]};return forward}function cylindricalStereographicRaw(phi0){function forward(lambda,phi){return[lambda*cosPhi0,(1+cosPhi0)*tan(phi/2)]}var cosPhi0=cos(phi0);forward.invert=function(x,y){return[x/cosPhi0,2*atan(y/(1+cosPhi0))]};return forward}function eckert1Raw(lambda,phi){var alpha=sqrt(8/(3*pi$jscomp$0));
return[alpha*lambda*(1-abs(phi)/pi$jscomp$0),alpha*phi]}function eckert2Raw(lambda,phi){var alpha=sqrt(4-3*sin(abs(phi)));return[2/sqrt(6*pi$jscomp$0)*lambda*alpha,sign(phi)*sqrt(2*pi$jscomp$0/3)*(2-alpha)]}function eckert3Raw(lambda,phi){var k=sqrt(pi$jscomp$0*(4+pi$jscomp$0));return[2/k*lambda*(1+sqrt(1-4*phi*phi/(pi$jscomp$0*pi$jscomp$0))),4/k*phi]}function eckert4Raw(lambda,phi){var k=(2+halfPi)*sin(phi);phi/=2;for(var i=0,delta=Infinity;10>i&&1E-6<abs(delta);i++)delta=cos(phi),phi-=delta=(phi+
sin(phi)*(delta+2)-k)/(2*delta*(1+delta));return[2/sqrt(pi$jscomp$0*(4+pi$jscomp$0))*lambda*(1+cos(phi)),2*sqrt(pi$jscomp$0/(4+pi$jscomp$0))*sin(phi)]}function eckert5Raw(lambda,phi){return[lambda*(1+cos(phi))/sqrt(2+pi$jscomp$0),2*phi/sqrt(2+pi$jscomp$0)]}function eckert6Raw(lambda,phi){for(var k=(1+halfPi)*sin(phi),i=0,delta=Infinity;10>i&&1E-6<abs(delta);i++)phi-=delta=(phi+sin(phi)-k)/(1+cos(phi));k=sqrt(2+pi$jscomp$0);return[lambda*(1+cos(phi))/k,2*phi/k]}function eisenlohrRaw(lambda,phi){var s0=
sin(lambda/=2);lambda=cos(lambda);var k=sqrt(cos(phi)),c1=cos(phi/=2);phi=sin(phi)/(c1+sqrt2*lambda*k);var c=sqrt(2/(1+phi*phi));s0=sqrt((sqrt2*c1+(lambda+s0)*k)/(sqrt2*c1+(lambda-s0)*k));return[eisenlohrK*(c*(s0-1/s0)-2*log(s0)),eisenlohrK*(c*phi*(s0+1/s0)-2*atan(phi))]}function faheyRaw(lambda,phi){phi=tan(phi/2);return[lambda*faheyK*sqrt(1-phi*phi),(1+faheyK)*phi]}function foucautRaw(lambda,phi){var k=phi/2,cosk=cos(k);return[2*lambda/sqrtPi*cos(phi)*cosk*cosk,sqrtPi*tan(k)]}function foucautSinusoidalRaw(alpha){function raw(lambda,
phi){var cosphi=cos(phi),sinphi=sin(phi);return[cosphi/(beta+alpha*cosphi)*lambda,beta*phi+alpha*sinphi]}function forward(lambda,phi){lambda=raw(lambda,phi);return[lambda[0]*ratio,lambda[1]/ratio]}function forwardMeridian(phi){return forward(0,phi)[1]}var beta=1-alpha,equatorial=raw(pi$jscomp$0,0)[0]-raw(-pi$jscomp$0,0)[0],polar=raw(0,halfPi)[1]-raw(0,-halfPi)[1],ratio=sqrt(2*polar/equatorial);forward.invert=function(x,y){y=solve(forwardMeridian,y);return[x/ratio*(alpha+beta/cos(y)),y]};return forward}
function gilbertInvert(point){return[2*point[0],2*atan(sin(point[1]*radians))*degrees]}function gingeryRaw(rho,n){function forward(lambda,phi){lambda=d3Geo.geoAzimuthalEquidistantRaw(lambda,phi);phi=lambda[0];var y=lambda[1],r2=phi*phi+y*y;if(r2>rho2){var r=sqrt(r2);phi=atan2(y,phi);r2=k*round(phi/k);y=phi-r2;var rhoCosAlpha=rho*cos(y),k_=(rho*sin(y)-y*sin(rhoCosAlpha))/(halfPi-rhoCosAlpha),s_=gingeryLength(y,k_),e=(pi$jscomp$0-rho)/gingeryIntegrate(s_,rhoCosAlpha,pi$jscomp$0);phi=r;var i=50,delta;
do phi-=delta=(rho+gingeryIntegrate(s_,rhoCosAlpha,phi)*e-r)/(s_(phi)*e);while(1E-6<abs(delta)&&0<--i);y*=sin(phi);phi<halfPi&&(y-=k_*(phi-halfPi));r=sin(r2);r2=cos(r2);lambda[0]=phi*r2-y*r;lambda[1]=phi*r+y*r2}return lambda}var k=2*pi$jscomp$0/n,rho2=rho*rho;forward.invert=function(x,y){var r2=x*x+y*y;if(r2>rho2){var r=sqrt(r2);y=atan2(y,x);r2=k*round(y/k);y-=r2;x=r*cos(y);y=r*sin(y);r=x-halfPi;for(var sinx=sin(x),alpha=y/sinx,delta=x<halfPi?Infinity:0,i=10;;){var rhosinAlpha=rho*sin(alpha),rhoCosAlpha=
rho*cos(alpha),sinRhoCosAlpha=sin(rhoCosAlpha),halfPi_RhoCosAlpha=halfPi-rhoCosAlpha,k_=(rhosinAlpha-alpha*sinRhoCosAlpha)/halfPi_RhoCosAlpha,s_=gingeryLength(alpha,k_);if(1E-12>abs(delta)||!--i)break;alpha-=delta=(alpha*sinx-k_*r-y)/(sinx-2*r*(halfPi_RhoCosAlpha*(rhoCosAlpha+alpha*rhosinAlpha*cos(rhoCosAlpha)-sinRhoCosAlpha)-rhosinAlpha*(rhosinAlpha-alpha*sinRhoCosAlpha))/(halfPi_RhoCosAlpha*halfPi_RhoCosAlpha))}r=rho+gingeryIntegrate(s_,rhoCosAlpha,x)*(pi$jscomp$0-rho)/gingeryIntegrate(s_,rhoCosAlpha,
pi$jscomp$0);y=r2+alpha;x=r*cos(y);y=r*sin(y)}return d3Geo.geoAzimuthalEquidistantRaw.invert(x,y)};return forward}function gingeryLength(alpha,k){return function(x){var y_=alpha*cos(x);x<halfPi&&(y_-=k);return sqrt(1+y_*y_)}}function gingeryIntegrate(f,a,b){var h=(b-a)/50;b=f(a)+f(b);for(var i=1;50>i;++i)b+=2*f(a+=h);return.5*b*h}function ginzburgPolyconicRaw(a,b,c,d,e,f,g,h){function forward(lambda,phi){if(!phi)return[a*lambda/pi$jscomp$0,0];var phi2=phi*phi,xB=a+phi2*(b+phi2*(c+phi2*d)),yB=phi*
(e-1+phi2*(f-h+phi2*g));yB=(xB*xB+yB*yB)/(2*yB);lambda=lambda*asin(xB/yB)/pi$jscomp$0;return[yB*sin(lambda),phi*(1+phi2*h)+yB*(1-cos(lambda))]}8>arguments.length&&(h=0);forward.invert=function(x,y){var lambda=pi$jscomp$0*x/a,phi=y,i=50;do{var phi2=phi*phi,xB=a+phi2*(b+phi2*(c+phi2*d)),yB=phi*(e-1+phi2*(f-h+phi2*g)),p=xB*xB+yB*yB,q=2*yB;var deltaLambda=p/q;var m2=deltaLambda*deltaLambda;var deltaPhi=asin(xB/deltaLambda)/pi$jscomp$0;var alpha=lambda*deltaPhi,xB2=xB*xB,dxBdPhi=(2*b+phi2*(4*c+6*phi2*
d))*phi,dyBdPhi=e+phi2*(3*f+5*phi2*g);yB=(2*(xB*dxBdPhi+yB*(dyBdPhi-1))*q-2*p*(dyBdPhi-1))/(q*q);p=cos(alpha);dyBdPhi=sin(alpha);q=deltaLambda*p;alpha=deltaLambda*dyBdPhi;m2=lambda/pi$jscomp$0*(1/sqrt(1-xB2/m2))*(dxBdPhi*deltaLambda-xB*yB)/m2;xB=alpha-x;phi2=phi*(1+phi2*h)+deltaLambda-q-y;deltaLambda=yB*dyBdPhi+q*m2;xB2=q*deltaPhi;yB=1+yB-(yB*p-alpha*m2);deltaPhi*=alpha;p=deltaLambda*deltaPhi-yB*xB2;if(!p)break;lambda-=deltaLambda=(phi2*deltaLambda-xB*yB)/p;phi-=deltaPhi=(xB*deltaPhi-phi2*xB2)/p}while((1E-6<
abs(deltaLambda)||1E-6<abs(deltaPhi))&&0<--i);return[lambda,phi]};return forward}function ginzburg8Raw(lambda,phi){var lambda2=lambda*lambda,phi2=phi*phi;return[lambda*(1-.162388*phi2)*(.87-9.52426E-4*lambda2*lambda2),phi*(1+phi2/12)]}function squareRaw(project){function projectSquare(lambda,phi){var s=0<lambda?-.5:.5;lambda=project(lambda+s*pi$jscomp$0,phi);lambda[0]-=s*dx;return lambda}var dx=project(halfPi,0)[0]-project(-halfPi,0)[0];project.invert&&(projectSquare.invert=function(x,y){var s=0<
x?-.5:.5;x=project.invert(x+s*dx,y);s=x[0]-s*pi$jscomp$0;s<-pi$jscomp$0?s+=2*pi$jscomp$0:s>pi$jscomp$0&&(s-=2*pi$jscomp$0);x[0]=s;return x});return projectSquare}function gringortenRaw(lambda,phi){var sLambda=sign(lambda),sPhi=sign(phi),cosPhi=cos(phi),x=cos(lambda)*cosPhi;lambda=sin(lambda)*cosPhi;phi=sin(sPhi*phi);lambda=abs(atan2(lambda,phi));phi=asin(x);1E-6<abs(lambda-halfPi)&&(lambda%=halfPi);x=gringortenHexadecant(lambda>pi$jscomp$0/4?halfPi-lambda:lambda,phi);lambda>pi$jscomp$0/4&&(phi=x[0],
x[0]=-x[1],x[1]=-phi);return x[0]*=sLambda,x[1]*=-sPhi,x}function gringortenHexadecant(lambda,phi){if(phi===halfPi)return[0,0];var sinPhi=sin(phi),r=sinPhi*sinPhi,r2=r*r,j=1+r2,k=1+3*r2,q=1-r2,z=asin(1/sqrt(j)),v=q+r*j*z,p2=(1-sinPhi)/v,p=sqrt(p2),a2=p2*j,a=sqrt(a2),h=p*q;if(0===lambda)return[0,-(h+r*a)];var cosPhi=cos(phi),secPhi=1/cosPhi,drdPhi=2*sinPhi*cosPhi;z=(-v*cosPhi-(1-sinPhi)*(-3*r+z*k)*drdPhi)/(v*v);sinPhi=-secPhi*drdPhi;j=-secPhi*(r*j*z+p2*k*drdPhi);q=-2*secPhi*(.5*z/p*q-2*r*p*drdPhi);
p=4*lambda/pi$jscomp$0;if(lambda>.222*pi$jscomp$0||phi<pi$jscomp$0/4&&lambda>.175*pi$jscomp$0){phi=(h+r*sqrt(a2*(1+r2)-h*h))/(1+r2);if(lambda>pi$jscomp$0/4)return[phi,phi];r2=phi;secPhi=.5*phi;phi=.5*(secPhi+r2);lambda=50;do{drdPhi=sqrt(a2-phi*phi);drdPhi=phi*(q+sinPhi*drdPhi)+j*asin(phi/a)-p;if(!drdPhi)break;0>drdPhi?secPhi=phi:r2=phi;phi=.5*(secPhi+r2)}while(1E-6<abs(r2-secPhi)&&0<--lambda)}else{phi=1E-6;lambda=25;do drdPhi=phi*phi,r2=sqrt(a2-drdPhi),k=q+sinPhi*r2,secPhi=phi*k+j*asin(phi/a)-p,drdPhi=
k+(j-sinPhi*drdPhi)/r2,phi-=r2=r2?secPhi/drdPhi:0;while(1E-6<abs(r2)&&0<--lambda)}return[phi,-h-r*sqrt(a2-phi*phi)]}function ellipticJ(u,m){if(1E-6>m){var t=sin(u);var b=cos(u);var ai=m*(u-t*b)/4;return[t-ai*b,b+ai*t,1-m*t*t/2,u-ai]}if(.999999<=m){ai=(1-m)/4;b=cosh(u);t=exp(2*u);t=(t-1)/(t+1);m=1/b;var twon=b*sinh(u);return[t+ai*(twon-u)/(b*b),m-ai*t*m*(twon-u),m+ai*t*m*(twon+u),2*atan(exp(u))-halfPi+ai*(twon-u)/b]}var a=[1,0,0,0,0,0,0,0,0],c=[sqrt(m),0,0,0,0,0,0,0,0],i=0;b=sqrt(1-m);for(twon=1;1E-6<
abs(c[i]/a[i])&&8>i;)ai=a[i++],c[i]=(ai-b)/2,a[i]=(ai+b)/2,b=sqrt(ai*b),twon*=2;m=twon*a[i]*u;do t=c[i]*sin(b=m)/a[i],m=(asin(t)+m)/2;while(--i);return[sin(m),t=cos(m),t/cos(m-b),m]}function ellipticF(phi,m){if(!m)return phi;if(1===m)return log(tan(phi/2+quarterPi));var a=1,b=sqrt(1-m),c=sqrt(m);for(m=0;1E-6<abs(c);m++)phi%pi$jscomp$0?(c=atan(b*tan(phi)/a),0>c&&(c+=pi$jscomp$0),phi+=c+~~(phi/pi$jscomp$0)*pi$jscomp$0):phi+=phi,c=(a+b)/2,b=sqrt(a*b),c=((a=c)-b)/2;return phi/(pow(2,m)*a)}function guyouRaw(lambda,
phi){var k_=(sqrt2-1)/(sqrt2+1),k=sqrt(1-k_*k_),K=ellipticF(halfPi,k*k),psi=log(tan(pi$jscomp$0/4+abs(phi)/2));psi=exp(-1*psi)/sqrt(k_);k_=psi*cos(-1*lambda);var y=psi*sin(-1*lambda);lambda=k_*k_;psi=y+1;y=1-lambda-y*y;lambda=[.5*((0<=k_?halfPi:-halfPi)-atan2(y,2*k_)),-.25*log(y*y+4*lambda)+.5*log(psi*psi+lambda)];k_=lambda[0];lambda=lambda[1];k*=k;psi=abs(k_);y=abs(lambda);y=sinh(y);if(psi){var cscPhi=1/sin(psi);psi=1/(tan(psi)*tan(psi));y=-(psi+k*y*y*cscPhi*cscPhi-1+k);y=(-y+sqrt(y*y-4*(k-1)*psi))/
2;k=[ellipticF(atan(1/sqrt(y)),k)*sign(k_),ellipticF(atan(sqrt((y/psi-1)/k)),1-k)*sign(lambda)]}else k=[0,ellipticF(atan(y),1-k)*sign(lambda)];return[-k[1],(0<=phi?1:-1)*(.5*K-k[0])]}function hammerRetroazimuthalRaw(phi0){function forward(lambda,phi){var p=rotate(lambda,phi);lambda=p[0];phi=p[1];p=sin(phi);phi=cos(phi);var cosLambda=cos(lambda),z=acos(sinPhi0*p+cosPhi0*phi*cosLambda),sinz=sin(z);z=1E-6<abs(sinz)?z/sinz:1;return[z*cosPhi0*sin(lambda),(abs(lambda)>halfPi?z:-z)*(sinPhi0*phi-cosPhi0*
p*cosLambda)]}var sinPhi0=sin(phi0),cosPhi0=cos(phi0),rotate=hammerRetroazimuthalRotation(phi0);rotate.invert=hammerRetroazimuthalRotation(-phi0);forward.invert=function(x,y){var rho=sqrt(x*x+y*y),sinz=-sin(rho),cosz=cos(rho),a=rho*cosz,b=-y*sinz,c=rho*sinPhi0,d=sqrt(a*a+b*b-c*c);a=atan2(a*c+b*d,b*c-a*d);x=(rho>halfPi?-1:1)*atan2(x*sinz,rho*cos(a)*cosz+y*sin(a)*sinz);return rotate.invert(x,a)};return forward}function hammerRetroazimuthalRotation(phi0){var sinPhi0=sin(phi0),cosPhi0=cos(phi0);return function(lambda,
phi){var cosPhi=cos(phi),x=cos(lambda)*cosPhi;lambda=sin(lambda)*cosPhi;phi=sin(phi);return[atan2(lambda,x*cosPhi0-phi*sinPhi0),asin(phi*cosPhi0+x*sinPhi0)]}}function healpixRaw(H){function forward(lambda,phi){var phi2=abs(phi);if(phi2>phi0){var i=min(H-1,max(0,floor((lambda+pi$jscomp$0)/k)));lambda+=pi$jscomp$0*(H-1)/H-i*k;lambda=collignonRaw(lambda,phi2);lambda[0]=lambda[0]*tau/dx-tau*(H-1)/(2*H)+i*tau/H;lambda[1]=y0+4*(lambda[1]-y1)*dy1/tau;0>phi&&(lambda[1]=-lambda[1])}else lambda=healpixLambert(lambda,
phi);lambda[0]*=w;lambda[1]/=h;return lambda}var phi0=healpixParallel*radians,dx=collignonRaw(pi$jscomp$0,phi0)[0]-collignonRaw(-pi$jscomp$0,phi0)[0],y0=healpixLambert(0,phi0)[1],y1=collignonRaw(0,phi0)[1],dy1=sqrtPi-y1,k=tau/H,w=4/tau,h=y0+dy1*dy1*4/tau;forward.invert=function(x,y){x/=w;y*=h;var y2=abs(y);if(y2>y0){var i=min(H-1,max(0,floor((x+pi$jscomp$0)/k)));x=(x+pi$jscomp$0*(H-1)/H-i*k)*dx/tau;x=collignonRaw.invert(x,.25*(y2-y0)*tau/dy1+y1);x[0]-=pi$jscomp$0*(H-1)/H-i*k;0>y&&(x[1]=-x[1]);return x}return healpixLambert.invert(x,
y)};return forward}function sphereTop(x,i){return[x,i&1?89.999999:healpixParallel]}function sphereBottom(x,i){return[x,i&1?-89.999999:-healpixParallel]}function sphereNudge(d){return[.999999*d[0],d[1]]}function sphere(step){var c=[].concat(d3Array.range(-180,180+step/2,step).map(sphereTop),d3Array.range(180,-180-step/2,-step).map(sphereBottom));return{type:"Polygon",coordinates:[180===step?c.map(sphereNudge):c]}}function hillRaw(K){function forward(lambda,phi){var t=1-sin(phi);if(t&&2>t){var theta=
halfPi-phi,i=25;do{var delta=sin(theta);var cosTheta=cos(theta);phi=Bt+atan2(delta,L-cosTheta);cosTheta=1+L2-2*L*cosTheta;theta-=delta=(theta-K2*Bt-L*delta+cosTheta*phi-.5*t*B)/(2*L*delta*phi)}while(1E-12<abs(delta)&&0<--i);t=A*sqrt(cosTheta);lambda=lambda*phi/pi$jscomp$0}else t=A*(K+t),lambda=lambda*Bt/pi$jscomp$0;return[t*sin(lambda),rho0-t*cos(lambda)]}var L=1+K,sinBt=sin(1/L),Bt=asin(sinBt),A=2*sqrt(pi$jscomp$0/(B=pi$jscomp$0+4*Bt*L)),B,rho0=.5*A*(L+sqrt(K*(2+K))),K2=K*K,L2=L*L;forward.invert=
function(x,y){var rho2=x*x+(y-=rho0)*y;y=(1+L2-rho2/(A*A))/(2*L);var theta=acos(y),sinTheta=sin(theta),Bt_Bt1=Bt+atan2(sinTheta,L-y);return[asin(x/sqrt(rho2))*pi$jscomp$0/Bt_Bt1,asin(1-2*(theta-K2*Bt-L*sinTheta+(1+L2-2*L*y)*Bt_Bt1)/B)]};return forward}function sinuMollweideRaw(lambda,phi){return-.7109889596207567<phi?(lambda=mollweideRaw(lambda,phi),lambda[1]+=.0528035274542,lambda):sinusoidalRaw(lambda,phi)}function homolosineRaw(lambda,phi){return.7109889596207567<abs(phi)?(lambda=mollweideRaw(lambda,
phi),lambda[1]-=0<phi?.0528035274542:-.0528035274542,lambda):sinusoidalRaw(lambda,phi)}function hufnagelRaw(a,b,psiMax,ratio){function radius(psi){return sqrt(1+a*cos(2*psi)+b*cos(4*psi))}function mapping(t){t*=psiMax;return(2*t+(1+a-b/2)*sin(2*t)+(a+b)/2*sin(4*t)+b/2*sin(6*t))/psiMax}function inversemapping(psi){return radius(psi)*sin(psi)}var k=sqrt(4*pi$jscomp$0/(2*psiMax+(1+a-b/2)*sin(2*psiMax)+(a+b)/2*sin(4*psiMax)+b/2*sin(6*psiMax))),c=sqrt(ratio*sin(psiMax)*sqrt((1+a*cos(2*psiMax)+b*cos(4*
psiMax))/(1+a+b))),M=psiMax*mapping(1),forward=function(lambda,phi){var psi=psiMax*solve(mapping,M*sin(phi)/psiMax,phi/pi$jscomp$0);isNaN(psi)&&(psi=psiMax*sign(phi));phi=k*radius(psi);return[phi*c*lambda/pi$jscomp$0*cos(psi),phi/c*sin(psi)]};forward.invert=function(x,y){y=solve(inversemapping,y*c/k);return[x*pi$jscomp$0/(cos(y)*k*c*radius(y)),asin(psiMax*mapping(y/psiMax)/M)]};0===psiMax&&(k=sqrt(ratio/pi$jscomp$0),forward=function(lambda,phi){return[lambda*k,sin(phi)/k]},forward.invert=function(x,
y){return[x/k,asin(y*k)]});return forward}function adsimp(f,a,b,fa,fm,fb,V0,tol,maxdepth,depth,state){if(state.nanEncountered)return NaN;var h=b-a;var f1=f(a+.25*h);var f2=f(b-.25*h);if(isNaN(f1))state.nanEncountered=!0;else if(isNaN(f2))state.nanEncountered=!0;else{var sl=h*(fa+4*f1+fm)/12;var sr=h*(fm+4*f2+fb)/12;var s2=sl+sr;V0=(s2-V0)/15;if(depth>maxdepth)return state.maxDepthCount++,s2+V0;if(Math.abs(V0)<tol)return s2+V0;h=a+.5*h;a=adsimp(f,a,h,fa,f1,fm,sl,.5*tol,maxdepth,depth+1,state);if(isNaN(a))return state.nanEncountered=
!0,NaN;f=adsimp(f,h,b,fm,f2,fb,sr,.5*tol,maxdepth,depth+1,state);return isNaN(f)?(state.nanEncountered=!0,NaN):a+f}}function integrate(f,a,b,tol,maxdepth){void 0===tol&&(tol=1E-8);void 0===maxdepth&&(maxdepth=20);var fa=f(a),fm=f(.5*(a+b)),fb=f(b);return adsimp(f,a,b,fa,fm,fb,(fa+4*fm+fb)*(b-a)/6,tol,maxdepth,1,{maxDepthCount:0,nanEncountered:!1})}function hyperellipticalRaw(alpha,k,gamma){function elliptic(f){return alpha+(1-alpha)*pow(1-pow(f,k),1/k)}function Y(sinphi){var rmin=0,rmax=1E3,r=500;
do approx[r]>sinphi?rmax=r:rmin=r,r=rmin+rmax>>1;while(r>rmin);(rmin=approx[r+1]-approx[r])&&(rmin=(sinphi-approx[r+1])/rmin);return(r+1+rmin)/1E3}for(var G=1/integrate(elliptic,0,1,1E-4),m=1.00000001*G,approx=[],i=0;1E3>=i;i++)approx.push(integrate(elliptic,0,i/1E3,1E-4)*m);var ratio=2*Y(1)/pi$jscomp$0*G/gamma;gamma=function(lambda,phi){var y=Y(abs(sin(phi)));lambda*=elliptic(y);y/=ratio;return[lambda,0<=phi?y:-y]};gamma.invert=function(x,y){var phi;y*=ratio;1>abs(y)&&(phi=sign(y)*asin(integrate(elliptic,
0,abs(y),1E-4)*G));return[x/elliptic(abs(y)),phi]};return gamma}function interpolateLine(coordinates,m){for(var i=-1,n=coordinates.length,p0=coordinates[0],p1,dx,dy,resampled=[];++i<n;){p1=coordinates[i];dx=(p1[0]-p0[0])/m;dy=(p1[1]-p0[1])/m;for(var j=0;j<m;++j)resampled.push([p0[0]+j*dx,p0[1]+j*dy]);p0=p1}resampled.push(p1);return resampled}function interpolateSphere(lobes){var coordinates=[],i,n=lobes[0].length;for(i=0;i<n;++i){var lobe=lobes[0][i];var lambda0=lobe[0][0];var phi0=lobe[0][1];var phi1=
lobe[1][1];var lambda2=lobe[2][0];lobe=lobe[2][1];coordinates.push(interpolateLine([[lambda0+1E-6,phi0+1E-6],[lambda0+1E-6,phi1-1E-6],[lambda2-1E-6,phi1-1E-6],[lambda2-1E-6,lobe+1E-6]],30))}for(i=lobes[1].length-1;0<=i;--i)lobe=lobes[1][i],lambda0=lobe[0][0],phi0=lobe[0][1],phi1=lobe[1][1],lambda2=lobe[2][0],lobe=lobe[2][1],coordinates.push(interpolateLine([[lambda2-1E-6,lobe-1E-6],[lambda2-1E-6,phi1+1E-6],[lambda0+1E-6,phi1+1E-6],[lambda0+1E-6,phi0-1E-6]],30));return{type:"Polygon",coordinates:[d3Array.merge(coordinates)]}}
function interrupt(project,lobes,inverse){function forward(lambda,phi){for(var sign$$1=0>phi?-1:1,lobe=lobes[+(0>phi)],i=0,n=lobe.length-1;i<n&&lambda>lobe[i][2][0];++i);lambda=project(lambda-lobe[i][1][0],phi);lambda[0]+=project(lobe[i][1][0],sign$$1*phi>sign$$1*lobe[i][0][1]?lobe[i][0][1]:phi)[0];return lambda}var sphere,bounds;inverse?forward.invert=inverse(forward):project.invert&&(forward.invert=function(x,y){for(var bound=bounds[+(0>y)],lobe=lobes[+(0>y)],i=0,n=bound.length;i<n;++i){var b=bound[i];
if(b[0][0]<=x&&x<b[1][0]&&b[0][1]<=y&&y<b[1][1])return bound=project.invert(x-project(lobe[i][1][0],0)[0],y),bound[0]+=lobe[i][1][0],lobe=forward(bound[0],bound[1]),x=[x,y],1E-6>abs(lobe[0]-x[0])&&1E-6>abs(lobe[1]-x[1])?bound:null}});var p=d3Geo.geoProjection(forward),stream_=p.stream;p.stream=function(stream){var rotate=p.rotate(),rotateStream=stream_(stream),sphereStream=(p.rotate([0,0]),stream_(stream));p.rotate(rotate);rotateStream.sphere=function(){d3Geo.geoStream(sphere,sphereStream)};return rotateStream};
p.lobes=function(_){if(!arguments.length)return lobes.map(function(lobe){return lobe.map(function(l){return[[l[0][0]*degrees,l[0][1]*degrees],[l[1][0]*degrees,l[1][1]*degrees],[l[2][0]*degrees,l[2][1]*degrees]]})});sphere=interpolateSphere(_);lobes=_.map(function(lobe){return lobe.map(function(l){return[[l[0][0]*radians,l[0][1]*radians],[l[1][0]*radians,l[1][1]*radians],[l[2][0]*radians,l[2][1]*radians]]})});bounds=lobes.map(function(lobe){return lobe.map(function(l){var x0=project(l[0][0],l[0][1])[0],
x1=project(l[2][0],l[2][1])[0],y0=project(l[1][0],l[0][1])[1];l=project(l[1][0],l[1][1])[1];if(y0>l){var t=y0;y0=l;l=t}return[[x0,y0],[x1,l]]})});return p};null!=lobes&&p.lobes(lobes);return p}function kavrayskiy7Raw(lambda,phi){return[3/tau*lambda*sqrt(pi$jscomp$0*pi$jscomp$0/3-phi*phi),phi]}function lagrangeRaw(n){function forward(lambda,phi){if(1E-6>abs(abs(phi)-halfPi))return[0,0>phi?-2:2];phi=sin(phi);phi=pow((1+phi)/(1-phi),n/2);var c=.5*(phi+1/phi)+cos(lambda*=n);return[2*sin(lambda)/c,(phi-
1/phi)/c]}forward.invert=function(x,y){var y0=abs(y);if(1E-6>abs(y0-2))return x?null:[0,sign(y)*halfPi];if(2<y0)return null;x/=2;y/=2;y0=x*x;var y2=y*y;y=2*y/(1+y0+y2);y=pow((1+y)/(1-y),1/n);return[atan2(2*x,1-y0-y2)/n,asin((y-1)/(y+1))]};return forward}function larriveeRaw(lambda,phi){return[lambda*(1+sqrt(cos(phi)))/2,phi/(cos(phi/2)*cos(lambda/6))]}function laskowskiRaw(lambda,phi){var lambda2=lambda*lambda,phi2=phi*phi;return[lambda*(.975534+phi2*(-.119161+-.0143059*lambda2+-.0547009*phi2)),phi*
(1.00384+lambda2*(.0802894+-.02855*phi2+1.99025E-4*lambda2)+phi2*(.0998909+-.0491032*phi2))]}function littrowRaw(lambda,phi){return[sin(lambda)/cos(phi),tan(phi)*cos(lambda)]}function loximuthalRaw(phi0){function forward(lambda,phi){var y=phi-phi0,x=1E-6>abs(y)?lambda*cosPhi0:1E-6>abs(x=quarterPi+phi/2)||1E-6>abs(abs(x)-halfPi)?0:lambda*y/log(tan(x)/tanPhi0);return[x,y]}var cosPhi0=cos(phi0),tanPhi0=tan(quarterPi+phi0/2);forward.invert=function(x,y){var lambda,phi=y+phi0;return[1E-6>abs(y)?x/cosPhi0:
1E-6>abs(lambda=quarterPi+phi/2)||1E-6>abs(abs(lambda)-halfPi)?0:x*log(tan(lambda)/tanPhi0)/y,phi]};return forward}function millerRaw(lambda,phi){return[lambda,1.25*log(tan(quarterPi+.4*phi))]}function modifiedStereographicRaw(C){function forward(lambda,phi){var cosPhi=cos(phi),k=2/(1+cosPhi*cos(lambda));lambda=k*cosPhi*sin(lambda);phi=k*sin(phi);k=m;cosPhi=C[k];for(var ar=cosPhi[0],ai=cosPhi[1],t;0<=--k;)cosPhi=C[k],ar=cosPhi[0]+lambda*(t=ar)-phi*ai,ai=cosPhi[1]+lambda*ai+phi*t;ar=lambda*(t=ar)-
phi*ai;return[ar,lambda*ai+phi*t]}var m=C.length-1;forward.invert=function(x,y){var i=20,zr=x,zi=y;do{for(var j=m,w=C[j],ar=w[0],ai=w[1],br=0,bi=0,t;0<=--j;)w=C[j],br=ar+zr*(t=br)-zi*bi,bi=ai+zr*bi+zi*t,ar=w[0]+zr*(t=ar)-zi*ai,ai=w[1]+zr*ai+zi*t;br=ar+zr*(t=br)-zi*bi;bi=ai+zr*bi+zi*t;ar=zr*(t=ar)-zi*ai-x;ai=zr*ai+zi*t-y;w=br*br+bi*bi;zr-=j=(ar*br+ai*bi)/w;zi-=ar=(ai*br-ar*bi)/w}while(1E-12<abs(j)+abs(ar)&&0<--i);if(i)return x=sqrt(zr*zr+zi*zi),y=2*atan(.5*x),i=sin(y),[atan2(zr*i,x*cos(y)),x?asin(zi*
i/x):0]};return forward}function modifiedStereographic(coefficients,rotate){coefficients=d3Geo.geoProjection(modifiedStereographicRaw(coefficients)).rotate(rotate).clipAngle(90);var r=d3Geo.geoRotation(rotate),center=coefficients.center;delete coefficients.rotate;coefficients.center=function(_){return arguments.length?center(r(_)):r.invert(center())};return coefficients}function mtFlatPolarParabolicRaw(lambda,phi){phi=asin(7*sin(phi)/(3*sqrt6));return[sqrt6*lambda*(2*cos(2*phi/3)-1)/sqrt7,9*sin(phi/
3)/sqrt7]}function mtFlatPolarQuarticRaw(lambda,phi){for(var k=(1+sqrt1_2)*sin(phi),i=0,delta;25>i&&!(phi-=delta=(sin(phi/2)+sin(phi)-k)/(.5*cos(phi/2)+cos(phi)),1E-6>abs(delta));i++);return[lambda*(1+2*cos(phi)/cos(phi/2))/(3*sqrt2),2*sqrt(3)*sin(phi/2)/sqrt(2+sqrt2)]}function mtFlatPolarSinusoidalRaw(lambda,phi){var A=sqrt(6/(4+pi$jscomp$0)),k=(1+pi$jscomp$0/4)*sin(phi);phi/=2;for(var i=0,delta;25>i&&!(phi-=delta=(phi/2+sin(phi)-k)/(.5+cos(phi)),1E-6>abs(delta));i++);return[A*(.5+cos(phi))*lambda/
1.5,A*phi]}function naturalEarth2Raw(lambda,phi){var phi2=phi*phi,phi4=phi2*phi2,phi6=phi2*phi4;return[lambda*(.84719-.13063*phi2+phi6*phi6*(-.04515+.05494*phi2-.02326*phi4+.00331*phi6)),phi*(1.01183+phi4*phi4*(-.02625+.01926*phi2-.00396*phi4))]}function nellHammerRaw(lambda,phi){return[lambda*(1+cos(phi))/2,2*(phi-tan(phi/2))]}function nicolosiRaw(lambda,phi){var sinPhi=sin(phi),q=cos(phi),s=sign(lambda);if(0===lambda||abs(phi)===halfPi)return[0,phi];if(0===phi)return[lambda,0];if(abs(lambda)===
halfPi)return[lambda*q,halfPi*sinPhi];lambda=pi$jscomp$0/(2*lambda)-2*lambda/pi$jscomp$0;var c=2*phi/pi$jscomp$0,d=(1-c*c)/(sinPhi-c),b2=lambda*lambda,d2=d*d;c=1+b2/d2;var d2b2=1+d2/b2,M=(lambda*sinPhi/d-lambda/2)/c,N=(d2*sinPhi/b2+d/2)/d2b2;sinPhi=N*N-(d2*sinPhi*sinPhi/b2+d*sinPhi-1)/d2b2;return[halfPi*(M+sqrt(M*M+q*q/c)*s),halfPi*(N+sqrt(0>sinPhi?0:sinPhi)*sign(-phi*lambda)*s)]}function pattersonRaw(lambda,phi){var phi2=phi*phi;return[lambda,phi*(1.0148+phi2*phi2*(.23185+phi2*(-.14499+.02406*phi2)))]}
function polyconicRaw(lambda,phi){if(1E-6>abs(phi))return[lambda,0];var tanPhi=tan(phi);lambda*=sin(phi);return[sin(lambda)/tanPhi,phi+(1-cos(lambda))/tanPhi]}function matrix(a,b){var u=subtract(a[1],a[0]),v=subtract(b[1],b[0]),phi=atan2(u[0]*v[1]-u[1]*v[0],u[0]*v[0]+u[1]*v[1]);u=sqrt(u[0]*u[0]+u[1]*u[1])/sqrt(v[0]*v[0]+v[1]*v[1]);return multiply([1,0,a[0][0],0,1,a[0][1]],multiply([u,0,0,0,u,0],multiply([cos(phi),sin(phi),0,-sin(phi),cos(phi),0],[1,0,-b[0][0],0,1,-b[0][1]])))}function multiply(a,
b){return[a[0]*b[0]+a[1]*b[3],a[0]*b[1]+a[1]*b[4],a[0]*b[2]+a[1]*b[5]+a[2],a[3]*b[0]+a[4]*b[3],a[3]*b[1]+a[4]*b[4],a[3]*b[2]+a[4]*b[5]+a[5]]}function subtract(a,b){return[a[0]-b[0],a[1]-b[1]]}function polyhedral(root,face){function recurse(node,parent){node.edges=faceEdges(node.face);if(parent.face){var shared=node.shared=sharedEdge(node.face,parent.face),m=matrix(shared.map(parent.project),shared.map(node.project));node.transform=parent.transform?multiply(parent.transform,m):m;m=parent.edges;for(var i=
0,n=m.length;i<n;++i)pointEqual$1(shared[0],m[i][1])&&pointEqual$1(shared[1],m[i][0])&&(m[i]=node),pointEqual$1(shared[0],m[i][0])&&pointEqual$1(shared[1],m[i][1])&&(m[i]=node);m=node.edges;i=0;for(n=m.length;i<n;++i)pointEqual$1(shared[0],m[i][0])&&pointEqual$1(shared[1],m[i][1])&&(m[i]=parent),pointEqual$1(shared[0],m[i][1])&&pointEqual$1(shared[1],m[i][0])&&(m[i]=parent)}else node.transform=parent.transform;node.children&&node.children.forEach(function(child){recurse(child,node)});return node}
function forward(lambda,phi){var node=face(lambda,phi);lambda=node.project([lambda*degrees,phi*degrees]);if(node=node.transform)return[node[0]*lambda[0]+node[1]*lambda[1]+node[2],-(node[3]*lambda[0]+node[4]*lambda[1]+node[5])];lambda[1]=-lambda[1];return lambda}function faceInvert(node,coordinates){var invert=node.project.invert,t=node.transform,point=coordinates;if(t){var k=1/(t[0]*t[4]-t[1]*t[3]);t=[k*t[4],-k*t[1],k*(t[1]*t[5]-t[2]*t[4]),-k*t[3],k*t[0],k*(t[2]*t[3]-t[0]*t[5])];point=[t[0]*point[0]+
t[1]*point[1]+t[2],t[3]*point[0]+t[4]*point[1]+t[5]]}if(t=invert)invert=p=invert(point),invert=face(invert[0]*radians,invert[1]*radians),t=node===invert;if(t)return p;var p;node=node.children;invert=0;for(point=node&&node.length;invert<point;++invert)if(p=faceInvert(node[invert],coordinates))return p}recurse(root,{transform:null});hasInverse(root)&&(forward.invert=function(x,y){return(x=faceInvert(root,[x,-y]))&&(x[0]*=radians,x[1]*=radians,x)});var proj=d3Geo.geoProjection(forward),stream_=proj.stream;
proj.stream=function(stream){var rotate=proj.rotate(),rotateStream=stream_(stream),sphereStream=(proj.rotate([0,0]),stream_(stream));proj.rotate(rotate);rotateStream.sphere=function(){sphereStream.polygonStart();sphereStream.lineStart();outline(sphereStream,root);sphereStream.lineEnd();sphereStream.polygonEnd()};return rotateStream};return proj.angle(-30)}function outline(stream,node,parent){var point,edges=node.edges,n=edges.length;var edge={type:"MultiPoint",coordinates:node.face};var notPoles=
node.face.filter(function(d){return 90!==abs(d[1])}),b=d3Geo.geoBounds({type:"MultiPoint",coordinates:notPoles});notPoles=!1;var j=-1,dx=b[1][0]-b[0][0];b=180===dx||360===dx?[(b[0][0]+b[1][0])/2,(b[0][1]+b[1][1])/2]:d3Geo.geoCentroid(edge);if(parent)for(;++j<n&&edges[j]!==parent;);++j;for(dx=0;dx<n;++dx)edge=edges[(dx+j)%n],Array.isArray(edge)?(notPoles||(stream.point((point=d3Geo.geoInterpolate(edge[0],b)(1E-6))[0],point[1]),notPoles=!0),stream.point((point=d3Geo.geoInterpolate(edge[1],b)(1E-6))[0],
point[1])):(notPoles=!1,edge!==parent&&outline(stream,edge,node))}function pointEqual$1(a,b){return a&&b&&a[0]===b[0]&&a[1]===b[1]}function sharedEdge(a,b){for(var x,y,n=a.length,found=null,i=0;i<n;++i){x=a[i];for(var j=b.length;0<=--j;)if(y=b[j],x[0]===y[0]&&x[1]===y[1]){if(found)return[found,x];found=x}}}function faceEdges(face){for(var n=face.length,edges=[],a=face[n-1],i=0;i<n;++i)edges.push([a,a=face[i]]);return edges}function hasInverse(node){return node.project.invert||node.children&&node.children.some(hasInverse)}
function collignonK(a,b){a=collignonRaw(a,b);return[a[0]*kx,a[1]]}function dot(a,b){for(var i=0,n=a.length,s=0;i<n;++i)s+=a[i]*b[i];return s}function cross(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function spherical(cartesian){return[atan2(cartesian[1],cartesian[0])*degrees,asin(max(-1,min(1,cartesian[2])))*degrees]}function cartesian$jscomp$0(coordinates){var lambda=coordinates[0]*radians;coordinates=coordinates[1]*radians;var cosphi=cos(coordinates);return[cosphi*
cos(lambda),cosphi*sin(lambda),sin(coordinates)]}function projectFeatureCollection(o,stream){return{type:"FeatureCollection",features:o.features.map(function(f){return projectFeature(f,stream)})}}function projectFeature(o,stream){return{type:"Feature",id:o.id,properties:o.properties,geometry:projectGeometry(o.geometry,stream)}}function projectGeometryCollection(o$jscomp$0,stream){return{type:"GeometryCollection",geometries:o$jscomp$0.geometries.map(function(o){return projectGeometry(o,stream)})}}
function projectGeometry(o,stream){if(!o)return null;if("GeometryCollection"===o.type)return projectGeometryCollection(o,stream);switch(o.type){case "Point":var sink=sinkPoint;break;case "MultiPoint":sink=sinkPoint;break;case "LineString":sink=sinkLine;break;case "MultiLineString":sink=sinkLine;break;case "Polygon":sink=sinkPolygon;break;case "MultiPolygon":sink=sinkPolygon;break;case "Sphere":sink=sinkPolygon;break;default:return null}d3Geo.geoStream(o,stream(sink));return sink.result()}function quincuncial(project){function projectQuincuncial(lambda,
phi){var t=abs(lambda)<halfPi;phi=project(t?lambda:0<lambda?lambda-pi$jscomp$0:lambda+pi$jscomp$0,phi);lambda=(phi[0]-phi[1])*sqrt1_2;phi=(phi[0]+phi[1])*sqrt1_2;if(t)return[lambda,phi];t=dx*sqrt1_2;var s=0<lambda^0<phi?-1:1;return[s*lambda-sign(phi)*t,s*phi-sign(lambda)*t]}var dx=project(halfPi,0)[0]-project(-halfPi,0)[0];project.invert&&(projectQuincuncial.invert=function(x0,y0){var x=(x0+y0)*sqrt1_2,y=(y0-x0)*sqrt1_2,t=abs(x)<.5*dx&&abs(y)<.5*dx;if(!t){var d=dx*sqrt1_2,s=0<x^0<y?-1:1;x0=-s*x0+
(0<y?1:-1)*d;y0=-s*y0+(0<x?1:-1)*d;x=(-x0-y0)*sqrt1_2;y=(x0-y0)*sqrt1_2}y0=project.invert(x,y);t||(y0[0]+=0<x?pi$jscomp$0:-pi$jscomp$0);return y0});return d3Geo.geoProjection(projectQuincuncial).rotate([-90,-90,45]).clipAngle(179.999)}function rectangularPolyconicRaw(phi0){function forward(lambda,phi){lambda=sinPhi0?tan(lambda*sinPhi0/2)/sinPhi0:lambda/2;if(!phi)return[2*lambda,-phi0];lambda=2*atan(lambda*sin(phi));var cotPhi=1/tan(phi);return[sin(lambda)*cotPhi,phi+(1-cos(lambda))*cotPhi-phi0]}var sinPhi0=
sin(phi0);forward.invert=function(x,y){if(1E-6>abs(y+=phi0))return[sinPhi0?2*atan(sinPhi0*x/2)/sinPhi0:x,0];var k=x*x+y*y,phi=0,i=10;do{var delta=tan(phi);var secPhi=1/cos(phi),j=k-2*y*phi+phi*phi;phi-=delta=(delta*j+2*(phi-y))/(2+j*secPhi*secPhi+2*(phi-y)*delta)}while(1E-6<abs(delta)&&0<--i);x*=delta=tan(phi);y=tan(abs(y)<abs(phi+1/delta)?.5*asin(x):.5*acos(x)+pi$jscomp$0/4)/sin(phi);return[sinPhi0?2*atan(sinPhi0*y)/sinPhi0:2*y,phi]};return forward}function robinsonRaw(lambda,phi){var i=min(18,36*
abs(phi)/pi$jscomp$0),i0=floor(i);i-=i0;var ax=(k=K$1[i0])[0],ay=k[1],bx=(k=K$1[++i0])[0],by=k[1];i0=(k=K$1[min(19,++i0)])[0];k=k[1];var k;return[lambda*(bx+i*(i0-ax)/2+i*i*(i0-2*bx+ax)/2),(0<phi?halfPi:-halfPi)*(by+i*(k-ay)/2+i*i*(k-2*by+ay)/2)]}function satelliteVerticalRaw(P){function forward(lambda,phi){var cosPhi=cos(phi),k=(P-1)/(P-cosPhi*cos(lambda));return[k*cosPhi*sin(lambda),k*sin(phi)]}forward.invert=function(x,y){var rho2=x*x+y*y,rho=sqrt(rho2);rho2=(P-sqrt(1-rho2*(P+1)/(P-1)))/((P-1)/
rho+rho/(P-1));return[atan2(x*rho2,rho*sqrt(1-rho2*rho2)),rho?asin(y*rho2/rho):0]};return forward}function satelliteRaw(P,omega){function forward(lambda,phi){lambda=vertical(lambda,phi);phi=lambda[1];var A=phi*sinOmega/(P-1)+cosOmega;return[lambda[0]*cosOmega/A,phi/A]}var vertical=satelliteVerticalRaw(P);if(!omega)return vertical;var cosOmega=cos(omega),sinOmega=sin(omega);forward.invert=function(x,y){var k=(P-1)/(P-1-y*sinOmega);return vertical.invert(k*x,k*y*cosOmega)};return forward}function nonempty(coordinates){return 0<
coordinates.length}function normalizePoint(y){return-90===y||90===y?[0,y]:[-180,Math.floor(1E4*y)/1E4]}function clampPoint(p){var x=p[0],y=p[1],clamped=!1;-179.9999>=x?(x=-180,clamped=!0):179.9999<=x&&(x=180,clamped=!0);-89.9999>=y?(y=-90,clamped=!0):89.9999<=y&&(y=90,clamped=!0);return clamped?[x,y]:p}function clampPoints(points){return points.map(clampPoint)}function extractFragments(rings,polygon,fragments){for(var j=0,m=rings.length;j<m;++j){var ring=rings[j].slice();fragments.push({index:-1,
polygon:polygon,ring:ring});for(var i=0,n=ring.length;i<n;++i){var point=ring[i],x=point[0],y=point[1];if(-179.9999>=x||179.9999<=x||-89.9999>=y||89.9999<=y){ring[i]=clampPoint(point);for(point=i+1;point<n;++point){var pointk=ring[point];x=pointk[0];pointk=pointk[1];if(-179.9999<x&&179.9999>x&&-89.9999<pointk&&89.9999>pointk)break}if(point!==i+1){i?(i={index:-1,polygon:polygon,ring:ring.slice(0,i+1)},i.ring[i.ring.length-1]=normalizePoint(y),fragments[fragments.length-1]=i):fragments.pop();if(point>=
n)break;fragments.push({index:-1,polygon:polygon,ring:ring=ring.slice(point-1)});ring[0]=normalizePoint(ring[0][1]);i=-1;n=ring.length}}}}}function stitchFragments(fragments){var i,n=fragments.length,fragmentByStart={},fragmentByEnd={};for(i=0;i<n;++i){var fragment=fragments[i];var start=fragment.ring[0];var end=fragment.ring[fragment.ring.length-1];start[0]===end[0]&&start[1]===end[1]?(fragment.polygon.push(fragment.ring),fragments[i]=null):(fragment.index=i,fragmentByStart[start]=fragmentByEnd[end]=
fragment)}for(i=0;i<n;++i)if(fragment=fragments[i]){start=fragment.ring[0];end=fragment.ring[fragment.ring.length-1];var startFragment=fragmentByEnd[start];var endFragment=fragmentByStart[end];delete fragmentByStart[start];delete fragmentByEnd[end];start[0]===end[0]&&start[1]===end[1]?fragment.polygon.push(fragment.ring):startFragment?(delete fragmentByEnd[start],delete fragmentByStart[startFragment.ring[0]],startFragment.ring.pop(),fragments[startFragment.index]=null,fragment={index:-1,polygon:startFragment.polygon,
ring:startFragment.ring.concat(fragment.ring)},startFragment===endFragment?fragment.polygon.push(fragment.ring):(fragment.index=n++,fragments.push(fragmentByStart[fragment.ring[0]]=fragmentByEnd[fragment.ring[fragment.ring.length-1]]=fragment))):endFragment?(delete fragmentByStart[end],delete fragmentByEnd[endFragment.ring[endFragment.ring.length-1]],fragment.ring.pop(),fragment={index:n++,polygon:endFragment.polygon,ring:fragment.ring.concat(endFragment.ring)},fragments[endFragment.index]=null,fragments.push(fragmentByStart[fragment.ring[0]]=
fragmentByEnd[fragment.ring[fragment.ring.length-1]]=fragment)):(fragment.ring.push(fragment.ring[0]),fragment.polygon.push(fragment.ring))}}function stitchFeature(input){var output={type:"Feature",geometry:stitchGeometry(input.geometry)};null!=input.id&&(output.id=input.id);null!=input.bbox&&(output.bbox=input.bbox);null!=input.properties&&(output.properties=input.properties);return output}function stitchGeometry(input){if(null==input)return input;switch(input.type){case "GeometryCollection":var output=
{type:"GeometryCollection",geometries:input.geometries.map(stitchGeometry)};break;case "Point":output={type:"Point",coordinates:clampPoint(input.coordinates)};break;case "MultiPoint":case "LineString":output={type:input.type,coordinates:clampPoints(input.coordinates)};break;case "MultiLineString":output={type:"MultiLineString",coordinates:input.coordinates.map(clampPoints)};break;case "Polygon":var i=[];extractFragments(input.coordinates,i,output=[]);stitchFragments(output);output={type:"Polygon",
coordinates:i};break;case "MultiPolygon":output=[];i=-1;var n=input.coordinates.length;for(var polygons=Array(n);++i<n;)extractFragments(input.coordinates[i],polygons[i]=[],output);stitchFragments(output);output={type:"MultiPolygon",coordinates:polygons.filter(nonempty)};break;default:return input}null!=input.bbox&&(output.bbox=input.bbox);return output}function timesRaw(lambda,phi){phi=tan(phi/2);var s=sin(quarterPi*phi);return[lambda*(.74482-.34588*s*s),1.70711*phi]}function twoPoint(raw,p0,p1){var i=
d3Geo.geoInterpolate(p0,p1);p1=i(.5);p0=d3Geo.geoRotation([-p1[0],-p1[1]])(p0);i=i.distance/2;var y=-asin(sin(p0[1]*radians)/sin(i));p1=[-p1[0],-p1[1],-(0<p0[0]?pi$jscomp$0-y:y)*degrees];raw=d3Geo.geoProjection(raw(i)).rotate(p1);var r=d3Geo.geoRotation(p1),center=raw.center;delete raw.rotate;raw.center=function(_){return arguments.length?center(r(_)):r.invert(center())};return raw.clipAngle(90)}function twoPointAzimuthalRaw(d){function forward(lambda,phi){lambda=d3Geo.geoGnomonicRaw(lambda,phi);
lambda[0]*=cosd;return lambda}var cosd=cos(d);forward.invert=function(x,y){return d3Geo.geoGnomonicRaw.invert(x/cosd,y)};return forward}function twoPointAzimuthal(p0,p1){return twoPoint(twoPointAzimuthalRaw,p0,p1)}function twoPointEquidistantRaw(z0){function forward(lambda,phi){var za=acos(cos(phi)*cos(lambda-lambdaa));lambda=acos(cos(phi)*cos(lambda-lambdab));za*=za;lambda*=lambda;return[(za-lambda)/(2*z0),(0>phi?-1:1)*sqrt(4*z02*lambda-(z02-za+lambda)*(z02-za+lambda))/(2*z0)]}if(!(z0*=2))return d3Geo.geoAzimuthalEquidistantRaw;
var lambdaa=-z0/2,lambdab=-lambdaa,z02=z0*z0,tanLambda0=tan(lambdab),S=.5/sin(lambdab);forward.invert=function(x,y){var y2=y*y,cosza=cos(sqrt(y2+(t=x+lambdaa)*t));x=cos(sqrt(y2+(t=x+lambdab)*t));var t,d;return[atan2(d=cosza-x,t=(cosza+x)*tanLambda0),(0>y?-1:1)*acos(sqrt(t*t+d*d)*S)]};return forward}function twoPointEquidistant(p0,p1){return twoPoint(twoPointEquidistantRaw,p0,p1)}function vanDerGrintenRaw(lambda,phi){if(1E-6>abs(phi))return[lambda,0];var sinTheta=abs(phi/halfPi),theta=asin(sinTheta);
if(1E-6>abs(lambda)||1E-6>abs(abs(phi)-halfPi))return[0,sign(phi)*pi$jscomp$0*tan(theta/2)];var cosTheta=cos(theta);theta=abs(pi$jscomp$0/lambda-lambda/pi$jscomp$0)/2;var A2=theta*theta;cosTheta/=sinTheta+cosTheta-1;sinTheta=cosTheta*(2/sinTheta-1);var P2=sinTheta*sinTheta,P2_A2=P2+A2,G_P2=cosTheta-P2,Q=A2+cosTheta;return[sign(lambda)*pi$jscomp$0*(theta*G_P2+sqrt(A2*G_P2*G_P2-P2_A2*(cosTheta*cosTheta-P2)))/P2_A2,sign(phi)*pi$jscomp$0*(sinTheta*Q-theta*sqrt((A2+1)*P2_A2-Q*Q))/P2_A2]}function vanDerGrinten2Raw(lambda,
phi){if(1E-6>abs(phi))return[lambda,0];var sinTheta=abs(phi/halfPi),theta=asin(sinTheta);if(1E-6>abs(lambda)||1E-6>abs(abs(phi)-halfPi))return[0,sign(phi)*pi$jscomp$0*tan(theta/2)];var cosTheta=cos(theta);theta=abs(pi$jscomp$0/lambda-lambda/pi$jscomp$0)/2;var A2=theta*theta;sinTheta=cosTheta*(sqrt(1+A2)-theta*cosTheta)/(1+A2*sinTheta*sinTheta);return[sign(lambda)*pi$jscomp$0*sinTheta,sign(phi)*pi$jscomp$0*sqrt(1-sinTheta*(2*theta+sinTheta))]}function vanDerGrinten3Raw(lambda,phi){if(1E-6>abs(phi))return[lambda,
0];var sinTheta=phi/halfPi,theta=asin(sinTheta);if(1E-6>abs(lambda)||1E-6>abs(abs(phi)-halfPi))return[0,pi$jscomp$0*tan(theta/2)];phi=(pi$jscomp$0/lambda-lambda/pi$jscomp$0)/2;sinTheta/=1+cos(theta);return[pi$jscomp$0*(sign(lambda)*sqrt(phi*phi+1-sinTheta*sinTheta)-phi),pi$jscomp$0*sinTheta]}function vanDerGrinten4Raw(lambda,phi){if(!phi)return[lambda,0];var phi0=abs(phi);if(!lambda||phi0===halfPi)return[0,phi];var B=phi0/halfPi;phi0=B*B;var C=(8*B-phi0*(phi0+2)-5)/(2*phi0*(B-1)),C2=C*C,BC=B*C,B_C2=
phi0+C2+2*BC;B+=3*C;C=lambda/halfPi;C+=1/C;C=sign(abs(lambda)-halfPi)*sqrt(C*C-4);var D2=C*C;phi0=(C*(B_C2+C2-1)+2*sqrt(B_C2*(phi0+C2*D2-1)+(1-phi0)*(phi0*(B*B+4*C2)+12*BC*C2+4*C2*C2)))/(4*B_C2+D2);return[sign(lambda)*halfPi*phi0,sign(phi)*halfPi*sqrt(1+C*abs(phi0)-phi0*phi0)]}function wagnerFormula(cx,cy,m1,m2,n){function forward(lambda,phi){phi=m1*sin(m2*phi);var c0=sqrt(1-phi*phi),c1=sqrt(2/(1+c0*cos(lambda*=n)));return[cx*c0*c1*sin(lambda),cy*phi*c1]}forward.invert=function(x,y){var t1=x/cx,t2=
y/cy;t1=sqrt(t1*t1+t2*t2);t2=2*asin(t1/2);return[atan2(x*tan(t2),cx*t1)/n,t1&&asin(y*sin(t2)/(cy*m1*t1))/m2]};return forward}function wagnerRaw(poleline,parallels,inflation,ratio){var phi1=pi$jscomp$0/3;poleline=max(poleline,1E-6);parallels=max(parallels,1E-6);poleline=min(poleline,halfPi);parallels=min(parallels,pi$jscomp$0-1E-6);inflation=max(inflation,0);inflation=min(inflation,99.999999);ratio=max(ratio,1E-6);var vratio=ratio/100;inflation=acos((inflation/100+1)*cos(phi1))/phi1;phi1=sin(poleline)/
sin(inflation*halfPi);ratio=parallels/pi$jscomp$0;parallels=sqrt(vratio*sin(poleline/2)/sin(parallels/2));poleline=parallels/sqrt(ratio*phi1*inflation);parallels=1/(parallels*sqrt(ratio*phi1*inflation));return wagnerFormula(poleline,parallels,phi1,inflation,ratio)}function wagner(){var poleline=65*radians,parallels=60*radians,inflation=20,ratio=200,mutate=d3Geo.geoProjectionMutator(wagnerRaw),projection=mutate(poleline,parallels,inflation,ratio);projection.poleline=function(_){return arguments.length?
mutate(poleline=+_*radians,parallels,inflation,ratio):poleline*degrees};projection.parallels=function(_){return arguments.length?mutate(poleline,parallels=+_*radians,inflation,ratio):parallels*degrees};projection.inflation=function(_){return arguments.length?mutate(poleline,parallels,inflation=+_,ratio):inflation};projection.ratio=function(_){return arguments.length?mutate(poleline,parallels,inflation,ratio=+_):ratio};return projection.scale(163.775)}function wagner6Raw(lambda,phi){return[lambda*
sqrt(1-3*phi*phi/(pi$jscomp$0*pi$jscomp$0)),phi]}function wiechelRaw(lambda,phi){var cosPhi=cos(phi),sinPhi=cos(lambda)*cosPhi,sin1_Phi=1-sinPhi;phi=cos(lambda=atan2(sin(lambda)*cosPhi,-sin(phi)));lambda=sin(lambda);cosPhi=sqrt(1-sinPhi*sinPhi);return[lambda*cosPhi-phi*sin1_Phi,-phi*cosPhi-lambda*sin1_Phi]}function winkel3Raw(lambda,phi){var coordinates=aitoffRaw(lambda,phi);return[(coordinates[0]+lambda/halfPi)/2,(coordinates[1]+phi)/2]}var abs=Math.abs,atan=Math.atan,atan2=Math.atan2,cos=Math.cos,
exp=Math.exp,floor=Math.floor,log=Math.log,max=Math.max,min=Math.min,pow=Math.pow,round=Math.round,sign=Math.sign||function(x){return 0<x?1:0>x?-1:0},sin=Math.sin,tan=Math.tan,pi$jscomp$0=Math.PI,halfPi=pi$jscomp$0/2,quarterPi=pi$jscomp$0/4,sqrt1_2=Math.SQRT1_2,sqrt2=sqrt(2),sqrtPi=sqrt(pi$jscomp$0),tau=2*pi$jscomp$0,degrees=180/pi$jscomp$0,radians=pi$jscomp$0/180;aitoffRaw.invert=function(x,y){if(!(x*x+4*y*y>pi$jscomp$0*pi$jscomp$0+1E-6)){var x1=x,y1=y,i=25;do{var sinx=sin(x1),sinx_2=sin(x1/2),cosx_2=
cos(x1/2),siny=sin(y1),cosy=cos(y1),sin_2y=sin(2*y1),sin2y=siny*siny,cos2y=cosy*cosy,sin2x_2=sinx_2*sinx_2,c=1-cos2y*cosx_2*cosx_2,e=c?acos(cosy*cosx_2)*sqrt(f=1/c):f=0,f;c=2*e*cosy*sinx_2-x;var fy=e*siny-y,dxdx=f*(cos2y*sin2x_2+e*cosy*cosx_2*sin2y),dxdy=f*(.5*sinx*sin_2y-2*e*siny*sinx_2);sinx=.25*f*(sin_2y*sinx_2-e*siny*cos2y*sinx);cosy=f*(sin2y*cosx_2+e*sin2x_2*cosy);cosx_2=dxdy*sinx-cosy*dxdx;if(!cosx_2)break;dxdy=(fy*dxdy-c*cosy)/cosx_2;c=(c*sinx-fy*dxdx)/cosx_2;x1-=dxdy;y1-=c}while((1E-6<abs(dxdy)||
1E-6<abs(c))&&0<--i);return[x1,y1]}};augustRaw.invert=function(x,y){x*=.375;y*=.375;if(!x&&1<abs(y))return null;var s=1+x*x+y*y,sin3Eta=sqrt((s-sqrt(s*s-4*y*y))/2);s=asin(sin3Eta)/3;sin3Eta?(sin3Eta=abs(y/sin3Eta),sin3Eta=log(sin3Eta+sqrt(sin3Eta*sin3Eta-1))/3):(sin3Eta=abs(x),sin3Eta=log(sin3Eta+sqrt(sin3Eta*sin3Eta+1))/3);var cosEta=cos(s),coshXi=cosh(sin3Eta),d=coshXi*coshXi-cosEta*cosEta;return[2*sign(x)*atan2(sinh(sin3Eta)*cosEta,.25-d),2*sign(y)*atan2(coshXi*sin(s),.25+d)]};var sqrt8=sqrt(8),
phi0$jscomp$0=log(1+sqrt2);bakerRaw.invert=function(x,y){if((y0=abs(y))<phi0$jscomp$0)return[x,2*atan(exp(y))-halfPi];var phi=quarterPi,i=25,y0;do{var delta=cos(phi/2);var tanPhi_2=tan(phi/2);phi-=delta=(sqrt8*(phi-quarterPi)-log(tanPhi_2)-y0)/(sqrt8-delta*delta/(2*tanPhi_2))}while(1E-12<abs(delta)&&0<--i);return[x/(cos(phi)*(sqrt8-1/sin(phi))),sign(y)*phi]};hammerQuarticAuthalicRaw.invert=function(x,y){y=2*asin(y/2);return[x*cos(y/2)/cos(y),y]};var mollweideRaw=mollweideBromleyRaw(sqrt2/halfPi,sqrt2,
pi$jscomp$0);boggsRaw.invert=function(x,y){var ky=2.00276*y;y=0>y?-quarterPi:quarterPi;var i=25;do{var delta=ky-sqrt2*sin(y);y-=delta=(sin(2*y)+2*y-pi$jscomp$0*sin(delta))/(2*cos(2*y)+2+pi$jscomp$0*cos(delta)*sqrt2*cos(y))}while(1E-6<abs(delta)&&0<--i);delta=ky-sqrt2*sin(y);return[x*(1/cos(delta)+1.11072/cos(y))/2.00276,delta]};sinusoidalRaw.invert=function(x,y){return[x/cos(y),y]};var bromleyRaw=mollweideBromleyRaw(1,4/pi$jscomp$0,pi$jscomp$0);collignonRaw.invert=function(x,y){var lambda=(lambda=
y/sqrtPi-1)*lambda;return[0<lambda?x*sqrt(pi$jscomp$0/lambda)/2:0,asin(1-lambda)]};var sqrt3=sqrt(3);crasterRaw.invert=function(x,y){y=3*asin(y/(sqrt3*sqrtPi));return[sqrtPi*x/(sqrt3*(2*cos(2*y/3)-1)),y]};eckert1Raw.invert=function(x,y){var alpha=sqrt(8/(3*pi$jscomp$0));y/=alpha;return[x/(alpha*(1-abs(y)/pi$jscomp$0)),y]};eckert2Raw.invert=function(x,y){var alpha=2-abs(y)/sqrt(2*pi$jscomp$0/3);return[x*sqrt(6*pi$jscomp$0)/(2*alpha),sign(y)*asin((4-alpha*alpha)/3)]};eckert3Raw.invert=function(x,y){var k=
sqrt(pi$jscomp$0*(4+pi$jscomp$0))/2;return[x*k/(1+sqrt(1-y*y*(4+pi$jscomp$0)/(4*pi$jscomp$0))),y*k/2]};eckert4Raw.invert=function(x,y){y=y*sqrt((4+pi$jscomp$0)/pi$jscomp$0)/2;var k=asin(y),c=cos(k);return[x/(2/sqrt(pi$jscomp$0*(4+pi$jscomp$0))*(1+c)),asin((k+y*(c+2))/(2+halfPi))]};eckert5Raw.invert=function(x,y){var k=sqrt(2+pi$jscomp$0);y=y*k/2;return[k*x/(1+cos(y)),y]};eckert6Raw.invert=function(x,y){var j=1+halfPi,k=sqrt(j/2);return[2*x*k/(1+cos(y*=k)),asin((y+sin(y))/j)]};var eisenlohrK=3+2*sqrt2;
eisenlohrRaw.invert=function(x,y){if(!(p=augustRaw.invert(x/1.2,1.065*y)))return null;var lambda=p[0];p=p[1];var i=20,p;x/=eisenlohrK;y/=eisenlohrK;do{var _0=lambda/2,_1=p/2,s0=sin(_0),c0=cos(_0),s1=sin(_1),c1=cos(_1),cos1=cos(p),k=sqrt(cos1),t=s1/(c1+sqrt2*c0*k),t2=t*t,c=sqrt(2/(1+t2)),v2=(sqrt2*c1+(c0+s0)*k)/(sqrt2*c1+(c0-s0)*k),v=sqrt(v2),vm1v=v-1/v,vp1v=v+1/v;_1=c*vm1v-2*log(v)-x;_0=c*t*vp1v-2*atan(t)-y;var deltatDeltaLambda=s1&&sqrt1_2*k*s0*t2/s1,deltatDeltaPhi=(sqrt2*c0*c1+k)/(2*(c1+sqrt2*c0*
k)*(c1+sqrt2*c0*k)*k),deltacDeltat=-.5*t*c*c*c,deltacDeltaLambda=deltacDeltat*deltatDeltaLambda;deltacDeltat*=deltatDeltaPhi;var A=(A=2*c1+sqrt2*k*(c0-s0))*A*v;c0=(sqrt2*c0*c1*k+cos1)/A;s1=-(sqrt2*s0*s1)/(k*A);s0=vm1v*deltacDeltaLambda-2*c0/v+c*(c0+c0/v2);v=vm1v*deltacDeltat-2*s1/v+c*(s1+s1/v2);deltatDeltaLambda=t*vp1v*deltacDeltaLambda-2*deltatDeltaLambda/(1+t2)+c*vp1v*deltatDeltaLambda+c*t*(c0-c0/v2);t2=t*vp1v*deltacDeltat-2*deltatDeltaPhi/(1+t2)+c*vp1v*deltatDeltaPhi+c*t*(s1-s1/v2);t=v*deltatDeltaLambda-
t2*s0;if(!t)break;t2=(_0*v-_1*t2)/t;_1=(_1*deltatDeltaLambda-_0*s0)/t;lambda-=t2;p=max(-halfPi,min(halfPi,p-_1))}while((1E-6<abs(t2)||1E-6<abs(_1))&&0<--i);return 1E-6>abs(abs(p)-halfPi)?[0,p]:i&&[lambda,p]};var faheyK=cos(35*radians);faheyRaw.invert=function(x,y){y/=1+faheyK;return[x&&x/(faheyK*sqrt(1-y*y)),2*atan(y)]};foucautRaw.invert=function(x,y){var k=atan(y/sqrtPi);y=cos(k);k*=2;return[x*sqrtPi/2/(cos(k)*y*y),k]};var ginzburg4Raw=ginzburgPolyconicRaw(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,
.042555),ginzburg5Raw=ginzburgPolyconicRaw(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),ginzburg6Raw=ginzburgPolyconicRaw(5/6*pi$jscomp$0,-.62636,-.0344,0,1.3493,-.05524,0,.045);ginzburg8Raw.invert=function(x,y){var lambda=x,phi=y,i=50,delta;do{var phi2=phi*phi;phi-=delta=(phi*(1+phi2/12)-y)/(1+phi2/4)}while(1E-6<abs(delta)&&0<--i);i=50;x/=1-.162388*phi2;do{var lambda4=(lambda4=lambda*lambda)*lambda4;lambda-=delta=(lambda*(.87-9.52426E-4*lambda4)-x)/(.87-.00476213*lambda4)}while(1E-6<
abs(delta)&&0<--i);return[lambda,phi]};var ginzburg9Raw=ginzburgPolyconicRaw(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);gringortenRaw.invert=function(x,y$jscomp$0){1<abs(x)&&(x=2*sign(x)-x);1<abs(y$jscomp$0)&&(y$jscomp$0=2*sign(y$jscomp$0)-y$jscomp$0);var sx=sign(x),sy=sign(y$jscomp$0),x0=-sx*x,y0=-sy*y$jscomp$0;y$jscomp$0=1>y0/x0;x=y$jscomp$0?y0:x0;var y=y$jscomp$0?x0:y0,x0$jscomp$0=0,x1=1;x0=.5;for(var i=50;;){y0=x0*x0;var sinPhi=sqrt(x0),z=asin(1/sqrt(1+y0)),v=1-y0+x0*(1+y0)*z,p2=
(1-sinPhi)/v,p=sqrt(p2),a2=p2*(1+y0),h=p*(1-y0),g=sqrt(a2-x*x);h=y+h+x0*g;if(1E-12>abs(x1-x0$jscomp$0)||0===--i||0===h)break;0<h?x0$jscomp$0=x0:x1=x0;x0=.5*(x0$jscomp$0+x1)}i?(y=asin(sinPhi),i=cos(y),x0$jscomp$0=1/i,x1=2*sinPhi*i,sinPhi=(-v*i-(1-sinPhi)*(-3*x0+z*(1+3*y0))*x1)/(v*v),x0=[pi$jscomp$0/4*(x*(-2*x0$jscomp$0*(.5*sinPhi/p*(1-y0)-2*x0*p*x1)+-x0$jscomp$0*x1*g)+-x0$jscomp$0*(x0*(1+y0)*sinPhi+p2*(1+3*y0)*x1)*asin(x/sqrt(a2))),y]):x0=null;x=x0[0];x0=x0[1];y0=cos(x0);y$jscomp$0&&(x=-halfPi-x);
return[sx*(atan2(sin(x)*y0,-sin(x0))+pi$jscomp$0),sy*asin(cos(x)*y0)]};guyouRaw.invert=function(x,y){var k_=(sqrt2-1)/(sqrt2+1),k=sqrt(1-k_*k_);y=.5*ellipticF(halfPi,k*k)-y;x=-x;k*=k;if(y)if(y=ellipticJ(y,k),x){x=ellipticJ(x,1-k);var c=x[1]*x[1]+k*y[0]*y[0]*x[0]*x[0];y=[[y[0]*x[2]/c,y[1]*y[2]*x[0]*x[1]/c],[y[1]*x[1]/c,-y[0]*y[2]*x[0]*x[2]/c],[y[2]*x[1]*x[2]/c,-k*y[0]*y[1]*x[0]/c]]}else y=[[y[0],0],[y[1],0],[y[2],0]];else x=ellipticJ(x,1-k),y=[[0,x[0]/x[1]],[1/x[1],0],[x[2]/x[1],0]];k=y[0];y=y[1];
x=y[0]*y[0]+y[1]*y[1];k=[(k[0]*y[0]+k[1]*y[1])/x,(k[1]*y[0]-k[0]*y[1])/x];return[atan2(k[1],k[0])/-1,2*atan(exp(-.5*log(k_*k[0]*k[0]+k_*k[1]*k[1])))-halfPi]};var healpixParallel=asin(1-1/3)*degrees,healpixLambert=cylindricalEqualAreaRaw(0);sinuMollweideRaw.invert=function(x,y){return-.7109889596207567<y?mollweideRaw.invert(x,y-.0528035274542):sinusoidalRaw.invert(x,y)};homolosineRaw.invert=function(x,y){return.7109889596207567<abs(y)?mollweideRaw.invert(x,y+(0<y?.0528035274542:-.0528035274542)):sinusoidalRaw.invert(x,
y)};var lobes=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],lobes$1=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],lobes$2=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,
0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],lobes$3=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],lobes$4=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],lobes$5=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];
kavrayskiy7Raw.invert=function(x,y){return[tau/3*x/sqrt(pi$jscomp$0*pi$jscomp$0/3-y*y),y]};var pi_sqrt2=pi$jscomp$0/sqrt2;larriveeRaw.invert=function(x,y){var x0=abs(x),y0=abs(y),lambda=1E-6,phi=halfPi;y0<pi_sqrt2?phi*=y0/pi_sqrt2:lambda+=6*acos(pi_sqrt2/y0);for(var i=0;25>i;i++){var sinPhi=sin(phi),sqrtcosPhi=sqrt(cos(phi)),sinPhi_2=sin(phi/2),cosPhi_2=cos(phi/2),sinLambda_6=sin(lambda/6),cosLambda_6=cos(lambda/6),f0=.5*lambda*(1+sqrtcosPhi)-x0,f1=phi/(cosPhi_2*cosLambda_6)-y0;sinPhi=sqrtcosPhi?
-.25*lambda*sinPhi/sqrtcosPhi:0;sqrtcosPhi=.5*(1+sqrtcosPhi);sinPhi_2=(1+.5*phi*sinPhi_2/cosPhi_2)/(cosPhi_2*cosLambda_6);sinLambda_6=phi/cosPhi_2*(sinLambda_6/6)/(cosLambda_6*cosLambda_6);cosPhi_2=sinPhi*sinLambda_6-sinPhi_2*sqrtcosPhi;sinLambda_6=(f0*sinLambda_6-f1*sqrtcosPhi)/cosPhi_2;f0=(f1*sinPhi-f0*sinPhi_2)/cosPhi_2;phi-=sinLambda_6;lambda-=f0;if(1E-6>abs(sinLambda_6)&&1E-6>abs(f0))break}return[0>x?-lambda:lambda,0>y?-phi:phi]};laskowskiRaw.invert=function(x,y){var lambda=sign(x)*pi$jscomp$0,
phi=y/2,i=50;do{var lambda2=lambda*lambda,phi2=phi*phi,lambdaPhi=lambda*phi,fx=lambda*(.975534+phi2*(-.119161+-.0143059*lambda2+-.0547009*phi2))-x,fy=phi*(1.00384+lambda2*(.0802894+-.02855*phi2+1.99025E-4*lambda2)+phi2*(.0998909+-.0491032*phi2))-y,deltaxDeltaLambda=.975534-phi2*(.119161+.0429177*lambda2+.0547009*phi2),deltaxDeltaPhi=-lambdaPhi*(.238322+.2188036*phi2+.0286118*lambda2);lambdaPhi*=.1605788+7.961E-4*lambda2+-.0571*phi2;phi2=1.00384+lambda2*(.0802894+1.99025E-4*lambda2)+phi2*(3*(.0998909-
.02855*lambda2)-.245516*phi2);lambda2=deltaxDeltaPhi*lambdaPhi-phi2*deltaxDeltaLambda;deltaxDeltaPhi=(fy*deltaxDeltaPhi-fx*phi2)/lambda2;fx=(fx*lambdaPhi-fy*deltaxDeltaLambda)/lambda2;lambda-=deltaxDeltaPhi;phi-=fx}while((1E-6<abs(deltaxDeltaPhi)||1E-6<abs(fx))&&0<--i);return i&&[lambda,phi]};littrowRaw.invert=function(x,y){var x2=x*x,y2_1=y*y+1,x2_y2_1=x2+y2_1;x2=x?sqrt1_2*sqrt((x2_y2_1-sqrt(x2_y2_1*x2_y2_1-4*x2))/x2):1/sqrt(y2_1);return[asin(x*x2),sign(y)*acos(x2)]};millerRaw.invert=function(x,
y){return[x,2.5*atan(exp(.8*y))-.625*pi$jscomp$0]};var alaska=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],gs48=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],gs50=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7.388E-4,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],miller$1=[[.9245,0],[0,0],[.01943,0]],lee=[[.721316,0],[0,
0],[-.00881625,-.00617325]],sqrt6=sqrt(6),sqrt7=sqrt(7);mtFlatPolarParabolicRaw.invert=function(x,y){y=3*asin(y*sqrt7/9);return[x*sqrt7/(sqrt6*(2*cos(2*y/3)-1)),asin(3*sin(y)*sqrt6/7)]};mtFlatPolarQuarticRaw.invert=function(x,y){y=y*sqrt(2+sqrt2)/(2*sqrt(3));var theta=2*asin(y);return[3*sqrt2*x/(1+2*cos(theta)/cos(theta/2)),asin((y+sin(theta))/(1+sqrt1_2))]};mtFlatPolarSinusoidalRaw.invert=function(x,y){var A=sqrt(6/(4+pi$jscomp$0));y/=A;1E-6>abs(abs(y)-halfPi)&&(y=0>y?-halfPi:halfPi);return[1.5*
x/(A*(.5+cos(y))),asin((y/2+sin(y))/(1+pi$jscomp$0/4))]};naturalEarth2Raw.invert=function(x,y){var phi=y,i=25;do{var delta=phi*phi;var phi4=delta*delta;phi-=delta=(phi*(1.01183+phi4*phi4*(-.02625+.01926*delta-.00396*phi4))-y)/(1.01183+phi4*phi4*(-.23625+.21186*delta+-.05148*phi4))}while(1E-12<abs(delta)&&0<--i);delta=phi*phi;phi4=delta*delta;y=delta*phi4;return[x/(.84719-.13063*delta+y*y*(-.04515+.05494*delta-.02326*phi4+.00331*y)),phi]};nellHammerRaw.invert=function(x,y){for(var p=y/2,i=0,delta=
Infinity;10>i&&1E-6<abs(delta);++i)delta=cos(y/2),y-=delta=(y-tan(y/2)-p)/(1-.5/(delta*delta));return[2*x/(1+cos(y)),y]};var lobes$6=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];nicolosiRaw.invert=function(x,y){x/=halfPi;y/=halfPi;var x2=x*x,x2y2=x2+y*y,pi2=pi$jscomp$0*pi$jscomp$0;return[x?(x2y2-1+sqrt((1-x2y2)*(1-x2y2)+4*x2))/(2*x)*halfPi:0,solve(function(phi){return x2y2*(pi$jscomp$0*sin(phi)-2*phi)*pi$jscomp$0+4*phi*phi*(y-sin(phi))+
2*pi$jscomp$0*phi-pi2*y},0)]};var pattersonC2=5*.23185;pattersonRaw.invert=function(x,y){1.790857183<y?y=1.790857183:-1.790857183>y&&(y=-1.790857183);var yc=y;do{var delta=yc*yc;yc-=delta=(yc*(1.0148+delta*delta*(.23185+delta*(-.14499+.02406*delta)))-y)/(1.0148+delta*delta*(pattersonC2+delta*(-1.01493+.21654*delta)))}while(1E-6<abs(delta));return[x,yc]};polyconicRaw.invert=function(x,y){if(1E-6>abs(y))return[x,0];var k=x*x+y*y,phi=.5*y,i=10;do{var delta=tan(phi);var secPhi=1/cos(phi),j=k-2*y*phi+
phi*phi;phi-=delta=(delta*j+2*(phi-y))/(2+j*secPhi*secPhi+2*(phi-y)*delta)}while(1E-6<abs(delta)&&0<--i);delta=tan(phi);return[(abs(y)<abs(phi+1/delta)?asin(x*delta):sign(y)*sign(x)*(acos(abs(x*delta))+halfPi))/sin(phi),phi]};var octahedron=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],octahedron$1=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(face){return face.map(function(i){return octahedron[i]})}),kx=2/sqrt(3);collignonK.invert=function(x,y){return collignonRaw.invert(x/
kx,y)};var noop=function(){},points$jscomp$0=[],lines=[],sinkPoint={point:function(x,y){points$jscomp$0.push([x,y])},result:function(){var result=points$jscomp$0.length?2>points$jscomp$0.length?{type:"Point",coordinates:points$jscomp$0[0]}:{type:"MultiPoint",coordinates:points$jscomp$0}:null;points$jscomp$0=[];return result}},sinkLine={lineStart:noop,point:function(x,y){points$jscomp$0.push([x,y])},lineEnd:function(){points$jscomp$0.length&&(lines.push(points$jscomp$0),points$jscomp$0=[])},result:function(){var result=
lines.length?2>lines.length?{type:"LineString",coordinates:lines[0]}:{type:"MultiLineString",coordinates:lines}:null;lines=[];return result}},sinkPolygon={polygonStart:noop,lineStart:noop,point:function(x,y){points$jscomp$0.push([x,y])},lineEnd:function(){var n=points$jscomp$0.length;if(n){do points$jscomp$0.push(points$jscomp$0[0].slice());while(4>++n);lines.push(points$jscomp$0);points$jscomp$0=[]}},polygonEnd:noop,result:function(){if(!lines.length)return null;var polygons=[],holes=[];lines.forEach(function(ring){if(4>
(n=ring.length))var JSCompiler_inline_result=!1;else{JSCompiler_inline_result=0;for(var n,area=ring[n-1][1]*ring[0][0]-ring[n-1][0]*ring[0][1];++JSCompiler_inline_result<n;)area+=ring[JSCompiler_inline_result-1][1]*ring[JSCompiler_inline_result][0]-ring[JSCompiler_inline_result-1][0]*ring[JSCompiler_inline_result][1];JSCompiler_inline_result=0>=area}JSCompiler_inline_result?polygons.push([ring]):holes.push(ring)});holes.forEach(function(hole){var point=hole[0];polygons.some(function(polygon){for(var ring=
polygon[0],x=point[0],y=point[1],contains=!1,i=0,n=ring.length,j=n-1;i<n;j=i++){var pi=ring[i],xi=pi[0];pi=pi[1];var pj=ring[j];j=pj[0];pj=pj[1];pi>y^pj>y&&x<(j-xi)*(y-pi)/(pj-pi)+xi&&(contains=!contains)}if(contains)return polygon.push(hole),!0})||polygons.push([hole])});lines=[];return polygons.length?1<polygons.length?{type:"MultiPolygon",coordinates:polygons}:{type:"Polygon",coordinates:polygons[0]}:null}},K$1=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,
.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];K$1.forEach(function(d){d[1]*=1.0144});robinsonRaw.invert=function(x,y){var yy=y/halfPi,phi=90*yy,i=min(18,abs(phi/5)),i0=max(0,floor(i));do{var ay=K$1[i0][1],by=K$1[i0+1][1],cy=K$1[min(19,i0+2)][1],u=cy-ay;ay=cy-2*by+ay;by=2*(abs(yy)-by)/u;u=ay/u;u=by*(1-u*by*(1-2*u*by));if(0<=u||1===i0){phi=(0<=y?5:-5)*(u+i);yy=50;do i=min(18,abs(phi)/
5),i0=floor(i),u=i-i0,ay=K$1[i0][1],by=K$1[i0+1][1],cy=K$1[min(19,i0+2)][1],phi-=(i=(0<=y?halfPi:-halfPi)*(by+u*(cy-ay)/2+u*u*(cy-2*by+ay)/2)-y)*degrees;while(1E-12<abs(i)&&0<--yy);break}}while(0<=--i0);y=K$1[i0][0];i=K$1[i0+1][0];i0=K$1[min(19,i0+2)][0];return[x/(i+u*(i0-y)/2+u*u*(i0-2*i+y)/2),phi*radians]};timesRaw.invert=function(x,y){y/=1.70711;var s=sin(quarterPi*y);return[x/(.74482-.34588*s*s),2*atan(y)]};vanDerGrintenRaw.invert=function(x,y){if(1E-6>abs(y))return[x,0];if(1E-6>abs(x))return[0,
halfPi*sin(2*atan(y/pi$jscomp$0))];var x2=(x/=pi$jscomp$0)*x,y2=(y/=pi$jscomp$0)*y,x2_y2=x2+y2,z=x2_y2*x2_y2,c1=-abs(y)*(1+x2_y2),c2=c1-2*y2+x2,c3=-2*c1+1+2*y2+z,d=y2/c3+(2*c2*c2*c2/(c3*c3*c3)-9*c1*c2/(c3*c3))/27,a1=(c1-c2*c2/(3*c3))/c3;c1=2*sqrt(-a1/3);d=acos(3*d/(a1*c1))/3;return[pi$jscomp$0*(x2_y2-1+sqrt(1+2*(x2-y2)+z))/(2*x),sign(y)*pi$jscomp$0*(-c1*cos(d+pi$jscomp$0/3)-c2/(3*c3))]};vanDerGrinten2Raw.invert=function(x,y){if(!x)return[0,halfPi*sin(2*atan(y/pi$jscomp$0))];var x1=abs(x/pi$jscomp$0),
A=(1-x1*x1-(y/=pi$jscomp$0)*y)/(2*x1),B=sqrt(A*A+1);return[sign(x)*pi$jscomp$0*(B-A),sign(y)*halfPi*sin(2*atan2(sqrt((1-2*A*x1)*(A+B)-x1),sqrt(B+A+x1)))]};vanDerGrinten3Raw.invert=function(x,y){if(!y)return[x,0];y/=pi$jscomp$0;var A=(pi$jscomp$0*pi$jscomp$0*(1-y*y)-x*x)/(2*pi$jscomp$0*x);return[x?pi$jscomp$0*(sign(x)*sqrt(A*A+1)-A):0,halfPi*sin(2*atan(y))]};vanDerGrinten4Raw.invert=function(x,y){if(!x||!y)return[x,y];var sy=sign(y);y=abs(y)/pi$jscomp$0;var x1=sign(x)*x/halfPi,D=(x1*x1-1+4*y*y)/abs(x1),
D2=D*D,B=y*(2-(.5<y?min(y,abs(x)):0));y=x*x+y*y;var i=50;do{var B2=B*B;var delta=(8*B-B2*(B2+2)-5)/(2*B2*(B-1));var C_=(3*B-B2*B-10)/(2*B2*B),C2=delta*delta,BC=B*delta,B_C=B+delta,B_C2=B_C*B_C,B_3C=B+3*delta,F_=-2*B_C*(4*BC*C2+(1-4*B2+3*B2*B2)*(1+C_)+C2*(-6+14*B2-D2+(-8+8*B2-2*D2)*C_)+BC*(-8+12*B2+(-10+10*B2-D2)*C_));B2=sqrt(B_C2*(B2+C2*D2-1)+(1-B2)*(B2*(B_3C*B_3C+4*C2)+C2*(12*BC+4*C2)));B-=delta=(D*(B_C2+C2-1)+2*B2-x1*(4*B_C2+D2))/(D*(2*delta*C_+2*B_C*(1+C_))+F_/B2-8*B_C*(D*(-1+C2+B_C2)+2*B2)*(1+
C_)/(D2+4*B_C2))}while(1E-6<delta*y*y&&0<--i);return[sign(x)*(sqrt(D*D+4)+D)*pi$jscomp$0/4,sy*halfPi*B]};var A$jscomp$0=4*pi$jscomp$0+3*sqrt(3),B$jscomp$0=2*sqrt(2*pi$jscomp$0*sqrt(3)/A$jscomp$0),wagner4Raw=mollweideBromleyRaw(B$jscomp$0*sqrt(3)/pi$jscomp$0,B$jscomp$0,A$jscomp$0/6);wagner6Raw.invert=function(x,y){return[x/sqrt(1-3*y*y/(pi$jscomp$0*pi$jscomp$0)),y]};wiechelRaw.invert=function(x,y){var w=(x*x+y*y)/-2,k=sqrt(-w*(2+w)),b=y*w+x*k;x=x*w-y*k;y=sqrt(x*x+b*b);return[atan2(k*b,y*(1+w)),y?-asin(k*
x/y):0]};winkel3Raw.invert=function(x,y){var lambda=x,phi=y,i=25;do{var cosphi=cos(phi),sinphi=sin(phi),sin_2phi=sin(2*phi),sin2phi=sinphi*sinphi,cos2phi=cosphi*cosphi,sinlambda=sin(lambda),coslambda_2=cos(lambda/2),sinlambda_2=sin(lambda/2),sin2lambda_2=sinlambda_2*sinlambda_2,C=1-cos2phi*coslambda_2*coslambda_2,E=C?acos(cosphi*coslambda_2)*sqrt(F=1/C):F=0,F;C=.5*(2*E*cosphi*sinlambda_2+lambda/halfPi)-x;var fy=.5*(E*sinphi+phi)-y,dxdlambda=.5*F*(cos2phi*sin2lambda_2+E*cosphi*coslambda_2*sin2phi)+
.5/halfPi,dxdphi=F*(sinlambda*sin_2phi/4-E*sinphi*sinlambda_2);sinphi=.125*F*(sin_2phi*sinlambda_2-E*sinphi*cos2phi*sinlambda);sin2phi=.5*F*(sin2phi*coslambda_2+E*sin2lambda_2*cosphi)+.5;cosphi=dxdphi*sinphi-sin2phi*dxdlambda;dxdphi=(fy*dxdphi-C*sin2phi)/cosphi;C=(C*sinphi-fy*dxdlambda)/cosphi;lambda-=dxdphi;phi-=C}while((1E-6<abs(dxdphi)||1E-6<abs(C))&&0<--i);return[lambda,phi]};exports.geoAiry=function(){var beta=halfPi,m=d3Geo.geoProjectionMutator(airyRaw),p=m(beta);p.radius=function(_){return arguments.length?
m(beta=_*radians):beta*degrees};return p.scale(179.976).clipAngle(147)};exports.geoAiryRaw=airyRaw;exports.geoAitoff=function(){return d3Geo.geoProjection(aitoffRaw).scale(152.63)};exports.geoAitoffRaw=aitoffRaw;exports.geoArmadillo=function(){var phi0=20*radians,sPhi0=0<=phi0?1:-1,tanPhi0=tan(sPhi0*phi0),m=d3Geo.geoProjectionMutator(armadilloRaw),p=m(phi0),stream_=p.stream;p.parallel=function(_){if(!arguments.length)return phi0*degrees;tanPhi0=tan((sPhi0=0<=(phi0=_*radians)?1:-1)*phi0);return m(phi0)};
p.stream=function(stream){var rotate=p.rotate(),rotateStream=stream_(stream),sphereStream=(p.rotate([0,0]),stream_(stream)),precision=p.precision();p.rotate(rotate);rotateStream.sphere=function(){sphereStream.polygonStart();sphereStream.lineStart();for(var lambda=-180*sPhi0;180>sPhi0*lambda;lambda+=90*sPhi0)sphereStream.point(lambda,90*sPhi0);if(phi0)for(;-180<=sPhi0*(lambda-=3*sPhi0*precision);)sphereStream.point(lambda,sPhi0*-atan2(cos(lambda*radians/2),tanPhi0)*degrees);sphereStream.lineEnd();
sphereStream.polygonEnd()};return rotateStream};return p.scale(218.695).center([0,28.0974])};exports.geoArmadilloRaw=armadilloRaw;exports.geoAugust=function(){return d3Geo.geoProjection(augustRaw).scale(66.1603)};exports.geoAugustRaw=augustRaw;exports.geoBaker=function(){return d3Geo.geoProjection(bakerRaw).scale(112.314)};exports.geoBakerRaw=bakerRaw;exports.geoBerghaus=function(){var lobes=5,m=d3Geo.geoProjectionMutator(berghausRaw),p=m(lobes),projectionStream=p.stream,cr=-cos(.01*radians),sr=sin(.01*
radians);p.lobes=function(_){return arguments.length?m(lobes=+_):lobes};p.stream=function(stream){var rotate=p.rotate(),rotateStream=projectionStream(stream),sphereStream=(p.rotate([0,0]),projectionStream(stream));p.rotate(rotate);rotateStream.sphere=function(){sphereStream.polygonStart();sphereStream.lineStart();for(var i=0,delta=360/lobes,delta0=2*pi$jscomp$0/lobes,phi=90-180/lobes,phi0=halfPi;i<lobes;++i,phi-=delta,phi0-=delta0)sphereStream.point(atan2(sr*cos(phi0),cr)*degrees,asin(sr*sin(phi0))*
degrees),-90>phi?(sphereStream.point(-90,-180-phi-.01),sphereStream.point(-90,-180-phi+.01)):(sphereStream.point(90,phi+.01),sphereStream.point(90,phi-.01));sphereStream.lineEnd();sphereStream.polygonEnd()};return rotateStream};return p.scale(87.8076).center([0,17.1875]).clipAngle(179.999)};exports.geoBerghausRaw=berghausRaw;exports.geoBertin1953=function(){return d3Geo.geoProjection(bertin1953Raw()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])};exports.geoBertin1953Raw=bertin1953Raw;exports.geoBoggs=
function(){return d3Geo.geoProjection(boggsRaw).scale(160.857)};exports.geoBoggsRaw=boggsRaw;exports.geoBonne=function(){return parallel1(bonneRaw).scale(123.082).center([0,26.1441]).parallel(45)};exports.geoBonneRaw=bonneRaw;exports.geoBottomley=function(){var sinPsi=.5,m=d3Geo.geoProjectionMutator(bottomleyRaw),p=m(sinPsi);p.fraction=function(_){return arguments.length?m(sinPsi=+_):sinPsi};return p.scale(158.837)};exports.geoBottomleyRaw=bottomleyRaw;exports.geoBromley=function(){return d3Geo.geoProjection(bromleyRaw).scale(152.63)};
exports.geoBromleyRaw=bromleyRaw;exports.geoChamberlin=chamberlin;exports.geoChamberlinRaw=chamberlinRaw;exports.geoChamberlinAfrica=function(){return chamberlin([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])};exports.geoCollignon=function(){return d3Geo.geoProjection(collignonRaw).scale(95.6464).center([0,30])};exports.geoCollignonRaw=collignonRaw;exports.geoCraig=function(){return parallel1(craigRaw).scale(249.828).clipAngle(90)};exports.geoCraigRaw=craigRaw;exports.geoCraster=function(){return d3Geo.geoProjection(crasterRaw).scale(156.19)};
exports.geoCrasterRaw=crasterRaw;exports.geoCylindricalEqualArea=function(){return parallel1(cylindricalEqualAreaRaw).parallel(38.58).scale(195.044)};exports.geoCylindricalEqualAreaRaw=cylindricalEqualAreaRaw;exports.geoCylindricalStereographic=function(){return parallel1(cylindricalStereographicRaw).scale(124.75)};exports.geoCylindricalStereographicRaw=cylindricalStereographicRaw;exports.geoEckert1=function(){return d3Geo.geoProjection(eckert1Raw).scale(165.664)};exports.geoEckert1Raw=eckert1Raw;
exports.geoEckert2=function(){return d3Geo.geoProjection(eckert2Raw).scale(165.664)};exports.geoEckert2Raw=eckert2Raw;exports.geoEckert3=function(){return d3Geo.geoProjection(eckert3Raw).scale(180.739)};exports.geoEckert3Raw=eckert3Raw;exports.geoEckert4=function(){return d3Geo.geoProjection(eckert4Raw).scale(180.739)};exports.geoEckert4Raw=eckert4Raw;exports.geoEckert5=function(){return d3Geo.geoProjection(eckert5Raw).scale(173.044)};exports.geoEckert5Raw=eckert5Raw;exports.geoEckert6=function(){return d3Geo.geoProjection(eckert6Raw).scale(173.044)};
exports.geoEckert6Raw=eckert6Raw;exports.geoEisenlohr=function(){return d3Geo.geoProjection(eisenlohrRaw).scale(62.5271)};exports.geoEisenlohrRaw=eisenlohrRaw;exports.geoFahey=function(){return d3Geo.geoProjection(faheyRaw).scale(137.152)};exports.geoFaheyRaw=faheyRaw;exports.geoFoucaut=function(){return d3Geo.geoProjection(foucautRaw).scale(135.264)};exports.geoFoucautRaw=foucautRaw;exports.geoFoucautSinusoidal=function(){var alpha=.5,m=d3Geo.geoProjectionMutator(foucautSinusoidalRaw),p=m(alpha);
p.alpha=function(_){return arguments.length?m(alpha=+_):alpha};return p.scale(168.725)};exports.geoFoucautSinusoidalRaw=foucautSinusoidalRaw;exports.geoGilbert=function(projectionType){function gilbert(point){return projection([point[0]/2,asin(tan(point[1]/2*radians))*degrees])}function property(name){gilbert[name]=function(){return arguments.length?(projection[name].apply(projection,arguments),gilbert):projection[name]()}}null==projectionType&&(projectionType=d3Geo.geoOrthographic);var projection=
projectionType(),equirectangular=d3Geo.geoEquirectangular().scale(degrees).precision(0).clipAngle(null).translate([0,0]);projection.invert&&(gilbert.invert=function(point){return gilbertInvert(projection.invert(point))});gilbert.stream=function(stream){var s1=projection.stream(stream);stream=equirectangular.stream({point:function(lambda,phi){s1.point(lambda/2,asin(tan(-phi/2*radians))*degrees)},lineStart:function(){s1.lineStart()},lineEnd:function(){s1.lineEnd()},polygonStart:function(){s1.polygonStart()},
polygonEnd:function(){s1.polygonEnd()}});stream.sphere=s1.sphere;return stream};gilbert.rotate=function(_){return arguments.length?(equirectangular.rotate(_),gilbert):equirectangular.rotate()};gilbert.center=function(_){return arguments.length?(projection.center([_[0]/2,asin(tan(_[1]/2*radians))*degrees]),gilbert):gilbertInvert(projection.center())};property("angle");property("clipAngle");property("clipExtent");property("fitExtent");property("fitHeight");property("fitSize");property("fitWidth");property("scale");
property("translate");property("precision");return gilbert.scale(249.5)};exports.geoGingery=function(){var n=6,rho=30*radians,cRho=cos(rho),sRho=sin(rho),m=d3Geo.geoProjectionMutator(gingeryRaw),p=m(rho,n),stream_=p.stream,cr=-cos(.01*radians),sr=sin(.01*radians);p.radius=function(_){if(!arguments.length)return rho*degrees;cRho=cos(rho=_*radians);sRho=sin(rho);return m(rho,n)};p.lobes=function(_){return arguments.length?m(rho,n=+_):n};p.stream=function(stream){var rotate=p.rotate(),rotateStream=stream_(stream),
sphereStream=(p.rotate([0,0]),stream_(stream));p.rotate(rotate);rotateStream.sphere=function(){sphereStream.polygonStart();sphereStream.lineStart();for(var i=0,delta=2*pi$jscomp$0/n,phi=0;i<n;++i,phi-=delta)sphereStream.point(atan2(sr*cos(phi),cr)*degrees,asin(sr*sin(phi))*degrees),sphereStream.point(atan2(sRho*cos(phi-delta/2),cRho)*degrees,asin(sRho*sin(phi-delta/2))*degrees);sphereStream.lineEnd();sphereStream.polygonEnd()};return rotateStream};return p.rotate([90,-40]).scale(91.7095).clipAngle(179.999)};
exports.geoGingeryRaw=gingeryRaw;exports.geoGinzburg4=function(){return d3Geo.geoProjection(ginzburg4Raw).scale(149.995)};exports.geoGinzburg4Raw=ginzburg4Raw;exports.geoGinzburg5=function(){return d3Geo.geoProjection(ginzburg5Raw).scale(153.93)};exports.geoGinzburg5Raw=ginzburg5Raw;exports.geoGinzburg6=function(){return d3Geo.geoProjection(ginzburg6Raw).scale(130.945)};exports.geoGinzburg6Raw=ginzburg6Raw;exports.geoGinzburg8=function(){return d3Geo.geoProjection(ginzburg8Raw).scale(131.747)};exports.geoGinzburg8Raw=
ginzburg8Raw;exports.geoGinzburg9=function(){return d3Geo.geoProjection(ginzburg9Raw).scale(131.087)};exports.geoGinzburg9Raw=ginzburg9Raw;exports.geoGringorten=function(){return d3Geo.geoProjection(squareRaw(gringortenRaw)).scale(239.75)};exports.geoGringortenRaw=gringortenRaw;exports.geoGuyou=function(){return d3Geo.geoProjection(squareRaw(guyouRaw)).scale(151.496)};exports.geoGuyouRaw=guyouRaw;exports.geoHammer=function(){var B=2,m=d3Geo.geoProjectionMutator(hammerRaw),p=m(B);p.coefficient=function(_){return arguments.length?
m(B=+_):B};return p.scale(169.529)};exports.geoHammerRaw=hammerRaw;exports.geoHammerRetroazimuthal=function(){var phi0=0,m=d3Geo.geoProjectionMutator(hammerRetroazimuthalRaw),p$jscomp$0=m(phi0),rotate_=p$jscomp$0.rotate,stream_=p$jscomp$0.stream,circle=d3Geo.geoCircle();p$jscomp$0.parallel=function(_){if(!arguments.length)return phi0*degrees;var r=p$jscomp$0.rotate();return m(phi0=_*radians).rotate(r)};p$jscomp$0.rotate=function(_){if(!arguments.length)return _=rotate_.call(p$jscomp$0),_[1]+=phi0*
degrees,_;rotate_.call(p$jscomp$0,[_[0],_[1]-phi0*degrees]);circle.center([-_[0],-_[1]]);return p$jscomp$0};p$jscomp$0.stream=function(stream){stream=stream_(stream);stream.sphere=function(){stream.polygonStart();var ring=circle.radius(89.99)().coordinates[0],n=ring.length-1,i=-1,p;for(stream.lineStart();++i<n;)stream.point((p=ring[i])[0],p[1]);stream.lineEnd();ring=circle.radius(90.01)().coordinates[0];for(stream.lineStart();0<=--i;)stream.point((p=ring[i])[0],p[1]);stream.lineEnd();stream.polygonEnd()};
return stream};return p$jscomp$0.scale(79.4187).parallel(45).clipAngle(179.999)};exports.geoHammerRetroazimuthalRaw=hammerRetroazimuthalRaw;exports.geoHealpix=function(){var H=4,m=d3Geo.geoProjectionMutator(healpixRaw),p=m(H),stream_=p.stream;p.lobes=function(_){return arguments.length?m(H=+_):H};p.stream=function(stream){var rotate=p.rotate(),rotateStream=stream_(stream),sphereStream=(p.rotate([0,0]),stream_(stream));p.rotate(rotate);rotateStream.sphere=function(){d3Geo.geoStream(sphere(180/H),sphereStream)};
return rotateStream};return p.scale(239.75)};exports.geoHealpixRaw=healpixRaw;exports.geoHill=function(){var K=1,m=d3Geo.geoProjectionMutator(hillRaw),p=m(K);p.ratio=function(_){return arguments.length?m(K=+_):K};return p.scale(167.774).center([0,18.67])};exports.geoHillRaw=hillRaw;exports.geoHomolosine=function(){return d3Geo.geoProjection(homolosineRaw).scale(152.63)};exports.geoHomolosineRaw=homolosineRaw;exports.geoHufnagel=function(){var a=1,b=0,psiMax=45*radians,ratio=2,mutate=d3Geo.geoProjectionMutator(hufnagelRaw),
projection=mutate(a,b,psiMax,ratio);projection.a=function(_){return arguments.length?mutate(a=+_,b,psiMax,ratio):a};projection.b=function(_){return arguments.length?mutate(a,b=+_,psiMax,ratio):b};projection.psiMax=function(_){return arguments.length?mutate(a,b,psiMax=+_*radians,ratio):psiMax*degrees};projection.ratio=function(_){return arguments.length?mutate(a,b,psiMax,ratio=+_):ratio};return projection.scale(180.739)};exports.geoHufnagelRaw=hufnagelRaw;exports.geoHyperelliptical=function(){var alpha=
0,k=2.5,gamma=1.183136,m=d3Geo.geoProjectionMutator(hyperellipticalRaw),p=m(alpha,k,gamma);p.alpha=function(_){return arguments.length?m(alpha=+_,k,gamma):alpha};p.k=function(_){return arguments.length?m(alpha,k=+_,gamma):k};p.gamma=function(_){return arguments.length?m(alpha,k,gamma=+_):gamma};return p.scale(152.63)};exports.geoHyperellipticalRaw=hyperellipticalRaw;exports.geoInterrupt=interrupt;exports.geoInterruptedBoggs=function(){return interrupt(boggsRaw,lobes).scale(160.857)};exports.geoInterruptedHomolosine=
function(){return interrupt(homolosineRaw,lobes$1).scale(152.63)};exports.geoInterruptedMollweide=function(){return interrupt(mollweideRaw,lobes$2).scale(169.529)};exports.geoInterruptedMollweideHemispheres=function(){return interrupt(mollweideRaw,lobes$3).scale(169.529).rotate([20,0])};exports.geoInterruptedSinuMollweide=function(){return interrupt(sinuMollweideRaw,lobes$4,solve2d).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};exports.geoInterruptedSinusoidal=function(){return interrupt(sinusoidalRaw,
lobes$5).scale(152.63).rotate([-20,0])};exports.geoKavrayskiy7=function(){return d3Geo.geoProjection(kavrayskiy7Raw).scale(158.837)};exports.geoKavrayskiy7Raw=kavrayskiy7Raw;exports.geoLagrange=function(){var n=.5,m=d3Geo.geoProjectionMutator(lagrangeRaw),p=m(n);p.spacing=function(_){return arguments.length?m(n=+_):n};return p.scale(124.75)};exports.geoLagrangeRaw=lagrangeRaw;exports.geoLarrivee=function(){return d3Geo.geoProjection(larriveeRaw).scale(97.2672)};exports.geoLarriveeRaw=larriveeRaw;
exports.geoLaskowski=function(){return d3Geo.geoProjection(laskowskiRaw).scale(139.98)};exports.geoLaskowskiRaw=laskowskiRaw;exports.geoLittrow=function(){return d3Geo.geoProjection(littrowRaw).scale(144.049).clipAngle(89.999)};exports.geoLittrowRaw=littrowRaw;exports.geoLoximuthal=function(){return parallel1(loximuthalRaw).parallel(40).scale(158.837)};exports.geoLoximuthalRaw=loximuthalRaw;exports.geoMiller=function(){return d3Geo.geoProjection(millerRaw).scale(108.318)};exports.geoMillerRaw=millerRaw;
exports.geoModifiedStereographic=modifiedStereographic;exports.geoModifiedStereographicRaw=modifiedStereographicRaw;exports.geoModifiedStereographicAlaska=function(){return modifiedStereographic(alaska,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)};exports.geoModifiedStereographicGs48=function(){return modifiedStereographic(gs48,[95,-38]).scale(1E3).clipAngle(55).center([-96.5563,38.8675])};exports.geoModifiedStereographicGs50=function(){return modifiedStereographic(gs50,
[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])};exports.geoModifiedStereographicMiller=function(){return modifiedStereographic(miller$1,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)};exports.geoModifiedStereographicLee=function(){return modifiedStereographic(lee,[165,10]).scale(250).clipAngle(130).center([-165,-10])};exports.geoMollweide=function(){return d3Geo.geoProjection(mollweideRaw).scale(169.529)};exports.geoMollweideRaw=mollweideRaw;exports.geoMtFlatPolarParabolic=
function(){return d3Geo.geoProjection(mtFlatPolarParabolicRaw).scale(164.859)};exports.geoMtFlatPolarParabolicRaw=mtFlatPolarParabolicRaw;exports.geoMtFlatPolarQuartic=function(){return d3Geo.geoProjection(mtFlatPolarQuarticRaw).scale(188.209)};exports.geoMtFlatPolarQuarticRaw=mtFlatPolarQuarticRaw;exports.geoMtFlatPolarSinusoidal=function(){return d3Geo.geoProjection(mtFlatPolarSinusoidalRaw).scale(166.518)};exports.geoMtFlatPolarSinusoidalRaw=mtFlatPolarSinusoidalRaw;exports.geoNaturalEarth2=function(){return d3Geo.geoProjection(naturalEarth2Raw).scale(175.295)};
exports.geoNaturalEarth2Raw=naturalEarth2Raw;exports.geoNellHammer=function(){return d3Geo.geoProjection(nellHammerRaw).scale(152.63)};exports.geoNellHammerRaw=nellHammerRaw;exports.geoInterruptedQuarticAuthalic=function(){return interrupt(hammerRaw(Infinity),lobes$6).rotate([20,0]).scale(152.63)};exports.geoNicolosi=function(){return d3Geo.geoProjection(nicolosiRaw).scale(127.267)};exports.geoNicolosiRaw=nicolosiRaw;exports.geoPatterson=function(){return d3Geo.geoProjection(pattersonRaw).scale(139.319)};
exports.geoPattersonRaw=pattersonRaw;exports.geoPolyconic=function(){return d3Geo.geoProjection(polyconicRaw).scale(103.74)};exports.geoPolyconicRaw=polyconicRaw;exports.geoPolyhedral=polyhedral;exports.geoPolyhedralButterfly=function(faceProjection){faceProjection=faceProjection||function(face){face=d3Geo.geoCentroid({type:"MultiPoint",coordinates:face});return d3Geo.geoGnomonic().scale(1).translate([0,0]).rotate([-face[0],-face[1]])};var faces=octahedron$1.map(function(face){return{face:face,project:faceProjection(face)}});
[-1,0,0,1,0,1,4,5].forEach(function(d,i){(d=faces[d])&&(d.children||(d.children=[])).push(faces[i])});return polyhedral(faces[0],function(lambda,phi){return faces[lambda<-pi$jscomp$0/2?0>phi?6:4:0>lambda?0>phi?2:0:lambda<pi$jscomp$0/2?0>phi?3:1:0>phi?7:5]}).angle(-30).scale(101.858).center([0,45])};exports.geoPolyhedralCollignon=function(faceProjection){faceProjection=faceProjection||function(face){face=d3Geo.geoCentroid({type:"MultiPoint",coordinates:face});return d3Geo.geoProjection(collignonK).translate([0,
0]).scale(1).rotate(0<face[1]?[-face[0],0]:[180-face[0],180])};var faces=octahedron$1.map(function(face){return{face:face,project:faceProjection(face)}});[-1,0,0,1,0,1,4,5].forEach(function(d,i){(d=faces[d])&&(d.children||(d.children=[])).push(faces[i])});return polyhedral(faces[0],function(lambda,phi){return faces[lambda<-pi$jscomp$0/2?0>phi?6:4:0>lambda?0>phi?2:0:lambda<pi$jscomp$0/2?0>phi?3:1:0>phi?7:5]}).angle(-30).scale(121.906).center([0,48.5904])};exports.geoPolyhedralWaterman=function(faceProjection){faceProjection=
faceProjection||function(face){face=6===face.length?d3Geo.geoCentroid({type:"MultiPoint",coordinates:face}):face[0];return d3Geo.geoGnomonic().scale(1).translate([0,0]).rotate([-face[0],-face[1]])};var w5=octahedron$1.map(function(face){face=face.map(cartesian$jscomp$0);for(var n=face.length,a=face[n-1],b,hexagon=[],i=0;i<n;++i)b=face[i],hexagon.push(spherical([.9486832980505138*a[0]+.31622776601683794*b[0],.9486832980505138*a[1]+.31622776601683794*b[1],.9486832980505138*a[2]+.31622776601683794*b[2]]),
spherical([.9486832980505138*b[0]+.31622776601683794*a[0],.9486832980505138*b[1]+.31622776601683794*a[1],.9486832980505138*b[2]+.31622776601683794*a[2]])),a=b;return hexagon}),cornerNormals=[],parents=[-1,0,0,1,0,1,4,5];w5.forEach(function(hexagon,j){for(var face=octahedron$1[j],n=face.length,normals=cornerNormals[j]=[],i=0;i<n;++i)w5.push([face[i],hexagon[(2*i+2)%(2*n)],hexagon[(2*i+1)%(2*n)]]),parents.push(j),normals.push(cross(cartesian$jscomp$0(hexagon[(2*i+2)%(2*n)]),cartesian$jscomp$0(hexagon[(2*
i+1)%(2*n)])))});var faces=w5.map(function(face){return{project:faceProjection(face),face:face}});parents.forEach(function(d,i){(d=faces[d])&&(d.children||(d.children=[])).push(faces[i])});return polyhedral(faces[0],function(lambda,phi){var cosphi=cos(phi);cosphi=[cosphi*cos(lambda),cosphi*sin(lambda),sin(phi)];lambda=lambda<-pi$jscomp$0/2?0>phi?6:4:0>lambda?0>phi?2:0:lambda<pi$jscomp$0/2?0>phi?3:1:0>phi?7:5;phi=cornerNormals[lambda];return faces[0>dot(phi[0],cosphi)?8+3*lambda:0>dot(phi[1],cosphi)?
3*lambda+9:0>dot(phi[2],cosphi)?3*lambda+10:lambda]}).angle(-30).scale(110.625).center([0,45])};exports.geoProject=function(object,projection){projection=projection.stream;if(!projection)throw Error("invalid projection");switch(object&&object.type){case "Feature":var project=projectFeature;break;case "FeatureCollection":project=projectFeatureCollection;break;default:project=projectGeometry}return project(object,projection)};exports.geoGringortenQuincuncial=function(){return quincuncial(gringortenRaw).scale(176.423)};
exports.geoPeirceQuincuncial=function(){return quincuncial(guyouRaw).scale(111.48)};exports.geoQuantize=function(input$jscomp$0,digits){function quantizePoint(input){var n=input.length,i=2,output=Array(n);output[0]=+input[0].toFixed(digits);for(output[1]=+input[1].toFixed(digits);i<n;)output[i]=input[i],++i;return output}function quantizePointsNoDuplicates(input){for(var point0=quantizePoint(input[0]),output=[point0],i=1;i<input.length;i++){var point=quantizePoint(input[i]);if(2<point.length||point[0]!=
point0[0]||point[1]!=point0[1])output.push(point),point0=point}1===output.length&&1<input.length&&output.push(quantizePoint(input[input.length-1]));return output}function quantizePolygon(input){return input.map(quantizePointsNoDuplicates)}function quantizeGeometry(input){if(null==input)return input;switch(input.type){case "GeometryCollection":var output={type:"GeometryCollection",geometries:input.geometries.map(quantizeGeometry)};break;case "Point":output={type:"Point",coordinates:quantizePoint(input.coordinates)};
break;case "MultiPoint":output={type:input.type,coordinates:input.coordinates.map(quantizePoint)};break;case "LineString":output={type:input.type,coordinates:quantizePointsNoDuplicates(input.coordinates)};break;case "MultiLineString":case "Polygon":output={type:input.type,coordinates:quantizePolygon(input.coordinates)};break;case "MultiPolygon":output={type:"MultiPolygon",coordinates:input.coordinates.map(quantizePolygon)};break;default:return input}null!=input.bbox&&(output.bbox=input.bbox);return output}
function quantizeFeature(input){var output={type:"Feature",properties:input.properties,geometry:quantizeGeometry(input.geometry)};null!=input.id&&(output.id=input.id);null!=input.bbox&&(output.bbox=input.bbox);return output}if(!(0<=(digits=+digits)&&20>=digits))throw Error("invalid digits");if(null!=input$jscomp$0)switch(input$jscomp$0.type){case "Feature":return quantizeFeature(input$jscomp$0);case "FeatureCollection":var output$jscomp$0={type:"FeatureCollection",features:input$jscomp$0.features.map(quantizeFeature)};
null!=input$jscomp$0.bbox&&(output$jscomp$0.bbox=input$jscomp$0.bbox);return output$jscomp$0;default:return quantizeGeometry(input$jscomp$0)}return input$jscomp$0};exports.geoQuincuncial=quincuncial;exports.geoRectangularPolyconic=function(){return parallel1(rectangularPolyconicRaw).scale(131.215)};exports.geoRectangularPolyconicRaw=rectangularPolyconicRaw;exports.geoRobinson=function(){return d3Geo.geoProjection(robinsonRaw).scale(152.63)};exports.geoRobinsonRaw=robinsonRaw;exports.geoSatellite=
function(){var distance=2,omega=0,m=d3Geo.geoProjectionMutator(satelliteRaw),p=m(distance,omega);p.distance=function(_){return arguments.length?m(distance=+_,omega):distance};p.tilt=function(_){return arguments.length?m(distance,omega=_*radians):omega*degrees};return p.scale(432.147).clipAngle(acos(1/distance)*degrees-1E-6)};exports.geoSatelliteRaw=satelliteRaw;exports.geoSinuMollweide=function(){return d3Geo.geoProjection(sinuMollweideRaw).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};exports.geoSinuMollweideRaw=
sinuMollweideRaw;exports.geoSinusoidal=function(){return d3Geo.geoProjection(sinusoidalRaw).scale(152.63)};exports.geoSinusoidalRaw=sinusoidalRaw;exports.geoStitch=function(input){if(null==input)return input;switch(input.type){case "Feature":return stitchFeature(input);case "FeatureCollection":var output={type:"FeatureCollection",features:input.features.map(stitchFeature)};null!=input.bbox&&(output.bbox=input.bbox);return output;default:return stitchGeometry(input)}};exports.geoTimes=function(){return d3Geo.geoProjection(timesRaw).scale(146.153)};
exports.geoTimesRaw=timesRaw;exports.geoTwoPointAzimuthal=twoPointAzimuthal;exports.geoTwoPointAzimuthalRaw=twoPointAzimuthalRaw;exports.geoTwoPointAzimuthalUsa=function(){return twoPointAzimuthal([-158,21.5],[-77,39]).clipAngle(60).scale(400)};exports.geoTwoPointEquidistant=twoPointEquidistant;exports.geoTwoPointEquidistantRaw=twoPointEquidistantRaw;exports.geoTwoPointEquidistantUsa=function(){return twoPointEquidistant([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)};exports.geoVanDerGrinten=
function(){return d3Geo.geoProjection(vanDerGrintenRaw).scale(79.4183)};exports.geoVanDerGrintenRaw=vanDerGrintenRaw;exports.geoVanDerGrinten2=function(){return d3Geo.geoProjection(vanDerGrinten2Raw).scale(79.4183)};exports.geoVanDerGrinten2Raw=vanDerGrinten2Raw;exports.geoVanDerGrinten3=function(){return d3Geo.geoProjection(vanDerGrinten3Raw).scale(79.4183)};exports.geoVanDerGrinten3Raw=vanDerGrinten3Raw;exports.geoVanDerGrinten4=function(){return d3Geo.geoProjection(vanDerGrinten4Raw).scale(127.16)};
exports.geoVanDerGrinten4Raw=vanDerGrinten4Raw;exports.geoWagner=wagner;exports.geoWagner7=function(){return wagner().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)};exports.geoWagnerRaw=wagnerRaw;exports.geoWagner4=function(){return d3Geo.geoProjection(wagner4Raw).scale(176.84)};exports.geoWagner4Raw=wagner4Raw;exports.geoWagner6=function(){return d3Geo.geoProjection(wagner6Raw).scale(152.63)};exports.geoWagner6Raw=wagner6Raw;exports.geoWiechel=function(){return d3Geo.geoProjection(wiechelRaw).rotate([0,
-90,45]).scale(124.75).clipAngle(179.999)};exports.geoWiechelRaw=wiechelRaw;exports.geoWinkel3=function(){return d3Geo.geoProjection(winkel3Raw).scale(158.837)};exports.geoWinkel3Raw=winkel3Raw;Object.defineProperty(exports,"__esModule",{value:!0})})}
//# sourceMappingURL=module$node_modules$d3_geo_projection$dist$d3_geo_projection.js.map
