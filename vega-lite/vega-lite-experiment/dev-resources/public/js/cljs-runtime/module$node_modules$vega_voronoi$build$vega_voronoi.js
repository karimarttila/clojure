shadow$provide.module$node_modules$vega_voronoi$build$vega_voronoi=function(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){"object"===typeof exports$jscomp$0&&"undefined"!==typeof module?factory(exports$jscomp$0,require("module$node_modules$vega_dataflow$build$vega_dataflow"),require("module$node_modules$vega_util$build$vega_util"),require("module$node_modules$d3_delaunay$dist$d3_delaunay")):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util",
"d3-delaunay"],factory):(global="undefined"!==typeof globalThis?globalThis:global||self,factory((global.vega=global.vega||{},global.vega.transforms={}),global.vega,global.vega,global.d3))})(this,function(exports,vegaDataflow,vegaUtil,d3Delaunay){function Voronoi(params){vegaDataflow.Transform.call(this,null,params)}Voronoi.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},
{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};var defaultExtent=[-1E5,-1E5,1E5,1E5];vegaUtil.inherits(Voronoi,vegaDataflow.Transform,{transform:function(_,pulse){var as=_.as||"path",data=pulse.source;if(!data||!data.length)return pulse;var s=_.size;s=s?[0,0,s[0],s[1]]:(s=_.extent)?[s[0][0],s[0][1],s[1][0],s[1][1]]:defaultExtent;s=this.value=d3Delaunay.Delaunay.from(data,_.x,_.y).voronoi(s);
for(var i=0,n=data.length;i<n;++i){var polygon=s.cellPolygon(i),JSCompiler_temp_const=data[i];if(polygon){for(var x=polygon[0][0],y=polygon[0][1],n$jscomp$0=polygon.length-1;polygon[n$jscomp$0][0]===x&&polygon[n$jscomp$0][1]===y;--n$jscomp$0);polygon="M"+polygon.slice(0,n$jscomp$0+1).join("L")+"Z"}else polygon=null;JSCompiler_temp_const[as]=polygon}return pulse.reflow(_.modified()).modifies(as)}});exports.voronoi=Voronoi;Object.defineProperty(exports,"__esModule",{value:!0})})}
//# sourceMappingURL=module$node_modules$vega_voronoi$build$vega_voronoi.js.map
